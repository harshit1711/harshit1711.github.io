<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WorkIndia — Tools for Everyone Working With India | Time, Holidays, Markets & More</title>
  <meta name="description" content="Is India open right now? WorkIndia gives you live IST time, India office hours status, EST/PST/GMT to IST converter, NSE/BSE market hours, India public holidays, shift overlap planner and NRI tools — free, instant, no signup." />
  <meta name="keywords" content="is India open right now, India office hours, India working hours today, India holiday today, EST to IST, PST to IST, GMT to IST, what time is it in India, India time for remote teams, NSE market hours EST, BSE open time UK, India US work overlap, India UK time difference, India timezone converter, India shift planner, India public holidays 2026, is today a holiday in India, NRI 183 day rule, invoice due date calculator, notice period calculator India, work with India tools" />
  <meta name="author" content="Harshit1711" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://harshit1711.github.io/" />
  <meta property="og:title" content="WorkIndia — Is India Open Right Now? Tools for Global Teams Working With India" />
  <meta property="og:description" content="Live IST clock, India office hours status, EST/PST/GMT to IST converter, NSE/BSE market hours, India holidays, shift planner &amp; NRI tools. Free, instant, no signup." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://harshit1711.github.io/" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:site_name" content="WorkIndia" />
  <meta property="og:image" content="https://harshit1711.github.io/og-image.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="WorkIndia — Is India Open Right Now? Tools for Global Teams" />
  <meta name="twitter:description" content="Live IST clock, India office hours, EST/PST/GMT→IST, NSE/BSE market hours, India holidays & shift planner. Free, no signup." />
  <meta name="twitter:image" content="https://harshit1711.github.io/og-image.png" />
  <meta name="twitter:creator" content="@harshit1711" />
  <meta name="twitter:site" content="@harshit1711" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#x1F1EE;&#x1F1F3;</text></svg>" />
  <link rel="apple-touch-icon" href="https://harshit1711.github.io/og-image.png" />
  <link rel="sitemap" type="application/xml" href="https://harshit1711.github.io/sitemap.xml" />
  <link rel="preconnect" href="https://pagead2.googlesyndication.com" />
  <link rel="preconnect" href="https://www.googletagservices.com" />
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","name":"WorkIndia","alternateName":"WorkIndia — Tools for Working With India","url":"https://harshit1711.github.io/","description":"Free tools for global professionals working with India: live IST clock, India office hours status, timezone converter, NSE/BSE market hours, India public holidays, shift planner, NRI 183-day tracker, invoice and notice period calculators.","author":{"@type":"Person","name":"Harshit Yadav"}}
  </script>

  <style>
    *,*::before,*::after{box-sizing:border-box}
    body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;max-width:100%;margin:0;padding:0;background:#f9fbfd;color:#222f3e;line-height:1.6;-webkit-font-smoothing:antialiased}
    .main-layout{display:flex;flex-direction:row;align-items:flex-start;gap:2.5rem}
    .main-content{flex:1 1 0%;min-width:0}
    .sidebar-ad{flex:0 0 180px;min-width:160px;max-width:300px;margin-top:2.5rem;display:flex;flex-direction:column;align-items:center;position:sticky;top:2.5rem;height:fit-content;z-index:10;background:#fffbe6;border:1px solid #e6c200;border-radius:10px}
    @media(max-width:900px){.main-layout{flex-direction:column;gap:0}.sidebar-ad{position:static;margin-top:2rem;margin-bottom:2rem;width:100%;max-width:100%;min-width:0;height:auto;order:2}.main-content{order:1;margin-bottom:2.5rem}}
    @media(max-width:600px){.sidebar-ad{display:none!important}}
    h1,h2{color:#0a54a0;font-weight:700;margin:0 0 0.25rem;line-height:1.15}
    h1{font-size:2.5rem;text-align:center;margin-bottom:0.35rem}
    h2{font-size:1.75rem;margin-bottom:0.75rem;border-bottom:2px solid #0a54a0;padding-bottom:0.25rem}
    p{margin:0.75rem 0 1.25rem;font-size:1rem}
    header>p{font-size:1.125rem;color:#3d4651;text-align:center;margin-bottom:2rem;font-weight:500}
    footer{text-align:center;font-size:0.9rem;color:#707070;padding:1rem 0;border-top:1px solid #d3d6db}
    input[type=text],input[type=datetime-local],input[type=date]{width:100%;padding:0.6rem 1rem;font-size:1rem;border-radius:8px;border:2px solid #b8c3d7;transition:border-color 0.3s;outline-offset:2px}
    input:focus{border-color:#0a54a0;outline:none}
    button{width:100%;padding:0.9rem 0;background:#0a54a0;color:#fff;font-weight:700;font-size:1.2rem;border:none;border-radius:10px;cursor:pointer;transition:background 0.25s;margin-top:1rem}
    button:hover,button:focus{background:#093f78}
    select{width:100%;padding:0.6rem 1rem;font-size:1rem;border-radius:8px;border:2px solid #b8c3d7;background:#fff}
    .time-display{background:#e6f0fa;border-radius:12px;padding:1.5rem 2rem;margin-bottom:2.5rem;box-shadow:0 0 15px rgba(10,84,160,0.12)}
    .time-display p{font-size:1.125rem;line-height:1.4;color:#1c2025;margin-bottom:1rem;font-weight:600;display:flex;align-items:center;gap:0.4rem;justify-content:space-between}
    .time-text{font-family:'Courier New',monospace;background:#c5d7f5;padding:0.15rem 0.6rem;border-radius:6px;color:#0a2e72;user-select:all;min-width:160px;text-align:center;flex-grow:1;margin-right:0.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .copy-btn{background:transparent;border:none;cursor:pointer;padding:0;margin-left:4px;width:20px;height:20px;position:relative;display:flex;align-items:center;justify-content:center;color:#0a54a0;transition:color 0.2s;flex-shrink:0}
    .copy-btn:hover{color:#093f78}
    .copied-tooltip{position:absolute;top:-30px;left:50%;transform:translateX(-50%);background:#0a54a0;color:#fff;font-size:0.75rem;padding:4px 8px;border-radius:4px;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity 0.3s;z-index:10}
    .copied-tooltip.show{opacity:1}
    .converter{background:#f3f6fb;border-radius:12px;padding:1.75rem 2rem;margin-bottom:2.5rem;box-shadow:inset 0 0 8px rgba(0,0,0,0.04)}
    .result{margin-top:1rem;color:#0a54a0;font-weight:600;font-family:'Courier New',monospace;font-size:1.125rem;min-height:2rem;text-align:center}
    .footnote{text-align:center;font-size:0.85rem;color:#637381;margin-bottom:3rem}
    .qc-grid{display:grid;grid-template-columns:1fr auto 1fr auto;gap:0.75rem;align-items:end}
    .two-col-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    .two-col-grid-lg{display:grid;grid-template-columns:1fr 1fr;gap:2rem}
    @media(max-width:600px){.qc-grid{grid-template-columns:1fr 1fr}.qc-arrow{display:none!important}.qc-time{grid-column:1/-1}.two-col-grid,.two-col-grid-lg{grid-template-columns:1fr}}
    /* ── SIDEBAR NAV ─────────────────────────────────────────────── */
    #app-shell{display:block;min-height:100vh;}
    #sidenav{width:220px;background:#fff;border-right:1.5px solid #d0dff5;overflow-y:auto;display:flex;flex-direction:column;z-index:200;}
    #sidenav-inner{padding:0 0 2rem;flex:1;}
    #sidenav-logo{padding:0.8rem 1.1rem 0.6rem;border-bottom:1px solid #e8eef8;}
    #sidenav-logo .snav-brand{display:block;}
    #sidenav-logo .snav-title{font-size:0.95rem;font-weight:800;color:#0a54a0;line-height:1.2;}
    #sidenav-logo .snav-ist{font-size:1.3rem;font-weight:800;font-family:monospace;color:#c05000;}
    .snav-group{margin-top:0.6rem;}
    .snav-group-hdr{display:flex;align-items:center;justify-content:space-between;padding:0.45rem 1.1rem 0.3rem;cursor:pointer;user-select:none;}
    .snav-group-hdr:hover{background:#f0f6ff;}
    .snav-group-label{font-size:0.68rem;font-weight:800;color:#7a99c0;text-transform:uppercase;letter-spacing:0.1em;}
    .snav-group-arrow{font-size:0.7rem;color:#aac;transition:transform 0.2s;}
    .snav-group.collapsed .snav-group-arrow{transform:rotate(-90deg);}
    .snav-group-items{overflow:hidden;}
    .snav-group.collapsed .snav-group-items{display:none;}
    .snav-btn{display:flex;align-items:center;gap:0.55rem;width:100%;padding:0.52rem 1.1rem 0.52rem 1.3rem;background:transparent;border:none;border-left:3px solid transparent;color:#374151;font-size:0.875rem;font-weight:500;cursor:pointer;text-align:left;transition:background 0.15s,color 0.15s,border-color 0.15s;margin:0;border-radius:0;white-space:nowrap;}
    .snav-btn:hover{background:#f0f6ff;color:#0a54a0;border-left-color:#b8d0f8;}
    .snav-btn.active{background:#e8f1ff;color:#0a54a0;border-left-color:#0a54a0;font-weight:700;}
    .snav-btn .snav-icon{font-size:1rem;flex-shrink:0;width:1.2rem;text-align:center;}
    /* ═══════════════════════════════════════════════════════════
       SIDEBAR — industry-standard CSS-class-driven layout
       State stored on <body data-nav="open|closed">
       JS never touches style.left — CSS owns all positioning
    ═══════════════════════════════════════════════════════════ */

    /* ── Toggle button: fixed, always visible ── */
    #snav-toggle{
      position:fixed;top:0;z-index:300;
      width:44px;height:44px;
      display:flex;align-items:center;justify-content:center;
      background:#0a54a0;color:#fff;
      border:none;border-radius:0 0 8px 0;
      font-size:1.2rem;cursor:pointer;
      box-shadow:2px 2px 8px rgba(10,84,160,0.2);
      transition:left 0.25s;
      padding:0;
    }
    #snav-toggle:hover{background:#0c62b8;}

    /* ── Overlay (mobile only) ── */
    #snav-overlay{
      display:none;position:fixed;inset:0;
      background:rgba(0,0,0,0.35);z-index:199;
    }

    /* ── Sidebar ── */
    #sidenav{
      position:fixed;top:0;left:0;height:100vh;
      box-shadow:2px 0 12px rgba(10,84,160,0.08);
      transition:transform 0.25s;
      z-index:200;
    }

    /* ── Content area ── */
    #content-area{
      flex:1 1 0%;min-width:0;
      padding:1.5rem 2rem;
      transition:margin-left 0.25s;
    }

    /* ══ DESKTOP (>860px): sidebar always rendered, toggle rides its edge ══ */
    @media(min-width:861px){
      #sidenav{transform:translateX(0);}
      #content-area{margin-left:220px;}
      #snav-toggle{left:220px;}
      /* Collapsed state on desktop */
      body[data-nav="closed"] #sidenav{transform:translateX(-220px);}
      body[data-nav="closed"] #content-area{margin-left:0;}
      body[data-nav="closed"] #snav-toggle{left:0;}
    }

    /* ══ MOBILE (≤860px): sidebar off-screen by default, slides in on open ══ */
    @media(max-width:860px){
      #sidenav{transform:translateX(-100%);}
      #content-area{margin-left:0 !important;padding:1rem;margin-top:48px;}
      #snav-toggle{left:0;}
      /* Open state on mobile */
      body[data-nav="open"] #sidenav{transform:translateX(0);}
      body[data-nav="open"] #snav-toggle{left:220px;}
      body[data-nav="open"] #snav-overlay{display:block;}
    }
    @media(max-width:480px){#content-area{padding:0.75rem 0.8rem;margin-top:48px;}}
    /* ── keep existing component styles ── */
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .accordion-header{display:flex;justify-content:space-between;align-items:center;cursor:pointer;user-select:none;padding:1rem 1.25rem;background:#f3f6fb;border-radius:10px;margin-bottom:0.5rem;transition:background 0.18s}
    .accordion-header:hover{background:#e6f0fa}
    .accordion-header h2{margin:0;font-size:1.25rem;border-bottom:none;padding:0}
    .accordion-arrow{font-size:1.1rem;color:#0a54a0;transition:transform 0.25s;flex-shrink:0}
    .accordion-header.open .accordion-arrow{transform:rotate(180deg)}
    .accordion-body{display:none;padding:0.25rem 0 0.75rem}
    .accordion-body.open{display:block}
    .adsbygoogle:empty{display:none!important}
    details>summary{list-style:none;outline:none;}
    details>summary::-webkit-details-marker{display:none;}
    details>summary:hover{color:#0a54a0;}
    .city-clock-card{background:#fff;border-radius:12px;padding:1rem 1.1rem;box-shadow:0 2px 10px rgba(10,84,160,0.10);border:1px solid #e0eaff;text-align:center;}
    .city-clock-card .cc-city{font-size:0.8rem;font-weight:700;color:#637381;text-transform:uppercase;letter-spacing:0.05em;margin-bottom:0.1rem;}
    .city-clock-card .cc-time{font-size:1.55rem;font-weight:800;font-family:'Courier New',monospace;color:#0a3a86;line-height:1.1;}
    .city-clock-card .cc-date{font-size:0.76rem;color:#888;margin-top:0.1rem;}
    .city-clock-card .cc-diff{font-size:0.76rem;font-weight:700;margin-top:0.3rem;padding:0.12rem 0.5rem;border-radius:10px;display:inline-block;}
    .city-clock-card.ist-card{background:linear-gradient(135deg,#fff8e6 0%,#fff3d0 100%);border:2px solid #f7931e;}
    .city-clock-card.ist-card .cc-city{color:#c05000;font-size:0.85rem;}
    .city-clock-card.ist-card .cc-time{color:#c05000;font-size:1.9rem;}
    /* legacy tnav stubs — keep for JS compatibility */
    .tnav-group-label{display:none;}
    .tnav-divider{display:none;}
  </style>
</head>
<body>
<!-- SEO: crawlable links to dedicated tool pages — real URLs Google can index -->
<nav aria-label="Tool index" style="position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;">
  <a href="/age-calculator.html">Age Calculator India</a>
  <a href="/ist-converter.html">IST Timezone Converter</a>
  <a href="/world-clock.html">World Clock India</a>
  <a href="/meeting-planner.html">India Meeting Planner</a>
  <a href="/call-india.html">Is It a Good Time to Call India?</a>
  <a href="/dst-tracker.html">DST Transition Countdown</a>
  <a href="/date-calculator.html">Date Calculator India</a>
  <a href="/epoch-converter.html">Unix Epoch Converter IST</a>
  <a href="/timestamp-converter.html">Timestamp Converter India</a>
  <a href="/nse-bse-market-hours.html">NSE BSE Market Hours</a>
  <a href="/india-shift-planner.html">India Shift Planner</a>
  <a href="/india-holidays-2026.html">India Public Holidays 2026</a>
  <a href="/nri-183-days.html">NRI 183 Day Tax Tracker</a>
  <a href="/invoice-due-date.html">Invoice Due Date Calculator</a>
  <a href="/notice-period-calculator.html">Notice Period Calculator India</a>
  <a href="/cron-to-ist.html">Cron to IST Converter</a>
  <a href="/timezone-abbreviations.html">Timezone Abbreviations Guide</a>
</nav>
<noscript><div style="background:#fffbe6;border:2px solid #ffe58f;border-radius:10px;padding:1.5rem;margin-bottom:2rem;color:#7a5a00;font-size:1.1rem;"><strong>JavaScript is disabled.</strong> This timezone converter requires JavaScript.<br><br><b>Quick Reference:</b> UTC+0:00=UTC | UTC+5:30=IST | UTC-5:00=EST | UTC-8:00=PST | UTC+1:00=CET | UTC+9:00=JST</div></noscript>

<button id="snav-toggle" onclick="toggleSidenav()" aria-label="Toggle navigation" title="Toggle sidebar">&#9776;</button>
<div id="snav-overlay" onclick="closeSidenav()"></div>

<div id="app-shell">

<!-- ═══ SIDEBAR NAV ═══════════════════════════════════════════════ -->
<nav id="sidenav" aria-label="Tool navigation">
  <div id="sidenav-inner">
    <div id="sidenav-logo">
      <div class="snav-brand">
        <div class="snav-title">&#x1F1EE;&#x1F1F3; WorkIndia</div>
        <div class="snav-ist" id="snavIstClock">--:--</div>
      </div>
    </div>

    <!-- TIME -->
    <div class="snav-group" id="sgrp-time">
      <div class="snav-group-hdr" onclick="toggleSnavGroup('sgrp-time')">
        <span class="snav-group-label">&#x1F551; Time</span>
        <span class="snav-group-arrow">&#x25BC;</span>
      </div>
      <div class="snav-group-items">
        <button class="snav-btn active" id="snav-home" onclick="showTab('tab-home',this);closeSidenav()"><span class="snav-icon">&#x1F3E0;</span>Home</button>
        <button class="snav-btn" id="snav-tzconv" onclick="showTab('tab-tzconv',this);closeSidenav()"><span class="snav-icon">&#x1F504;</span>Convert</button>
        <button class="snav-btn" id="snav-worldclock" onclick="showTab('tab-worldclock',this);closeSidenav()"><span class="snav-icon">&#x1F30D;</span>World Clock</button>
        <button class="snav-btn" id="snav-meeting" onclick="showTab('tab-meeting',this);closeSidenav()"><span class="snav-icon">&#x1F91D;</span>Meeting Planner</button>
        <button class="snav-btn" id="snav-callnow" onclick="showTab('tab-callnow',this);closeSidenav()"><span class="snav-icon">&#x1F4DE;</span>Call India?</button>
        <button class="snav-btn" id="snav-dst" onclick="showTab('tab-dst',this);closeSidenav()"><span class="snav-icon">&#x1F501;</span>DST Tracker</button>
      </div>
    </div>

    <!-- DATES -->
    <div class="snav-group" id="sgrp-dates">
      <div class="snav-group-hdr" onclick="toggleSnavGroup('sgrp-dates')">
        <span class="snav-group-label">&#x1F4C5; Dates</span>
        <span class="snav-group-arrow">&#x25BC;</span>
      </div>
      <div class="snav-group-items">
        <button class="snav-btn" id="snav-duration" onclick="showTab('tab-duration',this);closeSidenav()"><span class="snav-icon">&#x1F4C6;</span>Date Calc</button>
        <button class="snav-btn" id="snav-epoch" onclick="showTab('tab-epoch',this);closeSidenav()"><span class="snav-icon">&#x23F1;</span>Epoch</button>
        <button class="snav-btn" id="snav-timestamp" onclick="showTab('tab-timestamp',this);closeSidenav()"><span class="snav-icon">&#x1F4CB;</span>Timestamp</button>
      </div>
    </div>

    <!-- WORK TOOLS -->
    <div class="snav-group" id="sgrp-work">
      <div class="snav-group-hdr" onclick="toggleSnavGroup('sgrp-work')">
        <span class="snav-group-label">&#x1F4BC; Work Tools</span>
        <span class="snav-group-arrow">&#x25BC;</span>
      </div>
      <div class="snav-group-items">
        <button class="snav-btn" id="snav-market" onclick="showTab('tab-market',this);closeSidenav()"><span class="snav-icon">&#x1F4C8;</span>Market Hours</button>
        <button class="snav-btn" id="snav-shift" onclick="showTab('tab-shift',this);closeSidenav()"><span class="snav-icon">&#x1F303;</span>Shift Planner</button>
        <button class="snav-btn" id="snav-holidays" onclick="showTab('tab-holidays',this);closeSidenav()"><span class="snav-icon">&#x1F38A;</span>Holidays</button>
        <button class="snav-btn" id="snav-nri183" onclick="showTab('tab-nri183',this);closeSidenav()"><span class="snav-icon">&#x2708;</span>NRI 183 Days</button>
        <button class="snav-btn" id="snav-invoice" onclick="showTab('tab-invoice',this);closeSidenav()"><span class="snav-icon">&#x1F9FE;</span>Invoice Due Date</button>
        <button class="snav-btn" id="snav-notice" onclick="showTab('tab-notice',this);closeSidenav()"><span class="snav-icon">&#x1F4CB;</span>Notice Period</button>
      </div>
    </div>

    <!-- DEV TOOLS -->
    <div class="snav-group" id="sgrp-dev">
      <div class="snav-group-hdr" onclick="toggleSnavGroup('sgrp-dev')">
        <span class="snav-group-label">&#x1F6E0; Dev Tools</span>
        <span class="snav-group-arrow">&#x25BC;</span>
      </div>
      <div class="snav-group-items">
        <button class="snav-btn" id="snav-abbr" onclick="showTab('tab-abbr',this);closeSidenav()"><span class="snav-icon">&#x1F3F7;</span>TZ Abbreviations</button>
        <button class="snav-btn" id="snav-cron" onclick="showTab('tab-cron',this);closeSidenav()"><span class="snav-icon">&#x2699;</span>Cron Converter</button>
        <button class="snav-btn" id="snav-info" onclick="showTab('tab-info',this);closeSidenav()"><span class="snav-icon">&#x2139;</span>About / Info</button>
      </div>
    </div>
  </div>
</nav>
<!-- ═══ END SIDEBAR ═════════════════════════════════════════════════ -->

<div id="content-area">
<main id="main" tabindex="-1">
<div class="main-layout">
<div class="main-content" id="mainContent" role="main">

<header>
  <h1>&#x1F1EE;&#x1F1F3; WorkIndia</h1>
  <p>Your command centre for working with India &mdash; time, holidays, markets &amp; team tools for global professionals. Free, instant, no signup.</p>
</header>

<!-- legacy hidden nav: keeps all btn-* IDs alive for routeFromHash -->
<nav id="tool-nav" aria-hidden="true" style="display:none;">
  <button class="tnav-btn active" id="btn-home" tabindex="-1" aria-label="Home" onclick="showTab('tab-home',this)"></button>
  <button class="tnav-btn" id="btn-tzconv" tabindex="-1" aria-label="Timezone Converter" onclick="showTab('tab-tzconv',this)"></button>
  <button class="tnav-btn" id="btn-worldclock" tabindex="-1" aria-label="World Clock" onclick="showTab('tab-worldclock',this)"></button>
  <button class="tnav-btn" id="btn-meeting" tabindex="-1" aria-label="Meeting Planner" onclick="showTab('tab-meeting',this)"></button>
  <button class="tnav-btn" id="btn-callnow" tabindex="-1" aria-label="Call India" onclick="showTab('tab-callnow',this)"></button>
  <button class="tnav-btn" id="btn-dst" tabindex="-1" aria-label="DST Tracker" onclick="showTab('tab-dst',this)"></button>
  <button class="tnav-btn" id="btn-date" tabindex="-1" aria-label="Date Calculator" onclick="showTab('tab-duration',this)"></button>
  <button class="tnav-btn" id="btn-epoch" tabindex="-1" aria-label="Epoch Converter" onclick="showTab('tab-epoch',this)"></button>
  <button class="tnav-btn" id="btn-timestamp" tabindex="-1" aria-label="Timestamp Converter" onclick="showTab('tab-timestamp',this)"></button>
  <button class="tnav-btn" id="btn-market" tabindex="-1" aria-label="Market Hours" onclick="showTab('tab-market',this)"></button>
  <button class="tnav-btn" id="btn-shift" tabindex="-1" aria-label="Shift Planner" onclick="showTab('tab-shift',this)"></button>
  <button class="tnav-btn" id="btn-holidays" tabindex="-1" aria-label="India Holidays" onclick="showTab('tab-holidays',this)"></button>
  <button class="tnav-btn" id="btn-nri183" tabindex="-1" aria-label="NRI 183 Days" onclick="showTab('tab-nri183',this)"></button>
  <button class="tnav-btn" id="btn-invoice" tabindex="-1" aria-label="Invoice Due Date" onclick="showTab('tab-invoice',this)"></button>
  <button class="tnav-btn" id="btn-notice" tabindex="-1" aria-label="Notice Period Calculator" onclick="showTab('tab-notice',this)"></button>
  <button class="tnav-btn" id="btn-abbr" tabindex="-1" aria-label="Timezone Abbreviations" onclick="showTab('tab-abbr',this)"></button>
  <button class="tnav-btn" id="btn-cron" tabindex="-1" aria-label="Cron to IST" onclick="showTab('tab-cron',this)"></button>
  <button class="tnav-btn" id="btn-info" tabindex="-1" aria-label="About" onclick="showTab('tab-info',this)"></button>
</nav>
<!-- TAB: HOME -->
<div id="tab-home" class="tab-panel active">

<!-- HERO: "Is India open right now?" — primary value prop for global audience -->
<section aria-label="India office hours status" style="background:linear-gradient(135deg,#0a54a0 0%,#1a75d2 100%);border-radius:16px;margin-bottom:1.5rem;padding:1.5rem 2rem;box-shadow:0 4px 20px rgba(10,84,160,0.25);text-align:center;">
  <!-- Status badge — rendered by JS -->
  <div id="indiaStatusBadge" style="display:inline-flex;align-items:center;gap:0.5rem;background:rgba(255,255,255,0.15);border-radius:30px;padding:0.35rem 1rem;margin-bottom:0.75rem;font-size:0.9rem;font-weight:700;color:#fff;"></div>
  <!-- IST clock -->
  <div style="color:rgba(255,255,255,0.7);font-size:0.78rem;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:0.15rem;">India Standard Time &mdash; UTC+5:30 &mdash; No DST ever</div>
  <div id="heroIstTime" style="font-size:3rem;font-weight:800;color:#fff;font-family:'Courier New',monospace;letter-spacing:0.04em;line-height:1.1;">--:--:--</div>
  <div id="heroIstDate" style="font-size:1rem;color:#b8d8ff;font-weight:600;margin-top:0.15rem;"></div>
  <!-- Next event line -->
  <div id="heroNextEvent" style="margin-top:0.6rem;font-size:0.85rem;color:rgba(255,255,255,0.75);min-height:1.2em;"></div>
  <!-- Diff strip -->
  <div style="margin-top:0.9rem;display:flex;flex-wrap:wrap;justify-content:center;gap:0.6rem;" id="heroDiffStrip"></div>
</section>

<section id="quick-convert" aria-label="What time is it in these cities right now">

  <!-- INSTANT CITY CLOCKS: zero interaction needed -->
  <div id="instantCityClocks" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:0.9rem;margin-bottom:1.5rem;"></div>

  <!-- PLAIN ENGLISH CONVERTER -->
  <div style="background:#fff;border-radius:14px;padding:1.4rem 1.75rem;box-shadow:0 2px 14px rgba(10,84,160,0.10);border:2px solid #d0dff5;">
    <div style="font-size:1rem;font-weight:700;color:#0a3a86;margin-bottom:0.9rem;">&#128337; What time will it be in India?</div>
    <div style="display:flex;flex-wrap:wrap;gap:0.65rem;align-items:center;">
      <span style="font-size:0.95rem;color:#444;white-space:nowrap;">It&rsquo;s</span>
      <input type="time" id="peTime" style="padding:0.5rem 0.7rem;font-size:1.1rem;font-weight:700;border-radius:8px;border:2px solid #b8c3d7;width:175px;min-width:175px;" />
      <span style="font-size:0.95rem;color:#444;white-space:nowrap;">in</span>
      <select id="peCity" aria-label="Select city or timezone" style="padding:0.5rem 0.7rem;font-size:0.95rem;border-radius:8px;border:2px solid #b8c3d7;background:#fff;flex:1;min-width:160px;"></select>
    </div>
    <div id="peResult" style="margin-top:0.9rem;background:#fff8e6;border-left:4px solid #f7931e;border-radius:0 10px 10px 0;padding:0.8rem 1.2rem;font-size:1.2rem;font-weight:700;color:#c05000;display:none;"></div>
  </div>

</section>

<!-- DEVELOPER CLOCKS (collapsed by default for non-tech users, accessible) -->
<details style="margin-bottom:2rem;">
  <summary style="cursor:pointer;font-size:0.9rem;color:#637381;padding:0.5rem 0;user-select:none;">&#128339; Show live UTC / EST / PST / CET / JST clocks &amp; copy</summary>
  <section class="time-display" aria-label="Current Time Display" style="margin-top:0.75rem;">
    <p>UTC: <span id="utcTime" class="time-text">--</span><button class="copy-btn" data-copy-target="utcTime" aria-label="Copy UTC Time"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M10 1H3a2 2 0 0 0-2 2v9H1V3a3 3 0 0 1 3-3h7v1z"/><path d="M14 3H7a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v9z"/></svg><span class="copied-tooltip" role="alert">Copied!</span></button></p>
    <p>Local: <span id="localTime" class="time-text">--</span><button class="copy-btn" data-copy-target="localTime" aria-label="Copy Local Time"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M10 1H3a2 2 0 0 0-2 2v9H1V3a3 3 0 0 1 3-3h7v1z"/><path d="M14 3H7a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v9z"/></svg><span class="copied-tooltip" role="alert">Copied!</span></button></p>
    <p style="background:#fff8e6;border-radius:8px;padding:0.4rem 0.75rem;border-left:4px solid #f5a623;">IST &#x1F1EE;&#x1F1F3;: <span id="istTime" class="time-text" style="background:#fde7a0;color:#7a4a00;">--</span><button class="copy-btn" data-copy-target="istTime" aria-label="Copy IST Time"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M10 1H3a2 2 0 0 0-2 2v9H1V3a3 3 0 0 1 3-3h7v1z"/><path d="M14 3H7a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v9z"/></svg><span class="copied-tooltip" role="alert">Copied!</span></button></p>
    <p>EST: <span id="estTime" class="time-text">--</span><button class="copy-btn" data-copy-target="estTime" aria-label="Copy EST Time"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M10 1H3a2 2 0 0 0-2 2v9H1V3a3 3 0 0 1 3-3h7v1z"/><path d="M14 3H7a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v9z"/></svg><span class="copied-tooltip" role="alert">Copied!</span></button></p>
    <p>PST: <span id="pstTime" class="time-text">--</span><button class="copy-btn" data-copy-target="pstTime" aria-label="Copy PST Time"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M10 1H3a2 2 0 0 0-2 2v9H1V3a3 3 0 0 1 3-3h7v1z"/><path d="M14 3H7a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v9z"/></svg><span class="copied-tooltip" role="alert">Copied!</span></button></p>
    <p>CET: <span id="cetTime" class="time-text">--</span><button class="copy-btn" data-copy-target="cetTime" aria-label="Copy CET Time"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M10 1H3a2 2 0 0 0-2 2v9H1V3a3 3 0 0 1 3-3h7v1z"/><path d="M14 3H7a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v9z"/></svg><span class="copied-tooltip" role="alert">Copied!</span></button></p>
    <p>JST: <span id="jstTime" class="time-text">--</span><button class="copy-btn" data-copy-target="jstTime" aria-label="Copy JST Time"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M10 1H3a2 2 0 0 0-2 2v9H1V3a3 3 0 0 1 3-3h7v1z"/><path d="M14 3H7a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v9z"/></svg><span class="copied-tooltip" role="alert">Copied!</span></button></p>
  </section>
</details>

<!-- Developer converters also hidden in details -->
<details style="margin-bottom:2rem;">
  <summary style="cursor:pointer;font-size:0.9rem;color:#637381;padding:0.5rem 0;user-select:none;">&#128187; Developer tools: Local &harr; UTC text converters</summary>
  <div style="margin-top:0.75rem;">
  <section class="converter" aria-label="Local to UTC Converter">
    <h2>Local Time &rarr; UTC</h2>
    <p>Enter your local time to convert it to UTC. Accepts formats like <code>2026-02-26 17:30:00</code>, <code>17:30</code>, or <code>Feb 26, 2026 5:30 PM</code>.</p>
    <input type="text" id="localTimeInput" placeholder="e.g. 2026-02-26 17:30:00" />
    <button id="convertLocalToUTCBtn">Convert to UTC</button>
    <div id="localToUTCResult" class="result"></div>
  </section>
  <section class="converter" aria-label="UTC to Local Converter">
    <h2>UTC &rarr; Local Time</h2>
    <p>Enter a UTC time to see it in your local timezone. Accepts the same flexible formats.</p>
    <input type="text" id="utcTimeInput" placeholder="e.g. 2026-02-26 12:00:00" />
    <button id="convertUTCToLocalBtn">Convert to Local</button>
    <div id="utcToLocalResult" class="result"></div>
  </section>
  </div>
</details>

<!-- UTC to IST Full Cheat Sheet -->
<section aria-label="UTC to IST conversion table" style="background:#f0f6ff;border-radius:12px;margin-bottom:2.5rem;padding:1.5rem 2rem;">
  <h2 style="font-size:1.35rem;">UTC to IST Conversion Cheat Sheet</h2>
  <p style="margin-bottom:0.75rem;color:#3d4651;font-size:0.95rem;">IST = UTC + 5:30. Quick reference for all 24 hours &mdash; click any row to copy the IST time.</p>
  <div style="overflow-x:auto;">
    <table id="utcIstTable" style="width:100%;border-collapse:collapse;font-size:0.95rem;min-width:320px;">
      <thead>
        <tr style="background:#0a54a0;color:#fff;">
          <th style="padding:8px 12px;text-align:center;">UTC Time</th>
          <th style="padding:8px 12px;text-align:center;">IST Time 🇮🇳</th>
          <th style="padding:8px 12px;text-align:center;">EST (US East)</th>
          <th style="padding:8px 12px;text-align:center;">PST (US West)</th>
          <th style="padding:8px 12px;text-align:center;">GMT (London)</th>
        </tr>
      </thead>
      <tbody id="utcIstTableBody"></tbody>
    </table>
  </div>
  <p style="font-size:0.85rem;color:#637381;margin-top:0.75rem;">💡 Tip: Click any IST cell to copy that time. EST = UTC−5, PST = UTC−8, IST = UTC+5:30.</p>
</section>

<!-- Common Conversions Quick Reference -->
<section aria-label="Common timezone conversions" style="background:#fff8e6;border-radius:12px;margin-bottom:2.5rem;padding:1.5rem 2rem;">
  <h2 style="font-size:1.35rem;">Common Timezone Conversions to IST</h2>
  <p style="color:#7a5a00;font-size:0.95rem;margin-bottom:1rem;">Instantly see what time it is in India for popular US, UK and EU times. Used by remote teams, recruiters, and travelers.</p>
  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1rem;">
    <div style="background:#fff;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #0a54a0;">
      <div style="font-weight:700;color:#0a54a0;margin-bottom:0.5rem;">EST → IST <span style="font-size:0.8rem;color:#637381;">(add 10h 30m)</span></div>
      <div style="font-size:0.9rem;line-height:2;font-family:monospace;color:#222f3e;">
        9:00 AM EST = 7:30 PM IST<br>
        12:00 PM EST = 10:30 PM IST<br>
        5:00 PM EST = 3:30 AM IST (+1d)<br>
        8:00 PM EST = 6:30 AM IST (+1d)
      </div>
    </div>
    <div style="background:#fff;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #1a73c8;">
      <div style="font-weight:700;color:#1a73c8;margin-bottom:0.5rem;">PST → IST <span style="font-size:0.8rem;color:#637381;">(add 13h 30m)</span></div>
      <div style="font-size:0.9rem;line-height:2;font-family:monospace;color:#222f3e;">
        9:00 AM PST = 10:30 PM IST<br>
        12:00 PM PST = 1:30 AM IST (+1d)<br>
        5:00 PM PST = 6:30 AM IST (+1d)<br>
        8:00 PM PST = 9:30 AM IST (+1d)
      </div>
    </div>
    <div style="background:#fff;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #2e7d32;">
      <div style="font-weight:700;color:#2e7d32;margin-bottom:0.5rem;">GMT → IST <span style="font-size:0.8rem;color:#637381;">(add 5h 30m)</span></div>
      <div style="font-size:0.9rem;line-height:2;font-family:monospace;color:#222f3e;">
        9:00 AM GMT = 2:30 PM IST<br>
        12:00 PM GMT = 5:30 PM IST<br>
        5:00 PM GMT = 10:30 PM IST<br>
        8:00 PM GMT = 1:30 AM IST (+1d)
      </div>
    </div>
    <div style="background:#fff;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #e65100;">
      <div style="font-weight:700;color:#e65100;margin-bottom:0.5rem;">CET → IST <span style="font-size:0.8rem;color:#637381;">(add 4h 30m)</span></div>
      <div style="font-size:0.9rem;line-height:2;font-family:monospace;color:#222f3e;">
        9:00 AM CET = 1:30 PM IST<br>
        12:00 PM CET = 4:30 PM IST<br>
        5:00 PM CET = 9:30 PM IST<br>
        8:00 PM CET = 12:30 AM IST (+1d)
      </div>
    </div>
  </div>
</section>

<p class="footnote">* All times are in 24-hour format with milliseconds.</p>

<!-- Popular specific time conversions -->
<section aria-label="Popular time conversion answers" style="background:#f0f6ff;border-radius:12px;margin-bottom:2.5rem;padding:1.5rem 2rem;">
  <h2 style="font-size:1.3rem;margin-bottom:0.2rem;">&#128269; Popular Time Conversion Answers</h2>
  <p style="font-size:0.92rem;color:#3d4651;margin-bottom:1.2rem;">Quick answers to the most searched India time questions. All conversions are fixed offsets &mdash; India never observes DST.</p>
  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;">

    <div style="background:#fff;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #0a54a0;">
      <div style="font-weight:700;color:#0a54a0;margin-bottom:0.6rem;font-size:0.95rem;">&#127482;&#127480; EST &rarr; IST <span style="font-size:0.8rem;font-weight:400;color:#637381;">(add 10h 30m)</span></div>
      <table style="width:100%;font-size:0.88rem;border-collapse:collapse;">
        <tr><td style="padding:3px 0;color:#555;">6 AM EST</td><td style="font-weight:700;color:#0a54a0;">= 4:30 PM IST</td></tr>
        <tr style="background:#f5f8ff;"><td style="padding:3px 0;color:#555;">8 AM EST</td><td style="font-weight:700;color:#0a54a0;">= 6:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">9 AM EST</td><td style="font-weight:700;color:#0a54a0;">= 7:30 PM IST</td></tr>
        <tr style="background:#f5f8ff;"><td style="padding:3px 0;color:#555;">10 AM EST</td><td style="font-weight:700;color:#0a54a0;">= 8:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">12 PM EST</td><td style="font-weight:700;color:#0a54a0;">= 10:30 PM IST</td></tr>
        <tr style="background:#f5f8ff;"><td style="padding:3px 0;color:#555;">3 PM EST</td><td style="font-weight:700;color:#0a54a0;">= 1:30 AM IST +1d</td></tr>
        <tr><td style="padding:3px 0;color:#555;">5 PM EST</td><td style="font-weight:700;color:#0a54a0;">= 3:30 AM IST +1d</td></tr>
        <tr style="background:#f5f8ff;"><td style="padding:3px 0;color:#555;">6 PM EST</td><td style="font-weight:700;color:#0a54a0;">= 4:30 AM IST +1d</td></tr>
      </table>
    </div>

    <div style="background:#fff;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #1a73c8;">
      <div style="font-weight:700;color:#1a73c8;margin-bottom:0.6rem;font-size:0.95rem;">&#127482;&#127480; PST &rarr; IST <span style="font-size:0.8rem;font-weight:400;color:#637381;">(add 13h 30m)</span></div>
      <table style="width:100%;font-size:0.88rem;border-collapse:collapse;">
        <tr><td style="padding:3px 0;color:#555;">6 AM PST</td><td style="font-weight:700;color:#1a73c8;">= 7:30 PM IST</td></tr>
        <tr style="background:#f0f6ff;"><td style="padding:3px 0;color:#555;">8 AM PST</td><td style="font-weight:700;color:#1a73c8;">= 9:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">9 AM PST</td><td style="font-weight:700;color:#1a73c8;">= 10:30 PM IST</td></tr>
        <tr style="background:#f0f6ff;"><td style="padding:3px 0;color:#555;">10 AM PST</td><td style="font-weight:700;color:#1a73c8;">= 11:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">12 PM PST</td><td style="font-weight:700;color:#1a73c8;">= 1:30 AM IST +1d</td></tr>
        <tr style="background:#f0f6ff;"><td style="padding:3px 0;color:#555;">3 PM PST</td><td style="font-weight:700;color:#1a73c8;">= 4:30 AM IST +1d</td></tr>
        <tr><td style="padding:3px 0;color:#555;">5 PM PST</td><td style="font-weight:700;color:#1a73c8;">= 6:30 AM IST +1d</td></tr>
        <tr style="background:#f0f6ff;"><td style="padding:3px 0;color:#555;">6 PM PST</td><td style="font-weight:700;color:#1a73c8;">= 7:30 AM IST +1d</td></tr>
      </table>
    </div>

    <div style="background:#fff;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #2e7d32;">
      <div style="font-weight:700;color:#2e7d32;margin-bottom:0.6rem;font-size:0.95rem;">&#127468;&#127463; GMT/BST &rarr; IST <span style="font-size:0.8rem;font-weight:400;color:#637381;">(add 5h 30m / 4h 30m)</span></div>
      <table style="width:100%;font-size:0.88rem;border-collapse:collapse;">
        <tr><td style="padding:3px 0;color:#555;">8 AM GMT</td><td style="font-weight:700;color:#2e7d32;">= 1:30 PM IST</td></tr>
        <tr style="background:#f0fff0;"><td style="padding:3px 0;color:#555;">9 AM GMT</td><td style="font-weight:700;color:#2e7d32;">= 2:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">10 AM GMT</td><td style="font-weight:700;color:#2e7d32;">= 3:30 PM IST</td></tr>
        <tr style="background:#f0fff0;"><td style="padding:3px 0;color:#555;">12 PM GMT</td><td style="font-weight:700;color:#2e7d32;">= 5:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">3 PM GMT</td><td style="font-weight:700;color:#2e7d32;">= 8:30 PM IST</td></tr>
        <tr style="background:#f0fff0;"><td style="padding:3px 0;color:#555;">5 PM GMT</td><td style="font-weight:700;color:#2e7d32;">= 10:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">8 PM GMT</td><td style="font-weight:700;color:#2e7d32;">= 1:30 AM IST +1d</td></tr>
        <tr style="background:#f0fff0;"><td style="padding:3px 0;color:#555;">9 AM BST</td><td style="font-weight:700;color:#2e7d32;">= 1:30 PM IST</td></tr>
      </table>
    </div>

    <div style="background:#fff;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #e65100;">
      <div style="font-weight:700;color:#e65100;margin-bottom:0.6rem;font-size:0.95rem;">&#127462;&#127466; Dubai / CET &rarr; IST</div>
      <table style="width:100%;font-size:0.88rem;border-collapse:collapse;">
        <tr><td style="padding:3px 0;color:#555;">9 AM GST (Dubai)</td><td style="font-weight:700;color:#e65100;">= 10:30 AM IST</td></tr>
        <tr style="background:#fff8f5;"><td style="padding:3px 0;color:#555;">12 PM GST (Dubai)</td><td style="font-weight:700;color:#e65100;">= 1:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">5 PM GST (Dubai)</td><td style="font-weight:700;color:#e65100;">= 6:30 PM IST</td></tr>
        <tr style="background:#fff8f5;"><td style="padding:3px 0;color:#555;">9 AM CET (Berlin)</td><td style="font-weight:700;color:#e65100;">= 1:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">12 PM CET (Berlin)</td><td style="font-weight:700;color:#e65100;">= 4:30 PM IST</td></tr>
        <tr style="background:#fff8f5;"><td style="padding:3px 0;color:#555;">5 PM CET (Berlin)</td><td style="font-weight:700;color:#e65100;">= 9:30 PM IST</td></tr>
        <tr><td style="padding:3px 0;color:#555;">9 AM SGT (Singapore)</td><td style="font-weight:700;color:#e65100;">= 6:30 AM IST</td></tr>
        <tr style="background:#fff8f5;"><td style="padding:3px 0;color:#555;">9 AM AEST (Sydney)</td><td style="font-weight:700;color:#e65100;">= 3:30 AM IST</td></tr>
      </table>
    </div>

  </div>
  <p style="font-size:0.82rem;color:#637381;margin-top:1rem;">&#128161; EST = US East Coast winter &bull; EDT = US East Coast summer (same as EST+1h) &bull; PST = US West Coast winter &bull; PDT = US West Coast summer &bull; India IST never changes.</p>
</section>

<!-- Plain-language time difference section for non-technical users -->
<section aria-label="India time difference from major cities" style="background:#fff3e0;border-radius:12px;margin-bottom:2.5rem;padding:1.5rem 2rem;border:1px solid #ffcc80;">
  <h2 style="font-size:1.3rem;color:#e65100;margin-bottom:0.3rem;">&#127758; How Far Ahead is India Right Now?</h2>
  <p style="font-size:0.95rem;color:#7a4a00;margin:0 0 1rem;">India does not observe Daylight Saving Time &mdash; IST is always UTC+5:30, a fixed offset year-round.</p>
  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:0.85rem;" id="diffCardsGrid"></div>
  <p style="font-size:0.85rem;color:#888;margin-top:0.9rem;">&#128161; Tip: India is ahead of the US and Europe but behind Japan, Singapore &amp; Australia. The +5:30 half-hour offset is unique to India, Sri Lanka, and Nepal region.</p>
</section>

<section aria-label="Developer guides" style="margin:2.5rem 0 1rem;">
  <h2 style="color:#0a3a86;font-size:1.2rem;font-weight:700;margin:0 0 1rem;">&#128218; Developer Guides &amp; Reference</h2>
  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1rem;">

    <div onclick="openGuide('acc-dst')" style="background:#fff8f0;border:1px solid #f5c18a;border-radius:12px;padding:1.1rem 1.25rem;cursor:pointer;transition:box-shadow 0.15s;" onmouseover="this.style.boxShadow='0 4px 16px rgba(200,80,0,0.13)'" onmouseout="this.style.boxShadow=''">
      <div style="font-size:1.5rem;margin-bottom:0.4rem;">&#9200;</div>
      <div style="font-weight:700;color:#c05000;font-size:0.97rem;margin-bottom:0.3rem;">DST Bugs &amp; Fixes</div>
      <div style="font-size:0.85rem;color:#555;line-height:1.5;">Hardcoded offsets, cron skip/double-fire, ambiguous DB timestamps — and how to fix all of them.</div>
      <div style="margin-top:0.65rem;font-size:0.8rem;color:#c05000;font-weight:600;">JavaScript &bull; SQL &bull; Node-cron &#8594;</div>
    </div>

    <div onclick="openGuide('acc-gotchas')" style="background:#f0f5ff;border:1px solid #b0c8f5;border-radius:12px;padding:1.1rem 1.25rem;cursor:pointer;transition:box-shadow 0.15s;" onmouseover="this.style.boxShadow='0 4px 16px rgba(10,60,160,0.12)'" onmouseout="this.style.boxShadow=''">
      <div style="font-size:1.5rem;margin-bottom:0.4rem;">&#128204;</div>
      <div style="font-weight:700;color:#0a3a86;font-size:0.97rem;margin-bottom:0.3rem;">8 Datetime Gotchas</div>
      <div style="font-size:0.85rem;color:#555;line-height:1.5;">2 AM that doesn't exist, off-by-one-day in IST, moment.js deprecation, ISO strings without Z, and more.</div>
      <div style="margin-top:0.65rem;font-size:0.8rem;color:#0a3a86;font-weight:600;">All languages &#8594;</div>
    </div>

    <div onclick="openGuide('acc-langbugs')" style="background:#f4faf6;border:1px solid #b0d9bc;border-radius:12px;padding:1.1rem 1.25rem;cursor:pointer;transition:box-shadow 0.15s;" onmouseover="this.style.boxShadow='0 4px 16px rgba(20,100,50,0.12)'" onmouseout="this.style.boxShadow=''">
      <div style="font-size:1.5rem;margin-bottom:0.4rem;">&#128187;</div>
      <div style="font-weight:700;color:#1a5c2a;font-size:0.97rem;margin-bottom:0.3rem;">Java, Python &amp; Go Pitfalls</div>
      <div style="font-size:0.85rem;color:#555;line-height:1.5;">Legacy <code>java.util.Date</code>, Python naive/aware trap, Django USE_TZ, Go reference time format, ParseInLocation.</div>
      <div style="margin-top:0.65rem;font-size:0.8rem;color:#1a5c2a;font-weight:600;">Copy-paste fixes &#8594;</div>
    </div>

    <div onclick="openGuide('acc-snippets')" style="background:#fdfaf4;border:1px solid #e0d09a;border-radius:12px;padding:1.1rem 1.25rem;cursor:pointer;transition:box-shadow 0.15s;" onmouseover="this.style.boxShadow='0 4px 16px rgba(120,80,0,0.10)'" onmouseout="this.style.boxShadow=''">
      <div style="font-size:1.5rem;margin-bottom:0.4rem;">&#128203;</div>
      <div style="font-weight:700;color:#7b4f12;font-size:0.97rem;margin-bottom:0.3rem;">UTC &amp; IST Code Snippets</div>
      <div style="font-size:0.85rem;color:#555;line-height:1.5;">Ready-to-copy UTC↔IST conversion code in JavaScript, Python, Java, and SQL.</div>
      <div style="margin-top:0.65rem;font-size:0.8rem;color:#7b4f12;font-weight:600;">JS &bull; Python &bull; Java &bull; SQL &#8594;</div>
    </div>

    <div onclick="openGuide('acc-whyist')" style="background:#f5f0ff;border:1px solid #c8b0f0;border-radius:12px;padding:1.1rem 1.25rem;cursor:pointer;transition:box-shadow 0.15s;" onmouseover="this.style.boxShadow='0 4px 16px rgba(80,20,160,0.10)'" onmouseout="this.style.boxShadow=''">
      <div style="font-size:1.5rem;margin-bottom:0.4rem;">&#127758;</div>
      <div style="font-weight:700;color:#5b3475;font-size:0.97rem;margin-bottom:0.3rem;">Why IST is UTC+5:30</div>
      <div style="font-size:0.85rem;color:#555;line-height:1.5;">Why India uses a half-hour offset, the 82.5°E meridian story, and why IST never has DST.</div>
      <div style="margin-top:0.65rem;font-size:0.8rem;color:#5b3475;font-weight:600;">Read the history &#8594;</div>
    </div>

    <div onclick="openGuide('acc-overlap')" style="background:#f0fbff;border:1px solid #a0d8f0;border-radius:12px;padding:1.1rem 1.25rem;cursor:pointer;transition:box-shadow 0.15s;" onmouseover="this.style.boxShadow='0 4px 16px rgba(0,100,180,0.10)'" onmouseout="this.style.boxShadow=''">
      <div style="font-size:1.5rem;margin-bottom:0.4rem;">&#128197;</div>
      <div style="font-weight:700;color:#005f8a;font-size:0.97rem;margin-bottom:0.3rem;">India Working Hours Overlap</div>
      <div style="font-size:0.85rem;color:#555;line-height:1.5;">Overlap windows between India and US East, US West, UK, EU, Singapore &amp; Australia for scheduling meetings.</div>
      <div style="margin-top:0.65rem;font-size:0.8rem;color:#005f8a;font-weight:600;">View overlap table &#8594;</div>
    </div>

  </div>
</section>

</div><!-- /tab-home -->
<!-- TAB: TZ CONVERTER -->
<div id="tab-tzconv" class="tab-panel">
<section aria-label="Timezone Converter" style="background:#f3f6fb;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>Timezone Converter</h2>
  <p>Pick any two cities and a time &mdash; instantly see the converted result. Perfect for scheduling international meetings.</p>
  <div class="two-col-grid" style="margin-bottom:1rem;">
    <div><label for="tzFrom" style="font-weight:600;display:block;margin-bottom:0.4rem;">From Timezone</label><select id="tzFrom"></select></div>
    <div><label for="tzTo" style="font-weight:600;display:block;margin-bottom:0.4rem;">To Timezone</label><select id="tzTo"></select></div>
  </div>
  <div style="margin-bottom:1rem;"><label for="tzInputTime" style="font-weight:600;display:block;margin-bottom:0.4rem;">Date &amp; Time</label><input type="datetime-local" id="tzInputTime" /></div>
  <button onclick="convertTimezone()" style="max-width:300px;">Convert</button>
  <div id="tzResult" style="margin-top:1rem;color:#0a54a0;font-weight:600;font-size:1.1rem;min-height:2rem;text-align:center;"></div>
</section>
</div>

<!-- TAB: WORLD CLOCK -->
<div id="tab-worldclock" class="tab-panel">
<section aria-label="World Clock" style="background:#e6f0fa;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>World Clock</h2>
  <p>Live current time in major cities around the world, updated every second.</p>
  <div id="worldClockGrid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;margin-top:1rem;"></div>
</section>
</div>

<!-- TAB: EPOCH -->
<div id="tab-epoch" class="tab-panel">
<section aria-label="Unix Epoch Converter" style="background:#f3f6fb;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>Unix / Epoch Timestamp Converter</h2>
  <p>Convert between Unix epoch (seconds or milliseconds) and human-readable date/time &mdash; essential for developers debugging logs and APIs.</p>
  <div class="two-col-grid-lg">
    <div>
      <h3 style="font-size:1.1rem;color:#0a54a0;margin-bottom:0.75rem;">Epoch &rarr; Date</h3>
      <label for="epochInput" style="font-weight:600;display:block;margin-bottom:0.4rem;">Unix Timestamp</label>
      <input type="text" id="epochInput" placeholder="e.g. 1700000000 or 1700000000000" />
      <button onclick="epochToDate()" style="margin-top:0.75rem;">Convert to Date</button>
      <div id="epochToDateResult" style="margin-top:0.75rem;color:#0a54a0;font-weight:600;min-height:1.5rem;"></div>
      <p style="margin-top:0.5rem;font-size:0.9rem;color:#555;">Current epoch: <strong id="liveEpoch">&ndash;</strong></p>
    </div>
    <div>
      <h3 style="font-size:1.1rem;color:#0a54a0;margin-bottom:0.75rem;">Date &rarr; Epoch</h3>
      <label for="dateToEpochInput" style="font-weight:600;display:block;margin-bottom:0.4rem;">Date &amp; Time (local)</label>
      <input type="datetime-local" id="dateToEpochInput" />
      <button onclick="dateToEpoch()" style="margin-top:0.75rem;">Convert to Epoch</button>
      <div id="dateToEpochResult" style="margin-top:0.75rem;color:#0a54a0;font-weight:600;min-height:1.5rem;"></div>
    </div>
  </div>
</section>
</div>

<!-- TAB: MEETING PLANNER -->
<div id="tab-meeting" class="tab-panel">
<section aria-label="Meeting Planner" style="background:#e6f0fa;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>Meeting Planner &mdash; Find the Best Time</h2>
  <p>Pick a date to see all 24 UTC hours across 9 cities. <strong style="color:#0a6e35;">Green rows</strong> = all overlap in working hours. <strong style="color:#0a54a0;">Blue highlight</strong> = current hour right now.</p>
  <div style="display:flex;flex-wrap:wrap;gap:0.75rem;margin-bottom:0.75rem;align-items:flex-end;">
    <div><label for="meetingDate" style="font-weight:600;display:block;margin-bottom:0.4rem;">Date</label><input type="date" id="meetingDate" oninput="buildMeetingGrid()" style="padding:0.6rem 1rem;font-size:1rem;border-radius:8px;border:2px solid #b8c3d7;" /></div>
    <div style="display:flex;gap:0.5rem;flex-wrap:wrap;">
      <button onclick="meetingSetDate(0)" style="width:auto;padding:0.45rem 0.9rem;font-size:0.85rem;margin-top:0;background:#0a54a0;">Today</button>
      <button onclick="meetingSetDate(1)" style="width:auto;padding:0.45rem 0.9rem;font-size:0.85rem;margin-top:0;background:#e6f0fa;color:#0a54a0;border:1px solid #b0c8f5;">Tomorrow</button>
      <button onclick="meetingSetDate(7)" style="width:auto;padding:0.45rem 0.9rem;font-size:0.85rem;margin-top:0;background:#e6f0fa;color:#0a54a0;border:1px solid #b0c8f5;">+7 days</button>
    </div>
  </div>
  <div id="meetingDebug" style="font-size:0.85rem;color:#0a54a0;margin-bottom:0.6rem;font-weight:600;"></div>
  <div style="overflow-x:auto;"><table id="meetingTable" style="width:100%;border-collapse:collapse;font-size:0.9rem;min-width:700px;"></table></div>
  <div style="margin-top:0.75rem;display:flex;gap:1.25rem;flex-wrap:wrap;font-size:0.82rem;color:#3a6090;">
    <span><span style="display:inline-block;width:12px;height:12px;background:#e6f9ee;border:1px solid #86efac;border-radius:2px;vertical-align:middle;margin-right:4px;"></span>Working hours overlap</span>
    <span><span style="display:inline-block;width:12px;height:12px;background:#dbeafe;border:1px solid #93c5fd;border-radius:2px;vertical-align:middle;margin-right:4px;"></span>Current hour (today)</span>
    <span><span style="display:inline-block;width:12px;height:12px;background:#fff;border:1px solid #ccc;border-radius:2px;vertical-align:middle;margin-right:4px;"></span>Outside working hours</span>
  </div>
</section>
</div>

<!-- TAB: DURATION -->
<div id="tab-duration" class="tab-panel">
<section aria-label="Date Calculator" style="background:#f3f6fb;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>&#x1F4C5; Date Calculator</h2>
  <p style="color:#3d4651;">Age, days between dates, business days, countdown &amp; leap year — all calculated instantly for today.</p>

  <!-- AGE CALCULATOR -->
  <div style="background:#fff;border-radius:12px;padding:1.25rem 1.4rem;border:2px solid #e0eaff;margin-bottom:1.25rem;">
    <div style="font-weight:700;color:#0a3a86;margin-bottom:0.75rem;font-size:1rem;">&#x1F382; Age Calculator</div>
    <div style="display:flex;flex-wrap:wrap;gap:0.75rem;align-items:flex-end;margin-bottom:0.75rem;">
      <div>
        <label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">Date of birth</label>
        <input type="date" id="ageDob" oninput="calcAge()" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;width:180px;" />
      </div>
    </div>
    <div id="ageResult"></div>
  </div>

  <!-- DAYS BETWEEN DATES -->
  <div style="background:#fff;border-radius:12px;padding:1.25rem 1.4rem;border:2px solid #e0eaff;margin-bottom:1.25rem;">
    <div style="font-weight:700;color:#0a3a86;margin-bottom:0.75rem;font-size:1rem;">&#x1F4CF; Days Between Two Dates</div>
    <div style="display:flex;flex-wrap:wrap;gap:0.75rem;align-items:flex-end;margin-bottom:0.75rem;">
      <div>
        <label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">From</label>
        <input type="date" id="diffFrom" oninput="calcDateDiff()" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;width:180px;" />
      </div>
      <div>
        <label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">To</label>
        <input type="date" id="diffTo" oninput="calcDateDiff()" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;width:180px;" />
      </div>
    </div>
    <div id="dateDiffResult"></div>
  </div>

  <!-- BUSINESS DAYS -->
  <div style="background:#fff;border-radius:12px;padding:1.25rem 1.4rem;border:2px solid #e0eaff;margin-bottom:1.25rem;">
    <div style="font-weight:700;color:#0a3a86;margin-bottom:0.75rem;font-size:1rem;">&#x1F4BC; Business Days Calculator</div>
    <div style="display:flex;flex-wrap:wrap;gap:0.75rem;align-items:flex-end;margin-bottom:0.75rem;">
      <div>
        <label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">From</label>
        <input type="date" id="bizFrom" oninput="calcBizDays()" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;width:180px;" />
      </div>
      <div>
        <label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">To</label>
        <input type="date" id="bizTo" oninput="calcBizDays()" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;width:180px;" />
      </div>
    </div>
    <div id="bizDaysResult"></div>
  </div>

  <!-- COUNTDOWN TO DATE -->
  <div style="background:#fff;border-radius:12px;padding:1.25rem 1.4rem;border:2px solid #e0eaff;margin-bottom:1.25rem;">
    <div style="font-weight:700;color:#0a3a86;margin-bottom:0.75rem;font-size:1rem;">&#x23F3; Countdown to a Date</div>
    <div style="display:flex;flex-wrap:wrap;gap:0.75rem;align-items:flex-end;margin-bottom:0.75rem;">
      <div>
        <label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">Target date</label>
        <input type="date" id="cdTarget" oninput="calcCountdown()" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;width:180px;" />
      </div>
      <div style="display:flex;gap:0.5rem;flex-wrap:wrap;margin-bottom:0.1rem;">
        <button onclick="setCountdown('newyear')" style="width:auto;padding:0.4rem 0.8rem;font-size:0.82rem;margin-top:0;background:#e6f0fa;color:#0a3a86;border:1px solid #b0c8f5;">New Year</button>
        <button onclick="setCountdown('christmas')" style="width:auto;padding:0.4rem 0.8rem;font-size:0.82rem;margin-top:0;background:#e6f0fa;color:#0a3a86;border:1px solid #b0c8f5;">Christmas</button>
        <button onclick="setCountdown('halloween')" style="width:auto;padding:0.4rem 0.8rem;font-size:0.82rem;margin-top:0;background:#e6f0fa;color:#0a3a86;border:1px solid #b0c8f5;">Halloween</button>
        <button onclick="setCountdown('diwali')" style="width:auto;padding:0.4rem 0.8rem;font-size:0.82rem;margin-top:0;background:#e6f0fa;color:#0a3a86;border:1px solid #b0c8f5;">Diwali</button>
      </div>
    </div>
    <div id="countdownResult"></div>
  </div>

  <!-- DURATION (time between datetime) -->
  <div style="background:#fff;border-radius:12px;padding:1.25rem 1.4rem;border:2px solid #e0eaff;margin-bottom:1.25rem;">
    <div style="font-weight:700;color:#0a3a86;margin-bottom:0.75rem;font-size:1rem;">&#x23F1; Exact Duration Between Two Date+Times</div>
    <div class="two-col-grid" style="margin-bottom:0.75rem;">
      <div><label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">Start</label><input type="datetime-local" id="durStart" oninput="calcDuration()" /></div>
      <div><label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">End</label><input type="datetime-local" id="durEnd" oninput="calcDuration()" /></div>
    </div>
    <div id="durationResult"></div>
  </div>

  <!-- LEAP YEAR -->
  <div style="background:#fff;border-radius:12px;padding:1.25rem 1.4rem;border:2px solid #e0eaff;">
    <div style="font-weight:700;color:#0a3a86;margin-bottom:0.75rem;font-size:1rem;">&#x1F33F; Leap Year Checker</div>
    <div style="display:flex;flex-wrap:wrap;gap:0.75rem;align-items:flex-end;margin-bottom:0.75rem;">
      <div>
        <label style="font-weight:600;font-size:0.88rem;display:block;margin-bottom:0.3rem;">Year</label>
        <input type="number" id="leapYear" min="1" max="9999" oninput="calcLeap()" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;width:130px;" />
      </div>
    </div>
    <div id="leapResult"></div>
  </div>

  <!-- Hidden SEO text for date calculator queries -->
  <p style="position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;" aria-hidden="true">
    age calculator, how old am I, age in days, age in hours, days between two dates, date difference calculator,
    business days calculator, working days between dates, how many business days, countdown to date,
    how many days until Christmas, how many days until New Year, how many days until Diwali,
    how many days until Halloween, days until 2026, leap year checker, is 2024 a leap year,
    is 2028 a leap year, next leap year, how many weeks between dates, days months years calculator,
    exact age calculator, date calculator online, how many days from today
  </p>

</section>
</div>

<!-- TAB: TZ ABBREVIATION DECODER -->
<div id="tab-abbr" class="tab-panel">
<section aria-label="Timezone Abbreviation Decoder" style="background:#f3f6fb;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>&#x1F3F7; Timezone Abbreviation Decoder</h2>
  <p style="color:#3d4651;">Paste any timezone abbreviation — <code>IST</code>, <code>CST</code>, <code>EST</code>, <code>PST</code>, <code>BST</code> etc — and instantly see every possible meaning with live current times.</p>
  <div style="display:flex;gap:0.75rem;flex-wrap:wrap;align-items:center;margin-bottom:1.25rem;">
    <input type="text" id="abbrInput" placeholder="e.g. IST, CST, EDT, BST…" style="max-width:260px;text-transform:uppercase;font-size:1.1rem;font-weight:700;letter-spacing:0.08em;" oninput="decodeAbbr()" />
    <span style="font-size:0.9rem;color:#888;">Results appear as you type</span>
  </div>
  <div id="abbrResult"></div>
  <div style="margin-top:1.5rem;background:#fff8e6;border-radius:10px;padding:1rem 1.25rem;border-left:4px solid #f7931e;">
    <div style="font-weight:700;color:#c05000;margin-bottom:0.5rem;font-size:0.9rem;">&#9888; Why this matters</div>
    <div style="font-size:0.88rem;color:#7a4a00;line-height:1.7;">
      <strong>IST</strong> = India Standard Time <em>or</em> Israel Standard Time <em>or</em> Irish Standard Time<br>
      <strong>CST</strong> = US Central Time <em>or</em> China Standard Time <em>or</em> Cuba Standard Time<br>
      <strong>BST</strong> = British Summer Time <em>or</em> Bangladesh Standard Time<br>
      Always confirm which region is meant before scheduling!
    </div>
  </div>
</section>
</div>

<!-- TAB: CRON TO IST -->
<div id="tab-cron" class="tab-panel">
<section aria-label="Cron Expression to IST" style="background:#f3f6fb;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>&#x2699; Cron Expression &rarr; IST Preview</h2>
  <p style="color:#3d4651;">Enter a cron expression (UTC-based) and see the next 8 fire times in UTC, IST, and your local time — side by side. Essential for debugging cron jobs running on Indian servers.</p>
  <div style="display:flex;gap:0.75rem;flex-wrap:wrap;align-items:flex-end;margin-bottom:1rem;">
    <div style="flex:1;min-width:200px;">
      <label for="cronInput" style="font-weight:600;display:block;margin-bottom:0.4rem;">Cron Expression <span style="font-weight:400;color:#888;font-size:0.85rem;">(UTC)</span></label>
      <input type="text" id="cronInput" placeholder="e.g. 0 9 * * 1-5" style="font-family:monospace;font-size:1.05rem;" />
    </div>
    <button onclick="parseCron()" style="width:auto;padding:0.65rem 1.5rem;font-size:1rem;margin-top:0;">Preview</button>
  </div>
  <div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1rem;">
    <span style="font-size:0.82rem;color:#637381;font-weight:600;margin-right:0.25rem;">Quick fill:</span>
    <button onclick="setCron('0 9 * * 1-5')" style="width:auto;padding:0.25rem 0.75rem;font-size:0.8rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-weight:600;">Weekdays 9 AM</button>
    <button onclick="setCron('0 0 * * *')" style="width:auto;padding:0.25rem 0.75rem;font-size:0.8rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-weight:600;">Daily midnight</button>
    <button onclick="setCron('0 14 * * *')" style="width:auto;padding:0.25rem 0.75rem;font-size:0.8rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-weight:600;">Daily 2 PM UTC</button>
    <button onclick="setCron('30 5 * * *')" style="width:auto;padding:0.25rem 0.75rem;font-size:0.8rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-weight:600;">Daily 5:30 AM UTC</button>
    <button onclick="setCron('0 */6 * * *')" style="width:auto;padding:0.25rem 0.75rem;font-size:0.8rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-weight:600;">Every 6 hours</button>
  </div>
  <div id="cronResult"></div>
  <p style="font-size:0.82rem;color:#888;margin-top:1rem;">Format: <code>minute hour day-of-month month day-of-week</code> &bull; Assumes UTC timezone as most production cron jobs run in UTC.</p>
</section>
</div>

<!-- TAB: ISO/RFC TIMESTAMP PARSER -->
<div id="tab-timestamp" class="tab-panel">
<section aria-label="ISO Timestamp Parser" style="background:#f3f6fb;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>&#x1F4CB; ISO / RFC Timestamp Parser</h2>
  <p style="color:#3d4651;">Paste any timestamp string from an API log, email header, or calendar file — instantly decoded across all timezones.</p>
  <div style="margin-bottom:1rem;">
    <label for="tsInput" style="font-weight:600;display:block;margin-bottom:0.4rem;">Paste Timestamp</label>
    <input type="text" id="tsInput" placeholder="e.g. 2026-03-15T14:30:00+05:30" style="font-family:monospace;font-size:1rem;" oninput="parseTimestamp()" />
  </div>
  <div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1.25rem;">
    <span style="font-size:0.82rem;color:#637381;font-weight:600;margin-right:0.25rem;">Examples:</span>
    <button onclick="setTs('2026-03-15T14:30:00+05:30')" style="width:auto;padding:0.25rem 0.7rem;font-size:0.78rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-family:monospace;">ISO 8601 +05:30</button>
    <button onclick="setTs('2026-03-15T09:00:00Z')" style="width:auto;padding:0.25rem 0.7rem;font-size:0.78rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-family:monospace;">ISO UTC Z</button>
    <button onclick="setTs('Sun, 15 Mar 2026 09:00:00 +0000')" style="width:auto;padding:0.25rem 0.7rem;font-size:0.78rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-family:monospace;">RFC 2822</button>
    <button onclick="setTs('Mar 15, 2026 2:30 PM IST')" style="width:auto;padding:0.25rem 0.7rem;font-size:0.78rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-family:monospace;">Natural</button>
    <button onclick="setTs('1742042400')" style="width:auto;padding:0.25rem 0.7rem;font-size:0.78rem;background:#e6f0fa;color:#0a54a0;border:1px solid #b8c3d7;border-radius:6px;margin-top:0;font-family:monospace;">Unix epoch</button>
  </div>
  <div id="tsResult"></div>
</section>
</div>

<!-- TAB: CAN I CALL INDIA NOW -->
<div id="tab-callnow" class="tab-panel">
<section aria-label="Can I call India now" style="background:#f3f6fb;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>&#x1F4DE; Can I Call India Right Now?</h2>
  <p style="color:#3d4651;">Pick your city — see instantly if India business hours (9 AM–6 PM IST) overlap with your current time right now, and find the best window today.</p>
  <div style="display:flex;gap:0.75rem;flex-wrap:wrap;align-items:center;margin-bottom:1.5rem;">
    <select id="callCitySelect" aria-label="Select your city" onchange="updateCallWidget()" style="font-size:1rem;padding:0.6rem 1rem;border-radius:8px;border:2px solid #b8c3d7;max-width:300px;background:#fff;"></select>
    <span style="font-size:0.88rem;color:#888;">Updates live every minute</span>
  </div>
  <div id="callResult" style="margin-bottom:1.5rem;"></div>
  <div id="callTimeline" style="background:#fff;border-radius:12px;padding:1.25rem 1.5rem;border:1px solid #e0eaff;">
    <div style="font-weight:700;color:#0a3a86;margin-bottom:0.75rem;font-size:0.95rem;">&#128197; Today&rsquo;s overlap window</div>
    <div id="callTimelineBar"></div>
    <div id="callTimelineLabels" style="display:flex;justify-content:space-between;font-size:0.75rem;color:#888;margin-top:0.3rem;"></div>
  </div>
</section>
</div>

<!-- TAB: DST TRANSITION COUNTDOWN -->
<div id="tab-dst" class="tab-panel">
<section aria-label="DST Transition Countdown" style="background:#f3f6fb;border-radius:12px;margin-bottom:2.5rem;padding:1.75rem 2rem;">
  <h2>&#x1F501; DST Transition Countdown</h2>
  <p style="color:#3d4651;">India never observes DST — but the US, UK and EU do. When their clocks change, <strong>your IST meeting time shifts</strong>. See exactly when, and by how much.</p>
  <div id="dstCountdowns" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.25rem;margin-top:1rem;"></div>
  <div style="margin-top:2rem;">
    <div style="font-weight:700;color:#0a3a86;margin-bottom:0.75rem;">&#128336; Check how a recurring meeting shifts</div>
    <div style="display:flex;flex-wrap:wrap;gap:0.75rem;align-items:flex-end;margin-bottom:1rem;">
      <div>
        <label style="font-weight:600;display:block;margin-bottom:0.3rem;font-size:0.9rem;">Your meeting time</label>
        <input type="time" id="dstMeetTime" value="09:00" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;width:150px;" />
      </div>
      <div>
        <label style="font-weight:600;display:block;margin-bottom:0.3rem;font-size:0.9rem;">In timezone</label>
        <select id="dstMeetTz" aria-label="Select timezone" style="font-size:1rem;padding:0.5rem 0.75rem;border-radius:8px;border:2px solid #b8c3d7;background:#fff;">
          <option value="America/New_York">New York (ET)</option>
          <option value="America/Los_Angeles">Los Angeles (PT)</option>
          <option value="America/Chicago">Chicago (CT)</option>
          <option value="Europe/London">London (GMT/BST)</option>
          <option value="Europe/Berlin">Berlin/Paris (CET/CEST)</option>
          <option value="Australia/Sydney">Sydney (AEST/AEDT)</option>
        </select>
      </div>
      <button onclick="checkDstShift()" style="width:auto;padding:0.6rem 1.25rem;font-size:1rem;margin-top:0;">Check shift</button>
    </div>
    <div id="dstShiftResult"></div>
  </div>
</section>
</div>

<!-- TAB: INFO -->
<div id="tab-info" class="tab-panel">
  <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>About This Tool</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body"><p><strong>UTC to IST &amp; Timezone Converter</strong> is a free tool to convert between UTC, IST, GMT, EST, PST, CET, JST and other timezones instantly. Built for developers, remote workers, travelers, and business professionals worldwide.</p><p>Maintained by <strong>Harshit Yadav</strong>. All calculations run entirely in your browser &mdash; no data is ever sent to a server.</p></div></div>
  <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Privacy Policy</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body"><p>This site does not collect, store, or share any personal information. No user tracking is performed by this site. Google AdSense may use cookies to serve relevant ads &mdash; see <a href="https://policies.google.com/technologies/ads" target="_blank" rel="noopener">Google's Ad Policy</a>.</p><p>No registration or login is required. Any data you enter is processed only in your browser.</p></div></div>
  <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Terms &amp; Disclaimer</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body"><p>This tool is provided for informational purposes only. While we strive for accuracy, we do not guarantee the correctness of any conversion. Always verify critical times for business or travel. Use at your own risk.</p></div></div>
  <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Contact Us</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body"><p>Have feedback or suggestions?</p><ul style="list-style:none;padding-left:0;"><li><strong>Email:</strong> <a href="mailto:harshit1996yadav@gmail.com">harshit1996yadav@gmail.com</a></li><li><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/harshityadav196/" target="_blank" rel="noopener">linkedin.com/in/harshityadav196</a></li></ul></div></div>
  <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Frequently Asked Questions</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body"><h3 style="color:#0a3a86;">How do I convert UTC to IST?</h3><p>Add 5 hours and 30 minutes. So <code>12:00 UTC</code> = <code>17:30 IST</code>. Use the Quick Convert bar on the Home tab for instant results.</p><h3 style="color:#0a3a86;">What is the difference between UTC and GMT?</h3><p>GMT is a time zone; UTC is a time standard. They show the same time value, but UTC is more precise and is the global standard used in computing and communications.</p><h3 style="color:#0a3a86;">Why should developers store timestamps in UTC?</h3><p>UTC avoids ambiguity from daylight saving time changes and regional offsets. Databases and APIs that store UTC timestamps work correctly for users in any timezone.</p><h3 style="color:#0a3a86;">Does this tool work offline?</h3><p>Yes &mdash; once the page is loaded, all timezone calculations run locally in your browser with no internet connection required.</p><h3 style="color:#0a3a86;">What is a Unix epoch timestamp?</h3><p>A Unix timestamp is the number of seconds (or milliseconds) since January 1, 1970 00:00:00 UTC. Use the Epoch tab to convert between timestamps and readable dates.</p></div></div>
  <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Developer's Guide to Timezone Handling</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body"><h3 style="color:#0a54a0;font-size:1.1rem;">Best Practices</h3><ul style="padding-left:1.5rem;line-height:1.8;"><li><strong>Always store in UTC</strong> &mdash; convert to local time only for display.</li><li><strong>Use ISO 8601 format</strong> &mdash; <code>YYYY-MM-DDTHH:mm:ss.sssZ</code> ensures universal compatibility.</li><li><strong>Handle DST transitions</strong> &mdash; use IANA timezone names (e.g. <code>America/New_York</code>) not fixed offsets.</li><li><strong>Test across timezones</strong> &mdash; run your app with different system timezone settings.</li></ul><h3 style="color:#0a54a0;font-size:1.1rem;margin-top:1rem;">Common Mistakes</h3><ul style="padding-left:1.5rem;line-height:1.8;"><li>Mixing local and UTC times &mdash; causes data inconsistencies.</li><li>Assuming fixed UTC offsets &mdash; regions change offsets seasonally.</li><li>Ignoring DST transitions &mdash; off-by-one-hour bugs appear twice a year.</li></ul></div></div>

  <div id="acc-dst" class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Daylight Saving Time (DST) — Developer Bugs &amp; Fixes</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body">
  <p style="color:#555;margin:0 0 1.1rem;">DST causes more production incidents than almost any other datetime issue. Here are the bugs developers hit every year and how to fix them.</p>

  <div style="background:#fff3cd;border-left:4px solid #e6a817;padding:0.7rem 1rem;border-radius:0 8px 8px 0;margin-bottom:1.2rem;font-size:0.9rem;">
    <strong>2026 DST dates to mark in your calendar:</strong> US clocks spring forward <strong>March 8</strong> (EST→EDT, UTC−5→UTC−4) and fall back <strong>Nov 1</strong>. EU springs forward <strong>March 29</strong> (CET→CEST, UTC+1→UTC+2) and falls back <strong>Oct 25</strong>. <em>India (IST) never observes DST.</em>
  </div>

  <h3 style="color:#c0392b;font-size:1rem;margin:0 0 0.5rem;">Bug #1 — Hardcoded UTC offset breaks twice a year</h3>
  <div style="margin-bottom:1.4rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;background:#7f1d1d;color:#fff;padding:0.4rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.82rem;font-weight:600;">
      <span>JavaScript — WRONG (breaks every DST change)</span>
      <button onclick="copySnippet('snip-dst1-bad',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:5px;cursor:pointer;font-size:0.78rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-dst1-bad" style="background:#fff5f5;margin:0;padding:0.85rem 1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.87rem;line-height:1.7;border:1px solid #fca5a5;border-top:none;"><code><span style="color:#888">// BAD — hardcoded offset. Wrong for 6 months of the year.</span>
<span style="color:#c0392b">const</span> estOffset = -5 * 60; <span style="color:#888">// assumes EST, but NYC is EDT (UTC-4) in summer</span>
<span style="color:#c0392b">const</span> estTime = <span style="color:#c0392b">new</span> Date(Date.now() + estOffset * 60000);</code></pre>
    <div style="display:flex;justify-content:space-between;align-items:center;background:#14532d;color:#fff;padding:0.4rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.82rem;font-weight:600;margin-top:0.6rem;">
      <span>JavaScript — CORRECT (DST-safe)</span>
      <button onclick="copySnippet('snip-dst1-good',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:5px;cursor:pointer;font-size:0.78rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-dst1-good" style="background:#f0fdf4;margin:0;padding:0.85rem 1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.87rem;line-height:1.7;border:1px solid #86efac;border-top:none;"><code><span style="color:#888">// GOOD — let the IANA database handle the offset</span>
<span style="color:#0a54a0">const</span> estTime = <span style="color:#0a54a0">new</span> Date().toLocaleString(<span style="color:#c0392b">'en-US'</span>, { timeZone: <span style="color:#c0392b">'America/New_York'</span> });
<span style="color:#888">// Works correctly year-round — EST in winter, EDT in summer</span></code></pre>
  </div>

  <h3 style="color:#c0392b;font-size:1rem;margin:0 0 0.5rem;">Bug #2 — JavaScript date string parsing (UTC vs local)</h3>
  <div style="margin-bottom:1.4rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;background:#7f1d1d;color:#fff;padding:0.4rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.82rem;font-weight:600;">
      <span>JavaScript — The silent 1-character trap</span>
      <button onclick="copySnippet('snip-dst2',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:5px;cursor:pointer;font-size:0.78rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-dst2" style="background:#fff5f5;margin:0;padding:0.85rem 1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.87rem;line-height:1.7;border:1px solid #fca5a5;border-top:none;"><code><span style="color:#888">// Date-only string → parsed as UTC midnight</span>
<span style="color:#0a54a0">new</span> Date(<span style="color:#c0392b">'2026-03-08'</span>).toISOString()
<span style="color:#888">// → "2026-03-08T00:00:00.000Z"  ✅ UTC midnight</span>
<span style="color:#888">// → In IST: Mar 8 05:30 AM — in EST: Mar 7 7:00 PM ← WRONG DAY!</span>

<span style="color:#888">// Datetime string without Z → parsed as LOCAL time</span>
<span style="color:#0a54a0">new</span> Date(<span style="color:#c0392b">'2026-03-08T00:00:00'</span>).toISOString()
<span style="color:#888">// → Depends on the machine's timezone — unpredictable in Node.js</span>

<span style="color:#888">// FIX — always append Z for UTC, or use explicit offset</span>
<span style="color:#0a54a0">new</span> Date(<span style="color:#c0392b">'2026-03-08T00:00:00Z'</span>)    <span style="color:#888">// explicit UTC ✅</span>
<span style="color:#0a54a0">new</span> Date(<span style="color:#c0392b">'2026-03-08T00:00:00+05:30'</span>) <span style="color:#888">// explicit IST ✅</span></code></pre>
  </div>

  <h3 style="color:#c0392b;font-size:1rem;margin:0 0 0.5rem;">Bug #3 — Cron jobs that run twice or skip on DST day</h3>
  <div style="margin-bottom:1.4rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;background:#4a1d96;color:#fff;padding:0.4rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.82rem;font-weight:600;">
      <span>Cron / Node.js scheduler</span>
      <button onclick="copySnippet('snip-dst3',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:5px;cursor:pointer;font-size:0.78rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-dst3" style="background:#faf5ff;margin:0;padding:0.85rem 1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.87rem;line-height:1.7;border:1px solid #d8b4fe;border-top:none;"><code><span style="color:#888"># BAD — "0 2 * * *" in a US/Eastern cron will:</span>
<span style="color:#888">#   → skip entirely on Mar 8 (clocks jump 1:59→3:00, so 2 AM never exists)</span>
<span style="color:#888">#   → run TWICE on Nov 1  (clocks fall back 2:59→2:00, so 2 AM repeats)</span>

<span style="color:#888"># FIX — schedule cron in UTC, then convert for display only</span>
<span style="color:#888"># "0 2 * * *" UTC = 7:30 AM IST year-round (IST never changes)</span>
<span style="color:#888"># "0 7 * * *" UTC = 2:00 AM EST / 3:00 AM EDT (off by 1h in summer)</span>

<span style="color:#888">// Node.js — node-cron with UTC timezone</span>
<span style="color:#0a54a0">const</span> cron = require(<span style="color:#c0392b">'node-cron'</span>);
cron.schedule(<span style="color:#c0392b">'0 2 * * *'</span>, () =&gt; { <span style="color:#888">/* task */</span> }, { timezone: <span style="color:#c0392b">'UTC'</span> });
<span style="color:#888">// UTC-scheduled jobs are immune to DST</span></code></pre>
  </div>

  <h3 style="color:#c0392b;font-size:1rem;margin:0 0 0.5rem;">Bug #4 — Database stores local time, DST makes it ambiguous</h3>
  <div style="margin-bottom:1rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;background:#7f1d1d;color:#fff;padding:0.4rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.82rem;font-weight:600;">
      <span>SQL — storing local vs UTC</span>
      <button onclick="copySnippet('snip-dst4',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:5px;cursor:pointer;font-size:0.78rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-dst4" style="background:#fff5f5;margin:0;padding:0.85rem 1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.87rem;line-height:1.7;border:1px solid #fca5a5;border-top:none;"><code><span style="color:#888">-- BAD: DATETIME in MySQL stores no timezone info</span>
<span style="color:#888">-- "2026-11-01 01:30:00" is ambiguous — happened before OR after clock fallback?</span>
<span style="color:#0a54a0">CREATE TABLE</span> orders (created_at <span style="color:#c0392b">DATETIME</span>); <span style="color:#888">-- ambiguous during DST</span>

<span style="color:#888">-- GOOD: store UTC, convert at query time</span>
<span style="color:#0a54a0">CREATE TABLE</span> orders (created_at <span style="color:#c0392b">TIMESTAMP</span>); <span style="color:#888">-- MySQL TIMESTAMP stores UTC internally</span>
<span style="color:#888">-- or store as BIGINT (Unix epoch ms) — unambiguous, timezone-free</span>
<span style="color:#0a54a0">CREATE TABLE</span> orders (created_at_ms <span style="color:#c0392b">BIGINT</span>);

<span style="color:#888">-- PostgreSQL: use TIMESTAMPTZ (timestamp with time zone) — always UTC internally</span>
<span style="color:#0a54a0">CREATE TABLE</span> orders (created_at <span style="color:#c0392b">TIMESTAMPTZ</span> <span style="color:#0a54a0">DEFAULT NOW</span>()); <span style="color:#888">-- recommended ✅</span></code></pre>
  </div>

  <div style="background:#eef5ff;border-left:4px solid #0a54a0;padding:0.75rem 1rem;border-radius:0 8px 8px 0;font-size:0.88rem;margin-top:0.5rem;">
    <strong>Countries that do NOT observe DST</strong> (safe for fixed-offset use): India (IST +5:30), China (CST +8), Japan (JST +9), Singapore (SGT +8), UAE (GST +4), most of Africa, and most of Southeast Asia. The US, EU, Canada, Australia, and most of South America <em>do</em> observe DST.
  </div>
  </div></div>

  <div id="acc-gotchas" class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Datetime Gotchas Every Developer Should Know</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body">
  <p style="color:#555;margin:0 0 1.1rem;">These are the datetime edge cases that cause subtle bugs even for experienced developers.</p>

  <table style="width:100%;border-collapse:collapse;font-size:0.88rem;margin-bottom:1.4rem;">
    <thead><tr style="background:#0a3a86;color:#fff;">
      <th style="padding:0.55rem 0.8rem;text-align:left;border-radius:6px 0 0 0;width:30%;">Gotcha</th>
      <th style="padding:0.55rem 0.8rem;text-align:left;">What happens</th>
      <th style="padding:0.55rem 0.8rem;text-align:left;border-radius:0 6px 0 0;">Fix</th>
    </tr></thead>
    <tbody>
      <tr style="background:#f0f5ff;">
        <td style="padding:0.55rem 0.8rem;font-weight:600;">2 AM doesn't exist</td>
        <td style="padding:0.55rem 0.8rem;">On DST spring-forward day (e.g. Mar 8 US), clocks jump 1:59→3:00. Any logic targeting 2 AM silently skips.</td>
        <td style="padding:0.55rem 0.8rem;">Schedule in UTC or check if the resulting time is valid after conversion.</td>
      </tr>
      <tr>
        <td style="padding:0.55rem 0.8rem;font-weight:600;">2 AM happens twice</td>
        <td style="padding:0.55rem 0.8rem;">On DST fall-back day (e.g. Nov 1 US), clocks roll back 2:59→2:00. Tasks fire twice; records appear out of order.</td>
        <td style="padding:0.55rem 0.8rem;">Store timestamps as UTC epoch (Unix ms). Order by epoch, not by display time.</td>
      </tr>
      <tr style="background:#f0f5ff;">
        <td style="padding:0.55rem 0.8rem;font-weight:600;">Off-by-one-day in IST</td>
        <td style="padding:0.55rem 0.8rem;"><code>new Date('2026-03-08')</code> is Mar 8 00:00 UTC = <strong>Mar 7 at 11:30 PM IST</strong>. Displaying this date in IST shows the wrong day.</td>
        <td style="padding:0.55rem 0.8rem;">Use <code>new Date('2026-03-08T00:00:00+05:30')</code> to anchor the date in IST, or always pass dates as <code>YYYY-MM-DDT00:00:00Z</code> and convert.</td>
      </tr>
      <tr>
        <td style="padding:0.55rem 0.8rem;font-weight:600;">Leap seconds</td>
        <td style="padding:0.55rem 0.8rem;">UTC occasionally adds a 23:59:60 second. Most languages ignore this, but POSIX time smears it, causing subtle 1-second drift in high-precision systems.</td>
        <td style="padding:0.55rem 0.8rem;">Use NTP-synced servers. For financial/audit systems, use TAI or explicitly document your handling.</td>
      </tr>
      <tr style="background:#f0f5ff;">
        <td style="padding:0.55rem 0.8rem;font-weight:600;">moment.js is legacy</td>
        <td style="padding:0.55rem 0.8rem;">Moment.js is in maintenance mode. Mutable date objects and large bundle size are known issues.</td>
        <td style="padding:0.55rem 0.8rem;">Use <strong>Temporal API</strong> (stage 3), <strong>date-fns</strong>, or <strong>Luxon</strong> for new projects.</td>
      </tr>
      <tr>
        <td style="padding:0.55rem 0.8rem;font-weight:600;">ISO string without Z</td>
        <td style="padding:0.55rem 0.8rem;"><code>"2026-03-08T12:00:00"</code> — no timezone indicator. Chrome, Node, and Safari may parse it differently (local vs UTC).</td>
        <td style="padding:0.55rem 0.8rem;">Always include offset: <code>"2026-03-08T12:00:00Z"</code> or <code>"…+05:30"</code>. Never pass naked ISO strings between systems.</td>
      </tr>
      <tr style="background:#f0f5ff;">
        <td style="padding:0.55rem 0.8rem;font-weight:600;">toLocaleDateString() varies by browser</td>
        <td style="padding:0.55rem 0.8rem;">Output format differs across browsers and OS locales. Can't be reliably parsed back to a Date.</td>
        <td style="padding:0.55rem 0.8rem;">Use <code>Intl.DateTimeFormat</code> with explicit <code>locale</code> and <code>timeZone</code> options for consistent display.</td>
      </tr>
      <tr>
        <td style="padding:0.55rem 0.8rem;font-weight:600;">Log timestamps out of order</td>
        <td style="padding:0.55rem 0.8rem;">Distributed servers in different timezones log events with local time. Merging logs makes events appear to go backwards.</td>
        <td style="padding:0.55rem 0.8rem;">Always log in UTC ISO 8601 (<code>2026-03-08T12:00:00.000Z</code>). Tools like Loki, Splunk, and Datadog sort by UTC by default.</td>
      </tr>
    </tbody>
  </table>

  <div style="background:#eef5ff;border-left:4px solid #0a54a0;padding:0.75rem 1rem;border-radius:0 8px 8px 0;font-size:0.88rem;">
    <strong>Golden rule for India-based developers:</strong> IST is UTC+5:30 with <em>no DST, ever</em>. Your backend UTC timestamps are always IST = UTC + 5h 30m — a single, fixed arithmetic operation. This simplicity is a genuine advantage compared to working with US or EU timezones.
  </div>
  </div></div>

  <div id="acc-langbugs" class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Java, Python &amp; Go — Language-Specific Datetime Pain Points</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body">

  <!-- JAVA SECTION -->
  <div style="border:1px solid #e8d9b5;border-radius:10px;margin-bottom:1.6rem;overflow:hidden;">
    <div style="background:#7b4f12;color:#fff;padding:0.55rem 1rem;font-weight:700;font-size:0.95rem;display:flex;align-items:center;gap:0.5rem;">
      <span style="font-size:1.1rem;">&#9749;</span> Java — Common Datetime Pitfalls
    </div>
    <div style="padding:1rem;">
      <p style="color:#555;font-size:0.88rem;margin:0 0 0.9rem;"><strong>Pain:</strong> Java had broken datetime APIs (<code>java.util.Date</code>, <code>Calendar</code>) for 20 years. Java 8 introduced <code>java.time</code> (JSR-310) — but legacy code and bad habits persist.</p>

      <h4 style="color:#7b4f12;font-size:0.9rem;margin:0 0 0.4rem;">Bug #1 — Using <code>Date</code> and <code>Calendar</code> (legacy API)</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#7f1d1d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Java — WRONG (pre-Java 8 style)</span>
        <button onclick="copySnippet('snip-java-p1-bad',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-java-p1-bad" style="background:#fff5f5;margin:0 0 0.6rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #fca5a5;border-top:none;"><code><span style="color:#888">// BAD — java.util.Date is mutable, month is 0-indexed, no timezone</span>
Date date = <span style="color:#0a54a0">new</span> Date(<span style="color:#c0392b">2026</span>, <span style="color:#c0392b">2</span>, <span style="color:#c0392b">8</span>); <span style="color:#888">// !! month=2 means MARCH, not February</span>
Calendar cal = Calendar.getInstance();    <span style="color:#888">// uses JVM default timezone — varies per server</span>
cal.set(Calendar.HOUR_OF_DAY, <span style="color:#c0392b">0</span>);        <span style="color:#888">// silently uses local time, not UTC</span></code></pre>

      <div style="display:flex;justify-content:space-between;align-items:center;background:#14532d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Java — CORRECT (java.time, Java 8+)</span>
        <button onclick="copySnippet('snip-java-p1-good',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-java-p1-good" style="background:#f0fdf4;margin:0 0 1rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #86efac;border-top:none;"><code><span style="color:#888">// GOOD — immutable, explicit, timezone-aware</span>
<span style="color:#0a54a0">import</span> java.time.*;

LocalDate date = LocalDate.of(<span style="color:#c0392b">2026</span>, <span style="color:#c0392b">3</span>, <span style="color:#c0392b">8</span>);  <span style="color:#888">// month is 1-indexed ✅</span>
ZonedDateTime istNow = ZonedDateTime.now(ZoneId.of(<span style="color:#c0392b">"Asia/Kolkata"</span>));
ZonedDateTime utcNow = ZonedDateTime.now(ZoneOffset.UTC);

<span style="color:#888">// Convert UTC to IST</span>
Instant instant = Instant.parse(<span style="color:#c0392b">"2026-03-08T12:00:00Z"</span>);
ZonedDateTime ist = instant.atZone(ZoneId.of(<span style="color:#c0392b">"Asia/Kolkata"</span>));
<span style="color:#888">// → 2026-03-08T17:30:00+05:30[Asia/Kolkata]</span></code></pre>

      <h4 style="color:#7b4f12;font-size:0.9rem;margin:0 0 0.4rem;">Bug #2 — JVM default timezone changes between environments</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#4a1d96;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Java — Pin JVM timezone at startup</span>
        <button onclick="copySnippet('snip-java-p2',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-java-p2" style="background:#faf5ff;margin:0 0 1rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #d8b4fe;border-top:none;"><code><span style="color:#888">// Works on dev machine (IST), fails on UTC AWS server — fix at app startup</span>
TimeZone.setDefault(TimeZone.getTimeZone(<span style="color:#c0392b">"UTC"</span>));

<span style="color:#888">// OR pass as JVM arg (preferred for Spring Boot / containers)</span>
<span style="color:#888">// java -Duser.timezone=UTC -jar app.jar</span>

<span style="color:#888">// Spring Boot application.properties</span>
<span style="color:#888">// spring.jpa.properties.hibernate.jdbc.time_zone=UTC</span></code></pre>

      <h4 style="color:#7b4f12;font-size:0.9rem;margin:0 0 0.4rem;">Bug #3 — Hibernate / JPA losing timezone on persist</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#7f1d1d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Java / Spring Boot — Hibernate timezone config</span>
        <button onclick="copySnippet('snip-java-p3',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-java-p3" style="background:#fff5f5;margin:0;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #fca5a5;border-top:none;"><code><span style="color:#888">// BAD — entity field without explicit timezone handling</span>
<span style="color:#0a54a0">@Column</span>
<span style="color:#0a54a0">private</span> LocalDateTime createdAt; <span style="color:#888">// no timezone! Hibernate uses JVM default</span>

<span style="color:#888">// GOOD — use Instant or ZonedDateTime, configure Hibernate to write UTC</span>
<span style="color:#0a54a0">@Column</span>(columnDefinition = <span style="color:#c0392b">"TIMESTAMP WITH TIME ZONE"</span>)
<span style="color:#0a54a0">private</span> Instant createdAt = Instant.now(); <span style="color:#888">// always UTC ✅</span>

<span style="color:#888">// application.properties</span>
<span style="color:#888">// spring.jpa.properties.hibernate.jdbc.time_zone=UTC</span></code></pre>
    </div>
  </div>

  <!-- PYTHON SECTION -->
  <div style="border:1px solid #c3e0cc;border-radius:10px;margin-bottom:1.6rem;overflow:hidden;">
    <div style="background:#2e6e3e;color:#fff;padding:0.55rem 1rem;font-weight:700;font-size:0.95rem;display:flex;align-items:center;gap:0.5rem;">
      <span style="font-size:1.1rem;">&#128013;</span> Python — Common Datetime Pitfalls
    </div>
    <div style="padding:1rem;">
      <p style="color:#555;font-size:0.88rem;margin:0 0 0.9rem;"><strong>Pain:</strong> Python's <code>datetime</code> module distinguishes <em>naive</em> (no timezone) vs <em>aware</em> (has timezone) objects. Mixing them raises <code>TypeError</code> — or worse, silently produces wrong results.</p>

      <h4 style="color:#2e6e3e;font-size:0.9rem;margin:0 0 0.4rem;">Bug #1 — Naive vs aware datetime mixing</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#7f1d1d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Python — The naive/aware trap</span>
        <button onclick="copySnippet('snip-py-p1',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-py-p1" style="background:#fff5f5;margin:0 0 0.6rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #fca5a5;border-top:none;"><code><span style="color:#888"># BAD — datetime.now() returns NAIVE datetime (no timezone info)</span>
<span style="color:#0a54a0">from</span> datetime <span style="color:#0a54a0">import</span> datetime
naive = datetime.now()          <span style="color:#888"># naive — no tzinfo, assumes local system time</span>
utc   = datetime.utcnow()       <span style="color:#888"># ALSO naive! Despite the name, no tzinfo attached</span>

<span style="color:#888"># This raises TypeError: can't compare offset-naive and offset-aware datetimes</span>
<span style="color:#0a54a0">import</span> pytz
aware = datetime.now(pytz.utc)
diff  = aware - naive           <span style="color:#888"># ❌ TypeError</span>

<span style="color:#888"># GOOD — always use timezone-aware datetimes from the start</span>
<span style="color:#0a54a0">from</span> datetime <span style="color:#0a54a0">import</span> datetime, timezone
utc_now = datetime.now(timezone.utc)   <span style="color:#888"># aware UTC ✅ (no extra package)</span>

<span style="color:#0a54a0">from</span> zoneinfo <span style="color:#0a54a0">import</span> ZoneInfo          <span style="color:#888"># Python 3.9+</span>
ist_now = datetime.now(ZoneInfo(<span style="color:#c0392b">'Asia/Kolkata'</span>))  <span style="color:#888"># aware IST ✅</span></code></pre>

      <h4 style="color:#2e6e3e;font-size:0.9rem;margin:0 0 0.4rem;">Bug #2 — <code>datetime.utcnow()</code> is deprecated and misleading</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#14532d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Python — Replace utcnow() correctly</span>
        <button onclick="copySnippet('snip-py-p2',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-py-p2" style="background:#f0fdf4;margin:0 0 1rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #86efac;border-top:none;"><code><span style="color:#888"># datetime.utcnow() deprecated in Python 3.12 — returns naive UTC (confusing)</span>
<span style="color:#888"># Use datetime.now(timezone.utc) instead</span>

<span style="color:#0a54a0">from</span> datetime <span style="color:#0a54a0">import</span> datetime, timezone

<span style="color:#888"># OLD (deprecated)</span>
ts = datetime.utcnow()                          <span style="color:#888"># naive, misleading ❌</span>

<span style="color:#888"># NEW (correct)</span>
ts = datetime.now(timezone.utc)                 <span style="color:#888"># aware UTC ✅</span>
ts_iso = ts.isoformat()                         <span style="color:#888"># "2026-03-08T12:00:00+00:00"</span>
ts_ist = ts.astimezone(ZoneInfo(<span style="color:#c0392b">'Asia/Kolkata'</span>)) <span style="color:#888"># convert to IST ✅</span></code></pre>

      <h4 style="color:#2e6e3e;font-size:0.9rem;margin:0 0 0.4rem;">Bug #3 — <code>pytz.localize()</code> vs <code>replace()</code> — wrong way to attach timezone</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#7f1d1d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Python / pytz — localize vs replace</span>
        <button onclick="copySnippet('snip-py-p3',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-py-p3" style="background:#fff5f5;margin:0 0 1rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #fca5a5;border-top:none;"><code><span style="color:#0a54a0">import</span> pytz
<span style="color:#0a54a0">from</span> datetime <span style="color:#0a54a0">import</span> datetime
ist = pytz.timezone(<span style="color:#c0392b">'Asia/Kolkata'</span>)

naive_dt = datetime(<span style="color:#c0392b">2026</span>, <span style="color:#c0392b">3</span>, <span style="color:#c0392b">8</span>, <span style="color:#c0392b">12</span>, <span style="color:#c0392b">0</span>, <span style="color:#c0392b">0</span>)

<span style="color:#888"># BAD — replace() does not account for historical DST data in pytz</span>
wrong = naive_dt.replace(tzinfo=ist)   <span style="color:#888"># ❌ may use LMT offset (+5:21) not +5:30</span>

<span style="color:#888"># GOOD — use localize() with pytz</span>
correct = ist.localize(naive_dt)       <span style="color:#888"># ✅ uses correct IST +05:30</span>
print(correct)  <span style="color:#888"># 2026-03-08 12:00:00+05:30</span>

<span style="color:#888"># Or avoid pytz entirely — use zoneinfo (Python 3.9+)</span>
<span style="color:#0a54a0">from</span> zoneinfo <span style="color:#0a54a0">import</span> ZoneInfo
correct2 = naive_dt.replace(tzinfo=ZoneInfo(<span style="color:#c0392b">'Asia/Kolkata'</span>))  <span style="color:#888"># ✅ safe with zoneinfo</span></code></pre>

      <h4 style="color:#2e6e3e;font-size:0.9rem;margin:0 0 0.4rem;">Bug #4 — Django / Flask storing naive datetimes in DB</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#4a1d96;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Django — USE_TZ setting</span>
        <button onclick="copySnippet('snip-py-p4',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-py-p4" style="background:#faf5ff;margin:0;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #d8b4fe;border-top:none;"><code><span style="color:#888"># settings.py — USE_TZ=False (default in older Django) stores naive local time</span>
USE_TZ = <span style="color:#0a54a0">False</span>  <span style="color:#888"># ❌ — all auto_now / auto_now_add fields store server local time</span>

<span style="color:#888"># GOOD — always enable USE_TZ</span>
USE_TZ   = <span style="color:#0a54a0">True</span>           <span style="color:#888"># ✅ stores UTC in DB, converts to TIME_ZONE for display</span>
TIME_ZONE = <span style="color:#c0392b">'Asia/Kolkata'</span>  <span style="color:#888"># display timezone (not storage timezone)</span>

<span style="color:#888"># In views/serializers — use django.utils.timezone, NOT datetime.now()</span>
<span style="color:#0a54a0">from</span> django.utils <span style="color:#0a54a0">import</span> timezone
now = timezone.now()   <span style="color:#888"># aware UTC datetime ✅</span>
<span style="color:#888"># datetime.now() would give naive local time ❌</span></code></pre>
    </div>
  </div>

  <!-- GOLANG SECTION -->
  <div style="border:1px solid #c0dce8;border-radius:10px;margin-bottom:0.5rem;overflow:hidden;">
    <div style="background:#00676b;color:#fff;padding:0.55rem 1rem;font-weight:700;font-size:0.95rem;display:flex;align-items:center;gap:0.5rem;">
      <span style="font-size:1.1rem;">&#129417;</span> Go (Golang) — Common Datetime Pitfalls
    </div>
    <div style="padding:1rem;">
      <p style="color:#555;font-size:0.88rem;margin:0 0 0.9rem;"><strong>Pain:</strong> Go's <code>time</code> package is powerful but has sharp edges — <code>time.Now()</code> uses the local system timezone, <code>time.Parse</code> silently defaults to UTC, and the reference time format (<code>Mon Jan 2 15:04:05 2006</code>) trips up every new Go developer.</p>

      <h4 style="color:#00676b;font-size:0.9rem;margin:0 0 0.4rem;">Bug #1 — The reference time format (Go's biggest WTF)</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#7f1d1d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Go — Format reference time explained</span>
        <button onclick="copySnippet('snip-go-p1',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-go-p1" style="background:#fff5f5;margin:0 0 0.6rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #fca5a5;border-top:none;"><code><span style="color:#888">// BAD — using YYYY-MM-DD style (works in every other language, fails in Go)</span>
t.Format(<span style="color:#c0392b">"YYYY-MM-DD HH:mm:ss"</span>)  <span style="color:#888">// ❌ outputs literal "YYYY-MM-DD HH:mm:ss"</span>

<span style="color:#888">// Go uses a SPECIFIC reference time: Mon Jan 2 15:04:05 MST 2006</span>
<span style="color:#888">// Each component must match that exact reference value:</span>
<span style="color:#888">//   Year=2006  Month=01(Jan)  Day=02  Hour=15  Min=04  Sec=05  TZ=MST/-07:00</span>

<span style="color:#888">// CORRECT formats</span>
t.Format(<span style="color:#c0392b">"2006-01-02 15:04:05"</span>)          <span style="color:#888">// ✅ YYYY-MM-DD HH:MM:SS</span>
t.Format(time.RFC3339)                   <span style="color:#888">// ✅ "2026-03-08T12:00:00+05:30"</span>
t.Format(<span style="color:#c0392b">"2006-01-02T15:04:05Z07:00"</span>)  <span style="color:#888">// ✅ ISO 8601 with timezone</span></code></pre>

      <h4 style="color:#00676b;font-size:0.9rem;margin:0 0 0.4rem;">Bug #2 — <code>time.Parse</code> ignores timezone, <code>time.ParseInLocation</code> is the fix</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#14532d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Go — Parsing with correct location</span>
        <button onclick="copySnippet('snip-go-p2',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-go-p2" style="background:#f0fdf4;margin:0 0 1rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #86efac;border-top:none;"><code><span style="color:#0a54a0">import</span> <span style="color:#c0392b">"time"</span>

<span style="color:#888">// BAD — time.Parse with no zone in format string → result is UTC</span>
t, _ := time.Parse(<span style="color:#c0392b">"2006-01-02 15:04:05"</span>, <span style="color:#c0392b">"2026-03-08 12:00:00"</span>)
<span style="color:#888">// t.Location() == UTC — even if you meant IST ❌</span>

<span style="color:#888">// GOOD — use ParseInLocation to specify the timezone</span>
ist, _ := time.LoadLocation(<span style="color:#c0392b">"Asia/Kolkata"</span>)
t, _   := time.ParseInLocation(<span style="color:#c0392b">"2006-01-02 15:04:05"</span>, <span style="color:#c0392b">"2026-03-08 12:00:00"</span>, ist)
<span style="color:#888">// t is now 2026-03-08 12:00:00 +0530 IST ✅</span>

<span style="color:#888">// Convert to UTC for storage</span>
utcTime := t.UTC()
<span style="color:#888">// → 2026-03-08 06:30:00 +0000 UTC</span></code></pre>

      <h4 style="color:#00676b;font-size:0.9rem;margin:0 0 0.4rem;">Bug #3 — <code>time.Now()</code> uses local timezone, servers in UTC produce different output than dev machines</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#4a1d96;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Go — Always use UTC explicitly</span>
        <button onclick="copySnippet('snip-go-p3',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-go-p3" style="background:#faf5ff;margin:0 0 1rem;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #d8b4fe;border-top:none;"><code><span style="color:#888">// time.Now() → uses the local system timezone (IST on your laptop, UTC on AWS)</span>
now := time.Now()                 <span style="color:#888">// varies by machine ❌</span>
nowUTC := time.Now().UTC()        <span style="color:#888">// always UTC ✅ — use for storage/logging</span>

<span style="color:#888">// Convert UTC to IST for display</span>
ist, _ := time.LoadLocation(<span style="color:#c0392b">"Asia/Kolkata"</span>)
istTime := time.Now().UTC().In(ist)
fmt.Println(istTime.Format(time.RFC3339))
<span style="color:#888">// → "2026-03-08T17:30:00+05:30"</span>

<span style="color:#888">// Tip: pin your Docker/server timezone to UTC to avoid surprises</span>
<span style="color:#888">// ENV TZ=UTC in Dockerfile, or set TZ=UTC in your deployment environment</span></code></pre>

      <h4 style="color:#00676b;font-size:0.9rem;margin:0 0 0.4rem;">Bug #4 — Comparing <code>time.Time</code> values across different locations</h4>
      <div style="display:flex;justify-content:space-between;align-items:center;background:#14532d;color:#fff;padding:0.35rem 0.8rem;border-radius:6px 6px 0 0;font-size:0.8rem;font-weight:600;">
        <span>Go — Equal() vs == for time comparison</span>
        <button onclick="copySnippet('snip-go-p4',this)" style="background:#fff2;border:none;color:#fff;padding:0.2rem 0.6rem;border-radius:4px;cursor:pointer;font-size:0.77rem;">&#128203; Copy</button>
      </div>
      <pre id="snip-go-p4" style="background:#f0fdf4;margin:0;padding:0.8rem 1rem;border-radius:0 0 6px 6px;overflow-x:auto;font-size:0.86rem;line-height:1.7;border:1px solid #86efac;border-top:none;"><code><span style="color:#888">// BAD — == compares wall clock AND location, so UTC and IST times for the</span>
<span style="color:#888">// same instant are NOT equal with ==</span>
utcT := time.Date(<span style="color:#c0392b">2026</span>, <span style="color:#c0392b">3</span>, <span style="color:#c0392b">8</span>, <span style="color:#c0392b">6</span>, <span style="color:#c0392b">30</span>, <span style="color:#c0392b">0</span>, <span style="color:#c0392b">0</span>, time.UTC)
ist, _ := time.LoadLocation(<span style="color:#c0392b">"Asia/Kolkata"</span>)
istT  := time.Date(<span style="color:#c0392b">2026</span>, <span style="color:#c0392b">3</span>, <span style="color:#c0392b">8</span>, <span style="color:#c0392b">12</span>, <span style="color:#c0392b">0</span>, <span style="color:#c0392b">0</span>, <span style="color:#c0392b">0</span>, ist)
fmt.Println(utcT == istT)         <span style="color:#888">// false ❌ (same instant, different location)</span>

<span style="color:#888">// GOOD — use .Equal() which compares the underlying instant</span>
fmt.Println(utcT.Equal(istT))     <span style="color:#888">// true ✅</span>
<span style="color:#888">// Or compare .Unix() or .UnixMilli() values directly</span>
fmt.Println(utcT.Unix() == istT.Unix()) <span style="color:#888">// true ✅</span></code></pre>
    </div>
  </div>

  </div></div>

  <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Business Applications of Timezone Conversion</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body"><h3 style="color:#0a54a0;font-size:1.1rem;">Global Operations</h3><ul style="padding-left:1.5rem;line-height:1.8;"><li>Schedule calls and meetings across multiple time zones.</li><li>Set clear international project deadlines.</li><li>Time marketing emails and social posts for optimal engagement.</li><li>Plan webinars and conferences for global audiences.</li></ul><h3 style="color:#0a54a0;font-size:1.1rem;margin-top:1rem;">Finance &amp; Technology</h3><ul style="padding-left:1.5rem;line-height:1.8;"><li>Track global stock market opening and closing times.</li><li>Schedule server maintenance during low-traffic windows.</li><li>Correlate events in distributed system logs across regions.</li><li>Coordinate data backups across multiple data centers.</li></ul></div></div>

  <div id="acc-snippets" class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>UTC &amp; IST Code Snippets for Developers</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body">
  <p style="color:#555;margin:0 0 1rem;">Copy-paste ready code to get IST / convert UTC in popular languages.</p>
  <div style="margin-bottom:1.5rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;background:#0a3a86;color:#fff;padding:0.45rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.85rem;font-weight:600;">
      <span>JavaScript</span>
      <button onclick="copySnippet('snip-js',this)" style="background:#fff2;border:none;color:#fff;padding:0.25rem 0.7rem;border-radius:5px;cursor:pointer;font-size:0.8rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-js" style="background:#f4f7fb;margin:0;padding:1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.88rem;line-height:1.7;border:1px solid #d0dff5;border-top:none;"><code><span style="color:#888">// Get current IST time</span>
<span style="color:#0a54a0">const</span> istTime = <span style="color:#0a54a0">new</span> Date().toLocaleString(<span style="color:#c0392b">'en-IN'</span>, { timeZone: <span style="color:#c0392b">'Asia/Kolkata'</span> });
console.log(istTime);

<span style="color:#888">// Convert a UTC Date object to IST string</span>
<span style="color:#0a54a0">function</span> utcToIST(utcDate) {
  <span style="color:#0a54a0">return</span> utcDate.toLocaleString(<span style="color:#c0392b">'en-IN'</span>, { timeZone: <span style="color:#c0392b">'Asia/Kolkata'</span> });
}

<span style="color:#888">// Using Intl.DateTimeFormat (recommended for production)</span>
<span style="color:#0a54a0">const</span> fmt = <span style="color:#0a54a0">new</span> Intl.DateTimeFormat(<span style="color:#c0392b">'en-CA'</span>, {
  timeZone: <span style="color:#c0392b">'Asia/Kolkata'</span>,
  year: <span style="color:#c0392b">'numeric'</span>, month: <span style="color:#c0392b">'2-digit'</span>, day: <span style="color:#c0392b">'2-digit'</span>,
  hour: <span style="color:#c0392b">'2-digit'</span>, minute: <span style="color:#c0392b">'2-digit'</span>, second: <span style="color:#c0392b">'2-digit'</span>, hour12: <span style="color:#0a54a0">false</span>
});
console.log(fmt.format(<span style="color:#0a54a0">new</span> Date())); <span style="color:#888">// e.g. 2026-02-26 17:30:00</span></code></pre>
  </div>
  <div style="margin-bottom:1.5rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;background:#2e6e3e;color:#fff;padding:0.45rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.85rem;font-weight:600;">
      <span>Python</span>
      <button onclick="copySnippet('snip-py',this)" style="background:#fff2;border:none;color:#fff;padding:0.25rem 0.7rem;border-radius:5px;cursor:pointer;font-size:0.8rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-py" style="background:#f4faf6;margin:0;padding:1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.88rem;line-height:1.7;border:1px solid #c3e0cc;border-top:none;"><code><span style="color:#888"># Using pytz (install: pip install pytz)</span>
<span style="color:#0a54a0">from</span> datetime <span style="color:#0a54a0">import</span> datetime, timezone
<span style="color:#0a54a0">import</span> pytz

ist = pytz.timezone(<span style="color:#c0392b">'Asia/Kolkata'</span>)

<span style="color:#888"># Current IST time</span>
now_ist = datetime.now(ist)
print(now_ist.strftime(<span style="color:#c0392b">'%Y-%m-%d %H:%M:%S %Z'</span>))

<span style="color:#888"># Convert a UTC datetime to IST</span>
utc_dt = datetime(<span style="color:#c0392b">2026</span>, <span style="color:#c0392b">2</span>, <span style="color:#c0392b">26</span>, <span style="color:#c0392b">12</span>, <span style="color:#c0392b">0</span>, <span style="color:#c0392b">0</span>, tzinfo=timezone.utc)
ist_dt = utc_dt.astimezone(ist)
print(ist_dt.strftime(<span style="color:#c0392b">'%Y-%m-%d %H:%M:%S %Z'</span>))  <span style="color:#888"># 2026-02-26 17:30:00 IST</span>

<span style="color:#888"># Python 3.9+ — no extra package needed</span>
<span style="color:#0a54a0">from</span> zoneinfo <span style="color:#0a54a0">import</span> ZoneInfo
now_ist = datetime.now(ZoneInfo(<span style="color:#c0392b">'Asia/Kolkata'</span>))
print(now_ist)</code></pre>
  </div>
  <div style="margin-bottom:1.5rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;background:#7b4f12;color:#fff;padding:0.45rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.85rem;font-weight:600;">
      <span>Java</span>
      <button onclick="copySnippet('snip-java',this)" style="background:#fff2;border:none;color:#fff;padding:0.25rem 0.7rem;border-radius:5px;cursor:pointer;font-size:0.8rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-java" style="background:#fdfaf4;margin:0;padding:1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.88rem;line-height:1.7;border:1px solid #e8d9b5;border-top:none;"><code><span style="color:#888">// Java 8+ — java.time package</span>
<span style="color:#0a54a0">import</span> java.time.*;
<span style="color:#0a54a0">import</span> java.time.format.*;

<span style="color:#888">// Get current IST time</span>
ZonedDateTime istNow = ZonedDateTime.now(ZoneId.of(<span style="color:#c0392b">"Asia/Kolkata"</span>));
System.out.println(istNow);

<span style="color:#888">// Convert UTC instant to IST</span>
Instant utcInstant = Instant.parse(<span style="color:#c0392b">"2026-02-26T12:00:00Z"</span>);
ZonedDateTime istTime = utcInstant.atZone(ZoneId.of(<span style="color:#c0392b">"Asia/Kolkata"</span>));
System.out.println(istTime); <span style="color:#888">// 2026-02-26T17:30:00+05:30[Asia/Kolkata]</span>

<span style="color:#888">// Format nicely</span>
DateTimeFormatter fmt = DateTimeFormatter.ofPattern(<span style="color:#c0392b">"yyyy-MM-dd HH:mm:ss z"</span>);
System.out.println(istTime.format(fmt)); <span style="color:#888">// 2026-02-26 17:30:00 IST</span></code></pre>
  </div>
  <div style="margin-bottom:0.5rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;background:#5b3475;color:#fff;padding:0.45rem 0.9rem;border-radius:8px 8px 0 0;font-size:0.85rem;font-weight:600;">
      <span>SQL (MySQL)</span>
      <button onclick="copySnippet('snip-sql',this)" style="background:#fff2;border:none;color:#fff;padding:0.25rem 0.7rem;border-radius:5px;cursor:pointer;font-size:0.8rem;">&#128203; Copy</button>
    </div>
    <pre id="snip-sql" style="background:#faf4fd;margin:0;padding:1rem;border-radius:0 0 8px 8px;overflow-x:auto;font-size:0.88rem;line-height:1.7;border:1px solid #d9c0e8;border-top:none;"><code><span style="color:#888">-- Convert stored UTC datetime column to IST</span>
<span style="color:#0a54a0">SELECT</span>
  order_id,
  created_at <span style="color:#0a54a0">AS</span> utc_time,
  CONVERT_TZ(created_at, <span style="color:#c0392b">'UTC'</span>, <span style="color:#c0392b">'Asia/Kolkata'</span>) <span style="color:#0a54a0">AS</span> ist_time
<span style="color:#0a54a0">FROM</span> orders;

<span style="color:#888">-- Get current time in IST</span>
<span style="color:#0a54a0">SELECT</span> CONVERT_TZ(UTC_TIMESTAMP(), <span style="color:#c0392b">'UTC'</span>, <span style="color:#c0392b">'Asia/Kolkata'</span>) <span style="color:#0a54a0">AS</span> ist_now;

<span style="color:#888">-- PostgreSQL equivalent (AT TIME ZONE)</span>
<span style="color:#0a54a0">SELECT</span> NOW() AT TIME ZONE <span style="color:#c0392b">'UTC'</span> AT TIME ZONE <span style="color:#c0392b">'Asia/Kolkata'</span> <span style="color:#0a54a0">AS</span> ist_now;</code></pre>
  </div>
  </div></div>

  <div id="acc-whyist" class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>Why is IST UTC+5:30? The Half-Hour Offset Explained</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body">
  <h3 style="color:#0a54a0;font-size:1.05rem;">India's Unique 30-Minute Offset</h3>
  <p>India Standard Time (IST) is <strong>UTC+5:30</strong> — a half-hour offset that surprises many developers used to whole-hour timezones. Here's why:</p>
  <ul style="padding-left:1.5rem;line-height:1.9;margin-bottom:1rem;">
    <li><strong>Geography:</strong> India spans from ~68°E to ~97°E longitude — roughly 29° wide. The geographic center is around 82.5°E, which corresponds exactly to UTC+5:30 (82.5° ÷ 15° per hour = 5.5 hours).</li>
    <li><strong>One timezone for the whole country:</strong> India chose a single nationwide timezone in 1947 for national unity and administrative simplicity, despite its geographic width.</li>
    <li><strong>The 82.5°E meridian:</strong> The Indian government selected 82°30'E longitude (passing through Mirzapur, Uttar Pradesh) as the "Indian Standard Meridian."</li>
    <li><strong>No Daylight Saving Time:</strong> India has never observed DST. This makes IST one of the most stable timezones for developers — the UTC offset never changes.</li>
    <li><strong>Half-hour offsets are rare:</strong> Only a handful of countries use them: India (+5:30), Sri Lanka (+5:30), Afghanistan (+4:30), Iran (+3:30), and Myanmar (+6:30).</li>
  </ul>
  <div style="background:#eef5ff;border-left:4px solid #0a54a0;padding:0.75rem 1rem;border-radius:0 8px 8px 0;font-size:0.92rem;">
    <strong>Developer note:</strong> Because IST never changes, you can safely use the fixed offset <code>+05:30</code> in timestamps. However, best practice is still to use the IANA timezone name <code>Asia/Kolkata</code> for forward compatibility.
  </div>
  </div></div>

  <div id="acc-overlap" class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)" role="button" tabindex="0" aria-expanded="false"><h2>India Working Hours Overlap with Other Regions</h2><span class="accordion-arrow">&#9660;</span></div><div class="accordion-body">
  <p style="color:#555;margin:0 0 1rem;">Typical business hours are 9:00 AM – 6:00 PM local time. The table below shows the daily overlap window with India (IST).</p>
  <div style="overflow-x:auto;">
  <table style="width:100%;border-collapse:collapse;font-size:0.9rem;">
    <thead><tr style="background:#0a3a86;color:#fff;">
      <th style="padding:0.6rem 0.8rem;text-align:left;border-radius:6px 0 0 0;">Region</th>
      <th style="padding:0.6rem 0.8rem;text-align:left;">Their Business Hours (local)</th>
      <th style="padding:0.6rem 0.8rem;text-align:left;">Same in IST</th>
      <th style="padding:0.6rem 0.8rem;text-align:left;border-radius:0 6px 0 0;">Overlap Window (IST)</th>
    </tr></thead>
    <tbody>
      <tr style="background:#f0f5ff;">
        <td style="padding:0.6rem 0.8rem;font-weight:600;">🇺🇸 US East (EST/EDT)</td>
        <td style="padding:0.6rem 0.8rem;">9 AM – 6 PM EST</td>
        <td style="padding:0.6rem 0.8rem;">7:30 PM – 4:30 AM IST</td>
        <td style="padding:0.6rem 0.8rem;color:#1a7a1a;font-weight:600;">7:30 PM – 11:30 PM IST</td>
      </tr>
      <tr>
        <td style="padding:0.6rem 0.8rem;font-weight:600;">🇺🇸 US West (PST/PDT)</td>
        <td style="padding:0.6rem 0.8rem;">9 AM – 6 PM PST</td>
        <td style="padding:0.6rem 0.8rem;">10:30 PM – 7:30 AM IST</td>
        <td style="padding:0.6rem 0.8rem;color:#1a7a1a;font-weight:600;">10:30 PM – 12:30 AM IST</td>
      </tr>
      <tr style="background:#f0f5ff;">
        <td style="padding:0.6rem 0.8rem;font-weight:600;">🇬🇧 UK (GMT/BST)</td>
        <td style="padding:0.6rem 0.8rem;">9 AM – 6 PM GMT</td>
        <td style="padding:0.6rem 0.8rem;">2:30 PM – 11:30 PM IST</td>
        <td style="padding:0.6rem 0.8rem;color:#1a7a1a;font-weight:600;">2:30 PM – 6:00 PM IST</td>
      </tr>
      <tr>
        <td style="padding:0.6rem 0.8rem;font-weight:600;">🇪🇺 Central Europe (CET/CEST)</td>
        <td style="padding:0.6rem 0.8rem;">9 AM – 6 PM CET</td>
        <td style="padding:0.6rem 0.8rem;">1:30 PM – 10:30 PM IST</td>
        <td style="padding:0.6rem 0.8rem;color:#1a7a1a;font-weight:600;">1:30 PM – 6:00 PM IST</td>
      </tr>
      <tr style="background:#f0f5ff;">
        <td style="padding:0.6rem 0.8rem;font-weight:600;">🇸🇬 Singapore / Malaysia (SGT)</td>
        <td style="padding:0.6rem 0.8rem;">9 AM – 6 PM SGT</td>
        <td style="padding:0.6rem 0.8rem;">6:30 AM – 3:30 PM IST</td>
        <td style="padding:0.6rem 0.8rem;color:#1a7a1a;font-weight:600;">9:00 AM – 3:30 PM IST</td>
      </tr>
      <tr>
        <td style="padding:0.6rem 0.8rem;font-weight:600;">🇦🇺 Australia East (AEST)</td>
        <td style="padding:0.6rem 0.8rem;">9 AM – 6 PM AEST</td>
        <td style="padding:0.6rem 0.8rem;">3:30 AM – 12:30 PM IST</td>
        <td style="padding:0.6rem 0.8rem;color:#1a7a1a;font-weight:600;">9:00 AM – 12:30 PM IST</td>
      </tr>
    </tbody>
  </table>
  </div>
  <p style="font-size:0.82rem;color:#777;margin-top:0.75rem;">* EST = UTC−5, PST = UTC−8, GMT = UTC+0, CET = UTC+1, SGT = UTC+8, AEST = UTC+10. Standard (non-DST) offsets used. Overlap assumes IST business hours 9 AM–6 PM.</p>
  </div></div>
</div><!-- /tab-info -->

<!-- ===== TAB: NSE/BSE MARKET HOURS ===== -->
<div id="tab-market" class="tab-panel" style="display:none;">
  <h2 style="font-size:1.35rem;font-weight:800;color:#0a54a0;margin-bottom:0.25rem;">&#x1F4C8; NSE / BSE Market Hours</h2>
  <p style="color:#637381;font-size:0.9rem;margin-bottom:1.2rem;">Live status of Indian stock market sessions. No login required — pure IST calculation.</p>
  <div id="marketContent">Loading…</div>
  <div style="margin-top:1.5rem;background:#f3f6fb;border-radius:10px;padding:1rem 1.5rem;border:1px solid #e0eaff;">
    <div style="font-weight:700;color:#0a54a0;margin-bottom:0.5rem;">MCX Commodity Exchange Hours (IST)</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;font-size:0.88rem;color:#374151;">
      <div>&#x1F7E2; Agricultural commodities: <strong>9:00 AM – 9:00 PM</strong></div>
      <div>&#x1F7E2; Non-agri / Bullion / Energy: <strong>9:00 AM – 11:30 PM</strong></div>
    </div>
  </div>
  <p style="font-size:0.78rem;color:#9ca3af;margin-top:1rem;">&#9432; NSE/BSE remain closed on Saturdays, Sundays and declared market holidays. Sessions shown are standard; special muhurat trading may vary.</p>
</div><!-- /tab-market -->

<!-- ===== TAB: INDIA SHIFT PLANNER ===== -->
<div id="tab-shift" class="tab-panel" style="display:none;">
  <h2 style="font-size:1.35rem;font-weight:800;color:#0a54a0;margin-bottom:0.25rem;">&#x1F303; India Shift Timing Planner</h2>
  <p style="color:#637381;font-size:0.9rem;margin-bottom:1.2rem;">Enter your work hours in any timezone and instantly see the equivalent IST hours — and how they map to other cities.</p>
  <div style="background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e0eaff;margin-bottom:1.2rem;">
    <div style="display:grid;grid-template-columns:1fr 1fr auto;gap:0.75rem;align-items:end;flex-wrap:wrap;">
      <div>
        <label style="font-size:0.8rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Shift Timezone</label>
        <select id="shiftTz" aria-label="Select shift timezone" style="width:100%;padding:0.5rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.9rem;" onchange="buildShiftPlan()">
          <option value="America/New_York">🇺🇸 US Eastern (ET)</option>
          <option value="America/Chicago">🇺🇸 US Central (CT)</option>
          <option value="America/Denver">🇺🇸 US Mountain (MT)</option>
          <option value="America/Los_Angeles">🇺🇸 US Pacific (PT)</option>
          <option value="Europe/London">🇬🇧 UK (GMT/BST)</option>
          <option value="Europe/Berlin">🇩🇪 Central Europe (CET)</option>
          <option value="Asia/Dubai">🇦🇪 Dubai (GST)</option>
          <option value="Asia/Singapore">🇸🇬 Singapore (SGT)</option>
          <option value="Australia/Sydney">🇦🇺 Sydney (AEDT)</option>
        </select>
      </div>
      <div>
        <label style="font-size:0.8rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Shift Start</label>
        <div style="display:flex;gap:0.3rem;">
          <input id="shiftStartH" type="number" min="0" max="23" value="9" style="width:60px;padding:0.5rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.9rem;" oninput="buildShiftPlan()" />
          <span style="line-height:2.2;">:</span>
          <input id="shiftStartM" type="number" min="0" max="59" value="0" style="width:60px;padding:0.5rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.9rem;" oninput="buildShiftPlan()" />
        </div>
      </div>
      <div>
        <label style="font-size:0.8rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Shift End</label>
        <div style="display:flex;gap:0.3rem;">
          <input id="shiftEndH" type="number" min="0" max="23" value="18" style="width:60px;padding:0.5rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.9rem;" oninput="buildShiftPlan()" />
          <span style="line-height:2.2;">:</span>
          <input id="shiftEndM" type="number" min="0" max="59" value="0" style="width:60px;padding:0.5rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.9rem;" oninput="buildShiftPlan()" />
        </div>
      </div>
    </div>
    <div style="margin-top:1.1rem;">
      <div style="font-size:0.78rem;font-weight:700;color:#374151;text-transform:uppercase;letter-spacing:0.05em;margin-bottom:0.6rem;">&#x26A1; Quick Presets</div>
      <div style="display:flex;flex-wrap:wrap;gap:0.5rem;">
        <button onclick="shiftPreset(0)" onmouseover="this.style.background='#1d4ed8';this.style.borderColor='#1d4ed8'" onmouseout="this.style.background='#2563eb';this.style.borderColor='#2563eb'" style="padding:0.45rem 1rem;border-radius:20px;border:2px solid #2563eb;background:#2563eb;color:#fff;font-size:0.82rem;font-weight:600;cursor:pointer;line-height:1.2;">🇺🇸 US 9 AM ET</button>
        <button onclick="shiftPreset(1)" onmouseover="this.style.background='#1d4ed8';this.style.borderColor='#1d4ed8'" onmouseout="this.style.background='#2563eb';this.style.borderColor='#2563eb'" style="padding:0.45rem 1rem;border-radius:20px;border:2px solid #2563eb;background:#2563eb;color:#fff;font-size:0.82rem;font-weight:600;cursor:pointer;line-height:1.2;">🇺🇸 US 1 PM ET</button>
        <button onclick="shiftPreset(2)" onmouseover="this.style.background='#1d4ed8';this.style.borderColor='#1d4ed8'" onmouseout="this.style.background='#2563eb';this.style.borderColor='#2563eb'" style="padding:0.45rem 1rem;border-radius:20px;border:2px solid #2563eb;background:#2563eb;color:#fff;font-size:0.82rem;font-weight:600;cursor:pointer;line-height:1.2;">🇺🇸 US 5 PM ET</button>
        <button onclick="shiftPreset(3)" onmouseover="this.style.background='#0f766e';this.style.borderColor='#0f766e'" onmouseout="this.style.background='#0d9488';this.style.borderColor='#0d9488'" style="padding:0.45rem 1rem;border-radius:20px;border:2px solid #0d9488;background:#0d9488;color:#fff;font-size:0.82rem;font-weight:600;cursor:pointer;line-height:1.2;">🇬🇧 UK 9 AM GMT</button>
        <button onclick="shiftPreset(4)" onmouseover="this.style.background='#0f766e';this.style.borderColor='#0f766e'" onmouseout="this.style.background='#0d9488';this.style.borderColor='#0d9488'" style="padding:0.45rem 1rem;border-radius:20px;border:2px solid #0d9488;background:#0d9488;color:#fff;font-size:0.82rem;font-weight:600;cursor:pointer;line-height:1.2;">🇬🇧 UK 2 PM GMT</button>
        <button onclick="shiftPreset(5)" onmouseover="this.style.background='#c2410c';this.style.borderColor='#c2410c'" onmouseout="this.style.background='#ea580c';this.style.borderColor='#ea580c'" style="padding:0.45rem 1rem;border-radius:20px;border:2px solid #ea580c;background:#ea580c;color:#fff;font-size:0.82rem;font-weight:600;cursor:pointer;line-height:1.2;">🇦🇪 Dubai 9 AM GST</button>
      </div>
    </div>
  </div>
  <div id="shiftResult"></div>
</div><!-- /tab-shift -->

<!-- ===== TAB: INDIA PUBLIC HOLIDAYS ===== -->
<div id="tab-holidays" class="tab-panel" style="display:none;">
  <h2 style="font-size:1.35rem;font-weight:800;color:#0a54a0;margin-bottom:0.25rem;">&#x1F38A; India Public Holidays 2026</h2>
  <p style="color:#637381;font-size:0.9rem;margin-bottom:1.2rem;">National gazetted holidays + major state holidays. See upcoming holidays and how many days away they are.</p>
  <div style="display:flex;align-items:center;gap:0.75rem;margin-bottom:1.2rem;flex-wrap:wrap;">
    <label for="holidayState" style="font-size:0.85rem;font-weight:700;color:#374151;">Filter by State:</label>
    <select id="holidayState" onchange="buildHolidayTab()" style="padding:0.5rem 0.75rem;border-radius:8px;border:1px solid #c9d6e8;font-size:0.9rem;min-width:180px;">
      <option value="All">All India (National)</option>
      <option value="MH">Maharashtra</option>
      <option value="TN">Tamil Nadu</option>
      <option value="KA">Karnataka</option>
      <option value="AP">Andhra Pradesh</option>
      <option value="TG">Telangana</option>
      <option value="GJ">Gujarat</option>
      <option value="UP">Uttar Pradesh</option>
      <option value="UK">Uttarakhand</option>
      <option value="BR">Bihar</option>
      <option value="JH">Jharkhand</option>
    </select>
  </div>
  <div id="holidayList">Loading…</div>
  <p style="font-size:0.78rem;color:#9ca3af;margin-top:1.2rem;">&#9432; Dates shown are based on commonly observed national/state public holidays for 2026. Some dates may shift by one day based on official gazette notifications. Always verify with official sources for payroll purposes.</p>
</div><!-- /tab-holidays -->

<!-- ===== TAB: 183-DAY NRI TRACKER ===== -->
<div id="tab-nri183" class="tab-panel" style="display:none;">
  <h2 style="font-size:1.35rem;font-weight:800;color:#0a54a0;margin-bottom:0.25rem;">&#x2708;&#xFE0F; 183-Day NRI Tax Residency Tracker</h2>
  <p style="color:#637381;font-size:0.9rem;margin-bottom:1.2rem;">Track days spent in India in a financial year to determine NRI / Resident status under FEMA & Income Tax Act.</p>
  <div style="background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e0eaff;margin-bottom:1rem;">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;align-items:end;">
      <div>
        <label style="font-size:0.8rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Financial Year Start</label>
        <input id="nriFyStart" type="date" value="2025-04-01" style="width:100%;padding:0.5rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.9rem;" />
        <div style="font-size:0.75rem;color:#9ca3af;margin-top:0.2rem;">India FY: typically Apr 1 – Mar 31</div>
      </div>
      <div></div>
    </div>
    <div style="margin-top:1.2rem;">
      <div style="font-size:0.85rem;font-weight:700;color:#374151;margin-bottom:0.5rem;">Trips outside India (up to 5):</div>
      <div style="display:grid;gap:0.5rem;" id="nriTripGrid">
        <div style="display:grid;grid-template-columns:auto 1fr 1fr;gap:0.5rem;align-items:center;">
          <span style="font-size:0.8rem;color:#637381;font-weight:600;">Trip 1</span>
          <div><label for="nriTrip1S" style="font-size:0.75rem;color:#6b7280;">Departure</label><input id="nriTrip1S" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
          <div><label for="nriTrip1E" style="font-size:0.75rem;color:#6b7280;">Return</label><input id="nriTrip1E" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
        </div>
        <div style="display:grid;grid-template-columns:auto 1fr 1fr;gap:0.5rem;align-items:center;">
          <span style="font-size:0.8rem;color:#637381;font-weight:600;">Trip 2</span>
          <div><label for="nriTrip2S" style="font-size:0.75rem;color:#6b7280;">Departure</label><input id="nriTrip2S" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
          <div><label for="nriTrip2E" style="font-size:0.75rem;color:#6b7280;">Return</label><input id="nriTrip2E" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
        </div>
        <div style="display:grid;grid-template-columns:auto 1fr 1fr;gap:0.5rem;align-items:center;">
          <span style="font-size:0.8rem;color:#637381;font-weight:600;">Trip 3</span>
          <div><label for="nriTrip3S" style="font-size:0.75rem;color:#6b7280;">Departure</label><input id="nriTrip3S" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
          <div><label for="nriTrip3E" style="font-size:0.75rem;color:#6b7280;">Return</label><input id="nriTrip3E" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
        </div>
        <div style="display:grid;grid-template-columns:auto 1fr 1fr;gap:0.5rem;align-items:center;">
          <span style="font-size:0.8rem;color:#637381;font-weight:600;">Trip 4</span>
          <div><label for="nriTrip4S" style="font-size:0.75rem;color:#6b7280;">Departure</label><input id="nriTrip4S" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
          <div><label for="nriTrip4E" style="font-size:0.75rem;color:#6b7280;">Return</label><input id="nriTrip4E" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
        </div>
        <div style="display:grid;grid-template-columns:auto 1fr 1fr;gap:0.5rem;align-items:center;">
          <span style="font-size:0.8rem;color:#637381;font-weight:600;">Trip 5</span>
          <div><label for="nriTrip5S" style="font-size:0.75rem;color:#6b7280;">Departure</label><input id="nriTrip5S" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
          <div><label for="nriTrip5E" style="font-size:0.75rem;color:#6b7280;">Return</label><input id="nriTrip5E" type="date" style="width:100%;padding:0.4rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.85rem;" /></div>
        </div>
      </div>
    </div>
    <button onclick="calc183()" style="margin-top:1.1rem;padding:0.6rem 1.8rem;background:#0a54a0;color:#fff;border:none;border-radius:8px;font-size:0.95rem;font-weight:700;cursor:pointer;">Calculate Status</button>
  </div>
  <div id="nriResult"></div>
  <p style="font-size:0.78rem;color:#9ca3af;margin-top:1rem;">&#9432; The basic rule: 182 days or more in India in an FY = Resident. This tool covers the most common scenario. Additional look-back rules (60-day, 120-day, 730-day) may apply. Consult a CA for authoritative advice.</p>
</div><!-- /tab-nri183 -->

<!-- ===== TAB: INVOICE DUE DATE ===== -->
<div id="tab-invoice" class="tab-panel" style="display:none;">
  <h2 style="font-size:1.35rem;font-weight:800;color:#0a54a0;margin-bottom:0.25rem;">&#x1F9FE; Invoice Due Date Calculator</h2>
  <p style="color:#637381;font-size:0.9rem;margin-bottom:1.2rem;">Calculate Net-15, Net-30, Net-45, Net-60, Net-90 payment due dates instantly. See days remaining or overdue at a glance.</p>
  <div style="background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e0eaff;margin-bottom:1rem;">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;align-items:end;max-width:500px;">
      <div>
        <label style="font-size:0.82rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Invoice Date</label>
        <input id="invoiceDate" type="date" style="width:100%;padding:0.55rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.95rem;" oninput="calcInvoice()" />
      </div>
      <div>
        <label style="font-size:0.82rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Custom Net (days)</label>
        <input id="invoiceCustom" type="number" min="1" max="365" placeholder="e.g. 45" style="width:100%;padding:0.55rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.95rem;" oninput="calcInvoice()" />
      </div>
    </div>
  </div>
  <div id="invoiceResult"></div>
</div><!-- /tab-invoice -->

<!-- ===== TAB: NOTICE / PROBATION ===== -->
<div id="tab-notice" class="tab-panel" style="display:none;">
  <h2 style="font-size:1.35rem;font-weight:800;color:#0a54a0;margin-bottom:0.25rem;">&#x1F4CB; Notice Period &amp; Probation Calculator</h2>
  <p style="color:#637381;font-size:0.9rem;margin-bottom:1.2rem;">Enter your joining date and get your notice period end date and probation completion date instantly.</p>
  <div style="background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e0eaff;margin-bottom:1rem;">
    <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem;align-items:end;max-width:700px;flex-wrap:wrap;">
      <div>
        <label style="font-size:0.82rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Joining / Start Date</label>
        <input id="noticeStart" type="date" style="width:100%;padding:0.55rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.95rem;" oninput="calcNotice()" />
      </div>
      <div>
        <label style="font-size:0.82rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Notice Period (days)</label>
        <select id="noticeDays" aria-label="Notice period in days" onchange="calcNotice()" style="width:100%;padding:0.55rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.95rem;">
          <option value="30">30 days</option>
          <option value="60">60 days</option>
          <option value="90" selected>90 days</option>
          <option value="120">120 days</option>
          <option value="180">180 days</option>
        </select>
      </div>
      <div>
        <label style="font-size:0.82rem;font-weight:700;color:#637381;display:block;margin-bottom:0.3rem;">Probation Period (days)</label>
        <select id="probDays" aria-label="Probation period in days" onchange="calcNotice()" style="width:100%;padding:0.55rem;border-radius:6px;border:1px solid #c9d6e8;font-size:0.95rem;">
          <option value="60">60 days</option>
          <option value="90" selected>90 days</option>
          <option value="180">180 days</option>
          <option value="365">1 year</option>
        </select>
      </div>
    </div>
  </div>
  <div id="noticeResult"></div>
  <p style="font-size:0.78rem;color:#9ca3af;margin-top:1rem;">&#9432; Calendar days are used. Your employment contract may specify working days or different terms — always refer to your offer letter.</p>
</div><!-- /tab-notice -->

<section id="bottom-ad" aria-label="Advertisement" style="text-align:center;margin:3rem auto 2rem;padding:1rem;background:#fffbe6;border:1px solid #e6c200;border-radius:10px;max-width:728px;">
  <p style="font-size:0.8rem;color:#999;margin:0 0 0.5rem;text-transform:uppercase;letter-spacing:1px;">Advertisement</p>
  <ins class="adsbygoogle" style="display:block;margin:0 auto;" data-ad-client="ca-pub-7542838934089345" data-ad-slot="1669945205" data-ad-format="auto" data-full-width-responsive="true"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</section>

<footer>
  <p>&copy; 2026 WorkIndia by Harshit1711 | Tools for Global Professionals Working With India<br>Last updated: February 2026 | Free, instant, no signup required</p>
  <p style="margin-top:0.5rem;font-size:0.85rem;">
    <a href="javascript:void(0)" onclick="showTab('tab-info',document.getElementById('snav-info'));window.scrollTo(0,0);" style="color:#0a54a0;margin:0 0.5rem;">About</a> |
    <a href="/privacy.html" style="color:#0a54a0;margin:0 0.5rem;">Privacy Policy</a> |
    <a href="mailto:harshit1996yadav@gmail.com" style="color:#0a54a0;margin:0 0.5rem;">Contact</a>
  </p>
</footer>
</div><!-- /main-content -->

<aside class="sidebar-ad" aria-label="Advertisement">
  <p style="font-size:0.75rem;color:#999;margin:0.75rem 0 0.5rem;text-align:center;text-transform:uppercase;letter-spacing:1px;">Advertisement</p>
  <ins class="adsbygoogle" style="display:block;min-width:160px;width:100%;max-width:300px;min-height:600px;" data-ad-client="ca-pub-7542838934089345" data-ad-slot="9479793672" data-ad-format="auto" data-full-width-responsive="true"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</aside>
</div><!-- /main-layout -->
</main>
</div><!-- /content-area -->
</div><!-- /app-shell -->
<div style="position:absolute;left:-9999px;top:-9999px;width:1px;height:1px;overflow:hidden;" aria-hidden="true">
  <h2>What time is it in India right now?</h2>
  <p>India Standard Time (IST) is UTC+5:30. India is 5 hours and 30 minutes ahead of UTC. India does not observe Daylight Saving Time so IST is fixed year-round.</p>
  <h2>India time vs USA time</h2>
  <p>India IST is 10 hours and 30 minutes ahead of US Eastern Standard Time EST. India IST is 13 hours and 30 minutes ahead of US Pacific Standard Time PST. India is 11 hours and 30 minutes ahead of US Central Standard Time CST.</p>
  <h2>India time vs UK time</h2>
  <p>India IST is 5 hours and 30 minutes ahead of UK GMT in winter. India IST is 4 hours and 30 minutes ahead of UK BST in summer when UK observes DST. India does not change its clocks.</p>
  <h2>India time vs Europe time</h2>
  <p>India IST is 4 hours and 30 minutes ahead of Central European Time CET in winter. India is 3 hours and 30 minutes ahead of CEST in European summer.</p>
  <h2>India time vs Dubai time</h2>
  <p>India IST is 1 hour and 30 minutes ahead of Dubai UAE Gulf Standard Time GST which is UTC+4.</p>
  <h2>India time vs Singapore time</h2>
  <p>Singapore SGT UTC+8 is 2 hours and 30 minutes ahead of India IST UTC+5:30.</p>
  <h2>India time vs Japan time</h2>
  <p>Japan JST UTC+9 is 3 hours and 30 minutes ahead of India IST UTC+5:30.</p>
  <h2>India time vs Australia time</h2>
  <p>Australia Eastern Standard Time AEST UTC+10 is 4 hours and 30 minutes ahead of India IST.</p>
  <h2>What is IST time zone?</h2>
  <p>IST stands for India Standard Time. The offset is UTC+5:30. All of India uses a single time zone. IST was established in 1947. The 82.5 degrees East meridian passes through Mirzapur in Uttar Pradesh which is the reference meridian for IST.</p>
  <h2>EST to IST conversion</h2>
  <p>To convert EST to IST add 10 hours 30 minutes. 9 AM EST is 7:30 PM IST. 12 PM EST is 10:30 PM IST. 5 PM EST is 3:30 AM IST next day. 8 AM EST is 6:30 PM IST.</p>
  <h2>PST to IST conversion</h2>
  <p>To convert PST to IST add 13 hours 30 minutes. 9 AM PST is 10:30 PM IST. 12 PM PST is 1:30 AM IST next day. 6 PM PST is 7:30 AM IST next day.</p>
  <h2>GMT to IST conversion</h2>
  <p>To convert GMT to IST add 5 hours 30 minutes. 9 AM GMT is 2:30 PM IST. 12 PM GMT is 5:30 PM IST. 6 PM GMT is 11:30 PM IST.</p>
  <h2>Schedule meeting India USA time</h2>
  <p>Best overlap for India and USA East Coast is 7:30 AM to 11:30 AM EST which is 6 PM to 10 PM IST. Best overlap for India and USA West Coast is 7:30 AM to 9:30 AM PST which is 9 PM to 11 PM IST.</p>
  <h2>India working hours in EST PST GMT</h2>
  <p>India business hours are 9 AM to 6 PM IST. In EST that is 10:30 PM to 7:30 AM. In PST that is 7:30 PM to 4:30 AM. In GMT that is 3:30 AM to 12:30 PM. In CET that is 4:30 AM to 1:30 PM.</p>
  <p>Free online tool to convert UTC to IST instantly. Convert between UTC, IST, GMT, EST, PST, CET, JST and 20+ other timezones. No signup required. Works in your browser.</p>
  <h2>Timezone Converter</h2>
  <p>Convert any time between two timezones. Supports UTC, IST (India Standard Time), EST (Eastern Standard Time), PST (Pacific Standard Time), GMT, CET (Central European Time), JST (Japan Standard Time), and more.</p>
  <h2>World Clock</h2>
  <p>Live current time in New York, London, Paris, Dubai, Mumbai, Singapore, Tokyo, Sydney, Los Angeles, Sao Paulo, Cairo, Nairobi, Beijing, Seoul, and Auckland.</p>
  <h2>Unix Epoch Timestamp Converter</h2>
  <p>Convert Unix epoch timestamps (seconds or milliseconds) to human-readable date and time. Also convert any date back to Unix epoch. Essential tool for developers debugging logs and APIs.</p>
  <h2>Meeting Planner</h2>
  <p>Find the best meeting time across multiple cities worldwide. See working hours (9 AM to 6 PM) highlighted in green across all major timezones simultaneously.</p>
  <h2>Date &amp; Duration Calculator</h2>
  <p>Calculate the exact duration between any two dates and times in days, hours, minutes, and seconds. Useful for project deadlines, age calculation, countdowns, and contract durations.</p>
  <h2>Frequently Asked Questions</h2>
  <h3>How do I convert UTC to IST?</h3>
  <p>Add 5 hours and 30 minutes to UTC. For example, 12:00 UTC = 17:30 IST. India Standard Time (IST) is UTC+5:30.</p>
  <h3>What is the difference between UTC and GMT?</h3>
  <p>GMT is a time zone; UTC is a time standard. They show the same time value, but UTC is more precise and is the global standard used in computing and communications.</p>
  <h3>Why should developers store timestamps in UTC?</h3>
  <p>UTC avoids ambiguity from daylight saving time changes and regional offsets. Databases and APIs that store UTC timestamps work correctly for users in any timezone.</p>
  <h3>Does this tool work offline?</h3>
  <p>Yes - once the page is loaded, all timezone calculations run locally in your browser with no internet connection required.</p>
  <h3>What is a Unix epoch timestamp?</h3>
  <p>A Unix timestamp is the number of seconds (or milliseconds) since January 1, 1970 00:00:00 UTC. Use the Epoch tab to convert between timestamps and readable dates.</p>
  <h3>What is IST time now?</h3>
  <p>IST (India Standard Time) is UTC+5:30. This tool shows the live current IST time updated every 100 milliseconds.</p>
  <h3>How to convert EST to IST?</h3>
  <p>Add 10 hours 30 minutes to EST to get IST. EST is UTC-5:00 and IST is UTC+5:30, making the difference 10.5 hours.</p>
  <h2>Daylight Saving Time DST Bugs and Fixes for Developers</h2>
  <p>Daylight Saving Time causes production bugs twice a year. The US springs forward on March 8 2026 and falls back on November 1 2026. Europe springs forward March 29. India IST never observes DST.</p>
  <h3>How to avoid DST bugs in JavaScript?</h3>
  <p>Never hardcode UTC offsets like -5 for EST. Use IANA timezone names such as America/New_York with toLocaleString or Intl.DateTimeFormat. The IANA database handles EST vs EDT automatically.</p>
  <h3>Why do cron jobs run twice or skip on DST day?</h3>
  <p>A cron job scheduled at 2 AM local time skips entirely on spring-forward day because 2 AM never exists. On fall-back day it runs twice because 2 AM repeats. Fix: schedule all cron jobs in UTC using node-cron timezone UTC option.</p>
  <h3>Should databases store local time or UTC?</h3>
  <p>Always store timestamps in UTC. MySQL DATETIME has no timezone and becomes ambiguous during DST. Use MySQL TIMESTAMP or PostgreSQL TIMESTAMPTZ which store UTC internally. Unix epoch milliseconds as BIGINT are also timezone-free and unambiguous.</p>
  <h3>What is the 2 AM problem in daylight saving time?</h3>
  <p>During spring-forward transitions clocks jump from 1:59 AM to 3:00 AM making 2:00 AM to 2:59 AM non-existent. During fall-back transitions clocks roll back from 2:59 AM to 2:00 AM making that hour occur twice.</p>
  <h2>Java Datetime Bugs and Best Practices</h2>
  <p>Java developers should avoid the legacy java.util.Date and Calendar API. The java.util.Date constructor takes a 0-indexed month making March month index 2 not 3. Use java.time package introduced in Java 8 with LocalDate ZonedDateTime and Instant classes.</p>
  <h3>How to fix JVM timezone issues in Spring Boot?</h3>
  <p>The JVM uses the system default timezone which differs between developer machines and production servers. Fix by setting TimeZone.setDefault UTC at application startup or passing -Duser.timezone=UTC as a JVM argument. For Spring Boot with Hibernate add spring.jpa.properties.hibernate.jdbc.time_zone=UTC to application.properties.</p>
  <h3>Hibernate JPA timezone best practices</h3>
  <p>Avoid LocalDateTime in JPA entities as it has no timezone context. Use Instant for UTC timestamps and annotate columns with TIMESTAMP WITH TIME ZONE. Configure hibernate.jdbc.time_zone=UTC to ensure consistent UTC storage.</p>
  <h2>Python Datetime Bugs and Best Practices</h2>
  <p>Python datetime objects are either naive without timezone or aware with timezone. Mixing naive and aware datetimes raises TypeError. Always use timezone-aware datetimes from the start.</p>
  <h3>What is wrong with datetime.utcnow() in Python?</h3>
  <p>datetime.utcnow() is deprecated in Python 3.12. Despite its name it returns a naive datetime object with no timezone information. Replace it with datetime.now(timezone.utc) which returns a proper timezone-aware UTC datetime.</p>
  <h3>pytz localize vs replace in Python</h3>
  <p>When using pytz do not use replace(tzinfo=tz) to attach a timezone to a naive datetime. This can assign the historical LMT offset for India which is +5:21 not +5:30. Use pytz.timezone.localize() instead. In Python 3.9+ use zoneinfo.ZoneInfo where replace is safe.</p>
  <h3>Django USE_TZ timezone setting</h3>
  <p>Set USE_TZ=True in Django settings.py to ensure all datetimes are stored as UTC. Use django.utils.timezone.now() instead of datetime.now() in views and models. The TIME_ZONE setting controls display timezone not storage timezone.</p>
  <h2>Go Golang Datetime Bugs and Best Practices</h2>
  <p>Go uses a unique reference time for format strings: Mon Jan 2 15:04:05 MST 2006. Using YYYY-MM-DD or HH:mm in Go format strings outputs literal text not formatted values.</p>
  <h3>Go time format reference time explained</h3>
  <p>In Go time formatting use 2006 for year, 01 for month, 02 for day, 15 for 24-hour, 04 for minute, 05 for second. Use time.RFC3339 constant for ISO 8601 format. The magic reference date is January 2 15:04:05 2006 MST.</p>
  <h3>Go time.Parse vs time.ParseInLocation</h3>
  <p>time.Parse in Go assumes UTC when no timezone is in the format string. Use time.ParseInLocation with a loaded location to parse times in a specific timezone like Asia/Kolkata for IST.</p>
  <h3>Go time comparison Equal vs ==</h3>
  <p>In Go the == operator for time.Time values compares both the wall clock and the location. UTC 06:30 and IST 12:00 representing the same instant will not be equal with ==. Use the .Equal() method or compare .Unix() values to compare instants regardless of timezone.</p>
  <h2>Why is IST UTC plus 5 hours 30 minutes?</h2>
  <p>India Standard Time is UTC+5:30 because India spans from 68 degrees East to 97 degrees East longitude. The geographic center at 82.5 degrees East corresponds exactly to UTC+5:30. India uses a single nationwide timezone for administrative unity. India has never observed Daylight Saving Time making IST a fixed stable offset ideal for computing.</p>
  <h2>India US Working Hours Overlap</h2>
  <p>India IST overlaps with US Eastern time 7:30 PM to 11:30 PM IST. India overlaps with US Pacific time 10:30 PM to 12:30 AM IST. India overlaps with UK GMT 2:30 PM to 6 PM IST. India overlaps with Central Europe CET 1:30 PM to 6 PM IST. India overlaps with Singapore SGT 9 AM to 3:30 PM IST.</p>
  <h2>Specific EST to IST conversions</h2>
  <p>6 AM EST in India is 4:30 PM IST. 7 AM EST in India is 5:30 PM IST. 8 AM EST in India is 6:30 PM IST. 9 AM EST in India is 7:30 PM IST. 10 AM EST in India is 8:30 PM IST. 11 AM EST in India is 9:30 PM IST. 12 PM EST in India is 10:30 PM IST. 1 PM EST in India is 11:30 PM IST. 2 PM EST in India is 12:30 AM IST next day. 3 PM EST in India is 1:30 AM IST next day. 4 PM EST in India is 2:30 AM IST next day. 5 PM EST in India is 3:30 AM IST next day. 6 PM EST in India is 4:30 AM IST next day. 8 PM EST in India is 6:30 AM IST next day.</p>
  <h2>Specific PST to IST conversions</h2>
  <p>6 AM PST in India is 7:30 PM IST. 7 AM PST in India is 8:30 PM IST. 8 AM PST in India is 9:30 PM IST. 9 AM PST in India is 10:30 PM IST. 10 AM PST in India is 11:30 PM IST. 11 AM PST in India is 12:30 AM IST next day. 12 PM PST in India is 1:30 AM IST next day. 3 PM PST in India is 4:30 AM IST next day. 5 PM PST in India is 6:30 AM IST next day. 6 PM PST in India is 7:30 AM IST next day.</p>
  <h2>Specific GMT to IST conversions</h2>
  <p>6 AM GMT in India is 11:30 AM IST. 7 AM GMT in India is 12:30 PM IST. 8 AM GMT in India is 1:30 PM IST. 9 AM GMT in India is 2:30 PM IST. 10 AM GMT in India is 3:30 PM IST. 11 AM GMT in India is 4:30 PM IST. 12 PM GMT in India is 5:30 PM IST. 1 PM GMT in India is 6:30 PM IST. 3 PM GMT in India is 8:30 PM IST. 5 PM GMT in India is 10:30 PM IST. 6 PM GMT in India is 11:30 PM IST. 8 PM GMT in India is 1:30 AM IST next day.</p>
  <h2>Specific EDT to IST conversions (US summer time)</h2>
  <p>EDT is UTC minus 4. Add 9 hours 30 minutes to EDT to get IST. 9 AM EDT in India is 6:30 PM IST. 12 PM EDT in India is 9:30 PM IST. 5 PM EDT in India is 2:30 AM IST next day.</p>
  <h2>Specific PDT to IST conversions (US West Coast summer)</h2>
  <p>PDT is UTC minus 7. Add 12 hours 30 minutes to PDT to get IST. 9 AM PDT in India is 9:30 PM IST. 12 PM PDT in India is 12:30 AM IST next day.</p>
  <h2>India time now live clock</h2>
  <p>Current India time right now. IST live clock. What time is it in India today. India time today. IST clock online. India standard time now. Current time in Mumbai. Current time in Delhi. Current time in Bangalore. Current time in Chennai. Current time in Kolkata. Current time in Hyderabad. Current time in Pune.</p>
  <h2>Time difference questions</h2>
  <p>How many hours is India ahead of New York? India is 10 hours 30 minutes ahead of New York EST. How many hours is India ahead of London? India is 5 hours 30 minutes ahead of London in winter. How many hours is India ahead of California? India is 13 hours 30 minutes ahead of California PST. Is India ahead or behind USA? India is ahead of all US time zones. What time zone is India in? India is in the IST time zone which is UTC plus 5 hours 30 minutes.</p>
</div>
<script>
var DIFF_CARDS=[
  {label:'New York, USA',tz:'America/New_York',flag:'&#127482;&#127480;'},
  {label:'Los Angeles, USA',tz:'America/Los_Angeles',flag:'&#127482;&#127480;'},
  {label:'London, UK',tz:'Europe/London',flag:'&#127468;&#127463;'},
  {label:'Berlin / Paris, EU',tz:'Europe/Berlin',flag:'&#127466;&#127482;'},
  {label:'Dubai, UAE',tz:'Asia/Dubai',flag:'&#127462;&#127466;'},
  {label:'Singapore',tz:'Asia/Singapore',flag:'&#127480;&#127468;'},
  {label:'Tokyo, Japan',tz:'Asia/Tokyo',flag:'&#127471;&#127477;'},
  {label:'Sydney, Australia',tz:'Australia/Sydney',flag:'&#127462;&#127482;'}
];
function buildDiffCards(){
  var grid=document.getElementById('diffCardsGrid');
  if(!grid||grid.dataset.built)return;
  grid.dataset.built='1';
  var now=new Date();
  var istOff=5.5*3600000;
  var istNow=new Date(now.getTime()+istOff);
  DIFF_CARDS.forEach(function(c){
    try{
      var tzParts=new Intl.DateTimeFormat('en-US',{timeZone:c.tz,hour:'2-digit',minute:'2-digit',hour12:true}).formatToParts(now);
      var localTimeStr=tzParts.map(function(p){return p.value}).join('');
      var tzOff=getOffsetMinutes(now,c.tz);
      var diffMin=(5.5*60)+tzOff;
      if(diffMin>750)diffMin-=1440;if(diffMin<-750)diffMin+=1440;
      var ahead=diffMin>0;
      var aD=Math.abs(diffMin);
      var dh=Math.floor(aD/60),dm=aD%60;
      var diffStr=(ahead?'+':'-')+dh+(dm?' hr '+dm+' min':' hours');
      var color=ahead?'#0a54a0':'#c0392b';
      var bg=ahead?'#f0f6ff':'#fff5f5';
      var border=ahead?'#b0c8f5':'#fca5a5';
      var card=document.createElement('div');
      card.style.cssText='background:'+bg+';border:1px solid '+border+';border-radius:10px;padding:0.85rem 1rem;';
      card.innerHTML='<div style="font-size:0.82rem;font-weight:700;color:#555;margin-bottom:0.2rem;">'+c.flag+' '+c.label+'</div>'
        +'<div style="font-family:monospace;font-size:1.1rem;font-weight:700;color:#222;">'+localTimeStr+'</div>'
        +'<div style="font-size:0.82rem;color:'+color+';font-weight:600;margin-top:0.2rem;">India is <strong>'+diffStr+'</strong> '+(ahead?'ahead':'behind')+'</div>';
      grid.appendChild(card);
    }catch(e){}
  });
}
function openGuide(accId){showTab('tab-info',document.getElementById('snav-info'));window.scrollTo(0,0);setTimeout(function(){var acc=document.getElementById(accId);if(!acc)return;var header=acc.querySelector('.accordion-header'),body=acc.querySelector('.accordion-body');if(header&&body&&!body.classList.contains('open')){body.classList.add('open');header.classList.add('open');header.setAttribute('aria-expanded','true')}acc.scrollIntoView({behavior:'smooth',block:'start'})},120)}
function copySnippet(id,btn){var el=document.getElementById(id);if(!el)return;var text=el.innerText||el.textContent;navigator.clipboard.writeText(text.trim()).then(function(){var orig=btn.innerHTML;btn.innerHTML='&#10003; Copied!';btn.style.background='#4caf50';setTimeout(function(){btn.innerHTML=orig;btn.style.background='#fff2'},1800)})}
function pad(n){return String(n).padStart(2,'0')}
function formatDate(d){return d.getFullYear()+'-'+pad(d.getMonth()+1)+'-'+pad(d.getDate())+' '+pad(d.getHours())+':'+pad(d.getMinutes())+':'+pad(d.getSeconds())+'.'+String(d.getMilliseconds()).padStart(3,'0')}
function formatDateUTC(d){return d.getUTCFullYear()+'-'+pad(d.getUTCMonth()+1)+'-'+pad(d.getUTCDate())+' '+pad(d.getUTCHours())+':'+pad(d.getUTCMinutes())+':'+pad(d.getUTCSeconds())+'.'+String(d.getUTCMilliseconds()).padStart(3,'0')}
var INSTANT_CITIES=[
  {city:'New York',country:'USA',tz:'America/New_York'},
  {city:'London',country:'UK',tz:'Europe/London'},
  {city:'Dubai',country:'UAE',tz:'Asia/Dubai'},
  {city:'Singapore',country:'Singapore',tz:'Asia/Singapore'},
  {city:'Los Angeles',country:'USA',tz:'America/Los_Angeles'},
  {city:'Sydney',country:'Australia',tz:'Australia/Sydney'}
];
var PE_CITIES=[
  {label:'New York (USA)',tz:'America/New_York'},
  {label:'Los Angeles (USA)',tz:'America/Los_Angeles'},
  {label:'Chicago (USA)',tz:'America/Chicago'},
  {label:'London (UK)',tz:'Europe/London'},
  {label:'Paris / Berlin (EU)',tz:'Europe/Paris'},
  {label:'Dubai (UAE)',tz:'Asia/Dubai'},
  {label:'Singapore',tz:'Asia/Singapore'},
  {label:'Tokyo (Japan)',tz:'Asia/Tokyo'},
  {label:'Sydney (Australia)',tz:'Australia/Sydney'},
  {label:'UTC / GMT',tz:'UTC'}
];
function buildInstantCityClocks(){
  var grid=document.getElementById('instantCityClocks');
  if(!grid||grid.dataset.built)return;
  grid.dataset.built='1';
  var istCard=document.createElement('div');
  istCard.className='city-clock-card ist-card';
  istCard.innerHTML='<div class="cc-city">India (IST)</div><div class="cc-time" id="icc-ist">--:--:--</div><div class="cc-date" id="icc-ist-date"></div><div class="cc-diff" style="background:#fff3d0;color:#c05000;">UTC +5:30 &bull; No DST</div>';
  grid.appendChild(istCard);
  INSTANT_CITIES.forEach(function(c){
    var card=document.createElement('div');
    card.className='city-clock-card';
    var safeId='icc-'+c.tz.replace(/[^a-z]/gi,'-');
    card.innerHTML='<div class="cc-city">'+c.city+'</div><div style="font-size:0.73rem;color:#bbb;margin-bottom:0.1rem;">'+c.country+'</div><div class="cc-time" id="'+safeId+'">--:--:--</div><div class="cc-date" id="'+safeId+'-date"></div><div class="cc-diff" id="'+safeId+'-diff"></div>';
    grid.appendChild(card);
  });
}
function updateInstantCityClocks(){
  var now=new Date();
  var istNow=new Date(now.getTime()+5.5*3600000);
  var days=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
  var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  var istEl=document.getElementById('icc-ist');
  if(istEl)istEl.textContent=pad(istNow.getUTCHours())+':'+pad(istNow.getUTCMinutes())+':'+pad(istNow.getUTCSeconds());
  var istDEl=document.getElementById('icc-ist-date');
  if(istDEl)istDEl.textContent=days[istNow.getUTCDay()]+' '+istNow.getUTCDate()+' '+months[istNow.getUTCMonth()];
  INSTANT_CITIES.forEach(function(c){
    var safeId='icc-'+c.tz.replace(/[^a-z]/gi,'-');
    var tEl=document.getElementById(safeId);
    var dEl=document.getElementById(safeId+'-date');
    var diffEl=document.getElementById(safeId+'-diff');
    if(!tEl)return;
    try{
      var ts=now.toLocaleTimeString('en-GB',{timeZone:c.tz,hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false});
      var ds=now.toLocaleDateString('en-GB',{timeZone:c.tz,weekday:'short',day:'numeric',month:'short'});
      tEl.textContent=ts;
      if(dEl)dEl.textContent=ds;
      if(diffEl){
        var off=getOffsetMinutes(now,c.tz);
        var diffMin=Math.round((5.5*60)+off);
        if(diffMin>750)diffMin-=1440;if(diffMin<-750)diffMin+=1440;
        var ahead=diffMin>0,aD=Math.abs(diffMin),dh=Math.floor(aD/60),dm=aD%60;
        diffEl.textContent='India '+(ahead?'+':'-')+dh+(dm?' h '+dm+'m':'h')+(ahead?' ahead':' behind');
        diffEl.style.background=ahead?'#f0fff4':'#fff0f0';
        diffEl.style.color=ahead?'#1a6a2a':'#a01010';
      }
    }catch(e){}
  });
}
function buildPeSelect(){
  var sel=document.getElementById('peCity');
  if(!sel||sel.options.length>1)return;
  PE_CITIES.forEach(function(c){
    var o=document.createElement('option');
    o.value=c.tz;
    o.textContent=c.label;
    sel.appendChild(o);
  });
  sel.value='America/New_York';
  var now=new Date();
  var nyTime=now.toLocaleTimeString('en-GB',{timeZone:'America/New_York',hour:'2-digit',minute:'2-digit',hour12:false});
  var peTimeEl=document.getElementById('peTime');
  if(peTimeEl)peTimeEl.value=nyTime;
  sel.addEventListener('change',runPeConvert);
  if(peTimeEl){peTimeEl.addEventListener('change',runPeConvert);peTimeEl.addEventListener('input',runPeConvert);}
  runPeConvert();
}
function runPeConvert(){
  var tz=document.getElementById('peCity').value;
  var timeVal=document.getElementById('peTime').value;
  var res=document.getElementById('peResult');
  if(!timeVal||!tz){res.style.display='none';return;}
  try{
    var parts=timeVal.split(':');
    var h=parseInt(parts[0],10),m=parseInt(parts[1]||'0',10);
    var now=new Date();
    var tzOff=Math.round(getOffsetMinutes(now,tz));
    var utcMin=h*60+m-tzOff;
    var istMinRaw=utcMin+330;
    var istMin=((Math.round(istMinRaw)%1440)+1440)%1440;
    var istH=Math.floor(istMin/60),istM=Math.round(istMin%60);
    var period=istH>=12?'PM':'AM',h12=istH%12||12;
    var cityLabel=PE_CITIES.find(function(x){return x.tz===tz;});
    var label=cityLabel?cityLabel.label:tz;
    var note='';
    if(istMinRaw>=1440)note=' <span style="font-size:0.82rem;color:#888;">(next day in India)</span>';
    else if(istMinRaw<0)note=' <span style="font-size:0.82rem;color:#888;">(previous day in India)</span>';
    var srcPeriod=h>=12?'PM':'AM',srcH12=h%12||12;
    res.style.display='block';
    res.innerHTML='&#127760; In India it will be &nbsp;<strong style="font-size:1.35rem;">'+h12+':'+pad(istM)+' '+period+' IST</strong>'+note
      +'<span style="font-size:0.82rem;color:#888;display:block;margin-top:0.2rem;">That\'s '+pad(istH)+':'+pad(istM)+' (24-hour) &mdash; when it\'s '+srcH12+':'+pad(m)+' '+srcPeriod+' in '+label+'</span>';
  }catch(e){res.style.display='none';}
}
var HERO_DIFFS=[{label:'New York',tz:'America/New_York'},{label:'London',tz:'Europe/London'},{label:'Los Angeles',tz:'America/Los_Angeles'},{label:'Dubai',tz:'Asia/Dubai'},{label:'Singapore',tz:'Asia/Singapore'}];
function updateHeroClock(){
  var now=new Date();
  var istMs=now.getTime()+5.5*3600000;
  var ist=new Date(istMs);
  var hh=String(ist.getUTCHours()).padStart(2,'0'),mm=String(ist.getUTCMinutes()).padStart(2,'0'),ss=String(ist.getUTCSeconds()).padStart(2,'0');
  var heroTime=document.getElementById('heroIstTime');
  if(heroTime)heroTime.textContent=hh+':'+mm+':'+ss;
  var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
  var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  var heroDate=document.getElementById('heroIstDate');
  if(heroDate)heroDate.textContent=days[ist.getUTCDay()]+', '+ist.getUTCDate()+' '+months[ist.getUTCMonth()]+' '+ist.getUTCFullYear();

  // ── "Is India open right now?" status badge ──────────────────────────
  var badge=document.getElementById('indiaStatusBadge');
  var nextEl=document.getElementById('heroNextEvent');
  if(badge){
    var istH=ist.getUTCHours(),istM=ist.getUTCMinutes(),istTotalMin=istH*60+istM;
    var dow=ist.getUTCDay(); // 0=Sun,6=Sat
    var isWeekday=dow>=1&&dow<=5;
    // Check today's date against holiday list
    var todayStr=ist.getUTCFullYear()+'-'+String(ist.getUTCMonth()+1).padStart(2,'0')+'-'+String(ist.getUTCDate()).padStart(2,'0');
    var isHoliday=typeof INDIA_HOLIDAYS_2026!=='undefined'&&INDIA_HOLIDAYS_2026.some(function(h){return h.date===todayStr&&(h.states==='All');});
    var officeOpen=isWeekday&&!isHoliday&&istTotalMin>=9*60&&istTotalMin<18*60;
    var preOffice=isWeekday&&!isHoliday&&istTotalMin>=8*60&&istTotalMin<9*60;
    var marketOpen=isWeekday&&!isHoliday&&istTotalMin>=9*60+15&&istTotalMin<15*60+30;
    var statusText,statusIcon,statusBg;
    if(!isWeekday){statusIcon='😴';statusText='India is off — Weekend';statusBg='rgba(255,255,255,0.15)';}
    else if(isHoliday){statusIcon='🎉';statusText='India is off — Public Holiday';statusBg='rgba(255,200,50,0.25)';}
    else if(officeOpen){statusIcon='🟢';statusText='India is OPEN — Office Hours (9 AM–6 PM IST)';statusBg='rgba(34,197,94,0.25)';}
    else if(preOffice){statusIcon='🌅';statusText='India opens soon — in '+(9*60-istTotalMin)+' min';statusBg='rgba(251,191,36,0.25)';}
    else{statusIcon='🔴';statusText='India is CLOSED — outside office hours';statusBg='rgba(239,68,68,0.2)';}
    badge.style.background=statusBg;
    badge.innerHTML=statusIcon+' <span>'+statusText+'</span>';
    // Next event hint
    if(nextEl){
      var hint='';
      if(officeOpen){var minsLeft=18*60-istTotalMin;hint='&#x23F0; Closes in '+Math.floor(minsLeft/60)+'h '+( minsLeft%60)+'m &nbsp;&bull;&nbsp; '+(marketOpen?'&#x1F4C8; NSE/BSE: OPEN':'&#x1F4C8; NSE/BSE: closed (opens 9:15 AM IST)');}
      else if(!isWeekday||isHoliday){hint='&#x1F4C5; Next working day: Monday';}
      else{var minsToOpen=9*60-istTotalMin;if(minsToOpen<0)minsToOpen+=1440;hint='&#x1F552; India office opens in '+Math.floor(minsToOpen/60)+'h '+( minsToOpen%60)+'m (9:00 AM IST)';}
      nextEl.innerHTML=hint;
    }
  }

  var strip=document.getElementById('heroDiffStrip');
  if(strip&&!strip.dataset.built){
    strip.dataset.built='1';
    HERO_DIFFS.forEach(function(c){
      var sp=document.createElement('span');
      sp.id='hdiff-'+c.tz.replace(/\//g,'-');
      sp.style.cssText='background:rgba(255,255,255,0.2);color:#fff;font-size:0.82rem;font-weight:600;padding:0.28rem 0.75rem;border-radius:20px;white-space:nowrap;';
      sp.dataset.tz=c.tz;
      sp.dataset.label=c.label;
      strip.appendChild(sp);
    });
  }
  if(strip){
    strip.querySelectorAll('[data-tz]').forEach(function(el){
      try{
        var local=new Date();
        var istOff=5.5*60;
        var fmt=new Intl.DateTimeFormat('en-US',{timeZone:el.dataset.tz,hour:'2-digit',minute:'2-digit',hour12:false});
        var tzStr=fmt.format(local);
        var tzParts=Intl.DateTimeFormat('en',{timeZone:el.dataset.tz,hour:'numeric',minute:'numeric',hour12:false}).formatToParts(local);
        var tzH=parseInt(tzParts.find(function(p){return p.type==='hour'}).value,10);
        var tzM=parseInt(tzParts.find(function(p){return p.type==='minute'}).value,10);
        var tzTotalMin=tzH*60+tzM;
        var istTotalMin=(ist.getUTCHours()*60+ist.getUTCMinutes());
        var diff=istTotalMin-tzTotalMin;
        if(diff>750)diff-=1440;if(diff<-750)diff+=1440;
        var sign=diff>=0?'+':'-';
        var aD=Math.abs(diff);
        var dh=Math.floor(aD/60),dm=aD%60;
        var diffStr=sign+dh+(dm?':'+String(dm).padStart(2,'0'):'')+'h';
        el.textContent=el.dataset.label+': '+tzStr+' (IST '+diffStr+')';
      }catch(e){el.textContent=el.dataset.label;}
    });
  }
}
function updateCurrentTime(){var now=new Date(),utcMs=now.getTime(),utc=new Date(utcMs);document.getElementById('utcTime').textContent=formatDateUTC(utc);document.getElementById('localTime').textContent=formatDate(now);document.getElementById('istTime').textContent=formatDateUTC(new Date(utcMs+5.5*3600000));document.getElementById('estTime').textContent=formatDateUTC(new Date(utcMs-5*3600000));document.getElementById('pstTime').textContent=formatDateUTC(new Date(utcMs-8*3600000));document.getElementById('cetTime').textContent=formatDateUTC(new Date(utcMs+1*3600000));document.getElementById('jstTime').textContent=formatDateUTC(new Date(utcMs+9*3600000))}
document.addEventListener('click',function(e){var btn=e.target.closest('.copy-btn');if(!btn)return;var id=btn.getAttribute('data-copy-target'),text=id&&document.getElementById(id)?document.getElementById(id).textContent.trim():'';if(!text)return;navigator.clipboard.writeText(text).then(function(){var tip=btn.querySelector('.copied-tooltip');if(tip){tip.classList.add('show');setTimeout(function(){tip.classList.remove('show')},1500)}})});
function parseFlexible(input,asUTC){input=input.trim();if(!input)return null;var t=/^([01]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(input),d=/^\d{4}-\d{2}-\d{2}$/.test(input);if(t){var now=new Date(),p=input.split(':'),h=+p[0],m=+p[1],s=p[2]?+p[2]:0;return asUTC?new Date(Date.UTC(now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate(),h,m,s)):new Date(now.getFullYear(),now.getMonth(),now.getDate(),h,m,s)}if(d)return new Date(input+(asUTC?'T00:00:00Z':'T00:00:00'));var iso=/^\d{4}-\d{2}-\d{2}[ T]\d{2}:\d{2}(:\d{2})?(\.\d+)?Z?$/i.test(input);if(iso){var ss=input.replace(' ','T');if(asUTC&&!ss.endsWith('Z'))return new Date(ss+'Z');return new Date(ss)}var r=new Date(asUTC?input+'Z':input);return isNaN(r)?null:r}
function convertLocalToUTC(){var i=document.getElementById('localTimeInput').value,res=document.getElementById('localToUTCResult'),d=parseFlexible(i,false);if(!d){res.textContent='Could not parse. Try: 2026-02-26 17:30:00';return}var u=new Date(d.getTime()+d.getTimezoneOffset()*60000);res.innerHTML='UTC Time: <span class="time-text" style="display:inline-block;">'+formatDate(u)+'</span>'}
function convertUTCToLocal(){var i=document.getElementById('utcTimeInput').value,res=document.getElementById('utcToLocalResult'),d=parseFlexible(i,true);if(!d){res.textContent='Could not parse. Try: 2026-02-26 12:00:00';return}res.innerHTML='Local Time: <span class="time-text" style="display:inline-block;">'+formatDate(d)+'</span>'}
var TZ_LIST=[{label:"UTC (UTC+0)",tz:"UTC"},{label:"London (GMT/BST)",tz:"Europe/London"},{label:"New York (EST/EDT)",tz:"America/New_York"},{label:"Chicago (CST/CDT)",tz:"America/Chicago"},{label:"Denver (MST/MDT)",tz:"America/Denver"},{label:"Los Angeles (PST/PDT)",tz:"America/Los_Angeles"},{label:"Sao Paulo (BRT)",tz:"America/Sao_Paulo"},{label:"Paris / Berlin (CET/CEST)",tz:"Europe/Paris"},{label:"Dubai (GST)",tz:"Asia/Dubai"},{label:"Mumbai / Delhi (IST)",tz:"Asia/Kolkata"},{label:"Dhaka (BST)",tz:"Asia/Dhaka"},{label:"Bangkok (ICT)",tz:"Asia/Bangkok"},{label:"Singapore / KL (SGT)",tz:"Asia/Singapore"},{label:"Shanghai / Beijing (CST)",tz:"Asia/Shanghai"},{label:"Tokyo (JST)",tz:"Asia/Tokyo"},{label:"Seoul (KST)",tz:"Asia/Seoul"},{label:"Sydney (AEST/AEDT)",tz:"Australia/Sydney"},{label:"Auckland (NZST/NZDT)",tz:"Pacific/Auckland"},{label:"Honolulu (HST)",tz:"Pacific/Honolulu"},{label:"Nairobi (EAT)",tz:"Africa/Nairobi"},{label:"Cairo (EET)",tz:"Africa/Cairo"},{label:"Lagos (WAT)",tz:"Africa/Lagos"}];
function getOffsetMinutes(date,tz){var parts=new Intl.DateTimeFormat('en-US',{timeZone:tz,year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}).formatToParts(date);function g(t){return parseInt(parts.find(function(p){return p.type===t}).value,10)}var h=g('hour');if(h===24)h=0;return(Date.UTC(g('year'),g('month')-1,g('day'),h,g('minute'),g('second'))-date.getTime())/60000}
function fmtForTz(date,tz){return date.toLocaleString('en-CA',{timeZone:tz,year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}).replace(',','')}
function populateTzSelects(){['tzFrom','tzTo'].forEach(function(id,idx){var sel=document.getElementById(id);TZ_LIST.forEach(function(t){var o=document.createElement('option');o.value=t.tz;o.textContent=t.label;if(idx===0&&t.tz==='UTC')o.selected=true;if(idx===1&&t.tz==='Asia/Kolkata')o.selected=true;sel.appendChild(o)})});var el=document.getElementById('tzInputTime');if(el){var now=new Date();el.value=now.getFullYear()+'-'+pad(now.getMonth()+1)+'-'+pad(now.getDate())+'T'+pad(now.getHours())+':'+pad(now.getMinutes())}}
function convertTimezone(){var f=document.getElementById('tzFrom').value,t=document.getElementById('tzTo').value,v=document.getElementById('tzInputTime').value,res=document.getElementById('tzResult');if(!v){res.textContent='Please select a date and time.';return}try{var fl=TZ_LIST.find(function(x){return x.tz===f}).label,tl=TZ_LIST.find(function(x){return x.tz===t}).label,nu=new Date(v+':00Z'),tu=new Date(nu.getTime()-getOffsetMinutes(nu,f)*60000);res.innerHTML='<span style="color:#093f78">'+fl+'</span> &rarr; <span style="color:#093f78">'+tl+'</span><br><span style="font-family:monospace;font-size:1.15rem;">'+fmtForTz(tu,t)+'</span>'}catch(e){res.textContent='Conversion error.'}}
function populateQcSelects(){['qcFrom','qcTo'].forEach(function(id,idx){var sel=document.getElementById(id);if(!sel)return;TZ_LIST.forEach(function(t){var o=document.createElement('option');o.value=t.tz;o.textContent=t.label;sel.appendChild(o)});if(idx===0)sel.value='UTC';if(idx===1)sel.value='Asia/Kolkata';sel.addEventListener('change',quickConvert)});var el=document.getElementById('qcTime');if(el){var now=new Date();el.value=now.getUTCFullYear()+'-'+pad(now.getUTCMonth()+1)+'-'+pad(now.getUTCDate())+'T'+pad(now.getUTCHours())+':'+pad(now.getUTCMinutes());quickConvert()}}
function quickConvert(){var qcF=document.getElementById('qcFrom'),qcT=document.getElementById('qcTo'),qcTm=document.getElementById('qcTime'),res=document.getElementById('qcResult');if(!qcF||!qcT||!qcTm||!res)return;var f=qcF.value,t=qcT.value,v=qcTm.value;if(!v){res.style.display='none';return}try{var fl=TZ_LIST.find(function(x){return x.tz===f}).label,tl=TZ_LIST.find(function(x){return x.tz===t}).label,nu=new Date(v+':00Z'),tu=new Date(nu.getTime()-getOffsetMinutes(nu,f)*60000),ts=tu.toLocaleTimeString('en-GB',{timeZone:t,hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}),ds=tu.toLocaleDateString('en-GB',{timeZone:t,weekday:'short',day:'numeric',month:'short',year:'numeric'});res.style.display='block';res.innerHTML='&#x2705; <span style="opacity:0.85;font-size:1rem;">'+fl+'</span> &rarr; <span style="opacity:0.85;font-size:1rem;">'+tl+'</span><br><span style="font-size:1.6rem;letter-spacing:0.02em;">'+ts+'</span><span style="font-size:1rem;margin-left:1rem;opacity:0.85;">'+ds+'</span>'}catch(e){res.style.display='block';res.textContent='Conversion error.'}}
var WORLD_CITIES=[{city:"New York",tz:"America/New_York"},{city:"London",tz:"Europe/London"},{city:"Paris",tz:"Europe/Paris"},{city:"Dubai",tz:"Asia/Dubai"},{city:"Mumbai",tz:"Asia/Kolkata"},{city:"Singapore",tz:"Asia/Singapore"},{city:"Tokyo",tz:"Asia/Tokyo"},{city:"Sydney",tz:"Australia/Sydney"},{city:"Los Angeles",tz:"America/Los_Angeles"},{city:"Sao Paulo",tz:"America/Sao_Paulo"},{city:"Cairo",tz:"Africa/Cairo"},{city:"Nairobi",tz:"Africa/Nairobi"},{city:"Beijing",tz:"Asia/Shanghai"},{city:"Seoul",tz:"Asia/Seoul"},{city:"Auckland",tz:"Pacific/Auckland"}];
function buildWorldClock(){var grid=document.getElementById('worldClockGrid');if(!grid||grid.dataset.built)return;grid.dataset.built='1';WORLD_CITIES.forEach(function(c){var card=document.createElement('div');card.style.cssText='background:#fff;border-radius:10px;padding:1rem 1.25rem;box-shadow:0 2px 8px rgba(10,84,160,0.10);text-align:center;';card.innerHTML='<div style="font-weight:700;color:#0a54a0;font-size:1rem;margin-bottom:0.35rem;">'+c.city+'</div><div class="wc-time" data-tz="'+c.tz+'" style="font-family:monospace;font-size:1.25rem;color:#1c2025;font-weight:600;">&ndash;</div><div class="wc-date" data-tz="'+c.tz+'" style="font-size:0.82rem;color:#637381;margin-top:0.2rem;">&ndash;</div>';grid.appendChild(card)})}
function updateWorldClock(){var now=new Date();document.querySelectorAll('.wc-time[data-tz]').forEach(function(el){el.textContent=now.toLocaleTimeString('en-GB',{timeZone:el.dataset.tz,hour12:false,hour:'2-digit',minute:'2-digit',second:'2-digit'})});document.querySelectorAll('.wc-date[data-tz]').forEach(function(el){el.textContent=now.toLocaleDateString('en-GB',{timeZone:el.dataset.tz,weekday:'short',day:'numeric',month:'short'})})}
function updateLiveEpoch(){var el=document.getElementById('liveEpoch');if(el)el.textContent=Math.floor(Date.now()/1000)}
function epochToDate(){var raw=document.getElementById('epochInput').value.trim(),res=document.getElementById('epochToDateResult');if(!raw||isNaN(Number(raw))){res.textContent='Please enter a valid number.';return}var ms=raw.length>=13?+raw:+raw*1000,d=new Date(ms);res.innerHTML='<div>UTC: <code>'+d.toUTCString()+'</code></div><div>Local: <code>'+d.toLocaleString()+'</code></div><div>ISO 8601: <code>'+d.toISOString()+'</code></div><div style="font-size:0.9rem;color:#637381;">('+( raw.length>=13?'milliseconds':'seconds')+')</div>'}
function dateToEpoch(){var val=document.getElementById('dateToEpochInput').value,res=document.getElementById('dateToEpochResult');if(!val){res.textContent='Please select a date and time.';return}var d=new Date(val);res.innerHTML='<div>Seconds: <strong style="font-family:monospace;font-size:1.1rem;">'+Math.floor(d.getTime()/1000)+'</strong></div><div>Milliseconds: <code>'+d.getTime()+'</code></div>'}
var MEETING_TZ=[{city:"Los Angeles",tz:"America/Los_Angeles"},{city:"New York",tz:"America/New_York"},{city:"London",tz:"Europe/London"},{city:"Paris",tz:"Europe/Paris"},{city:"Dubai",tz:"Asia/Dubai"},{city:"Mumbai",tz:"Asia/Kolkata"},{city:"Singapore",tz:"Asia/Singapore"},{city:"Tokyo",tz:"Asia/Tokyo"},{city:"Sydney",tz:"Australia/Sydney"}];
function meetingLocalHour(utcDate,tz){
  var localMs=utcDate.getTime()+getOffsetMinutes(utcDate,tz)*60000;
  return Math.floor(((localMs%86400000)+86400000)%86400000/3600000);
}
function meetingLocalTime(utcDate,tz){
  var localMs=utcDate.getTime()+getOffsetMinutes(utcDate,tz)*60000;
  var total=((localMs%86400000)+86400000)%86400000;
  var hh=Math.floor(total/3600000),mm=Math.floor((total%3600000)/60000);
  return pad(hh)+':'+pad(mm);
}
function meetingSetDate(offsetDays){
  var d=new Date();d.setDate(d.getDate()+offsetDays);
  var el=document.getElementById('meetingDate');
  if(el){el.value=d.getFullYear()+'-'+pad(d.getMonth()+1)+'-'+pad(d.getDate());buildMeetingGrid();}
}
function buildMeetingGrid(){
  var dv=document.getElementById('meetingDate').value,tbl=document.getElementById('meetingTable');
  var dbg=document.getElementById('meetingDebug');
  if(!dv){tbl.innerHTML='<tr><td style="padding:1rem;color:#c0392b;">Please select a date.</td></tr>';if(dbg)dbg.textContent='';return;}
  var now=new Date();
  var todayStr=now.getFullYear()+'-'+pad(now.getMonth()+1)+'-'+pad(now.getDate());
  var isToday=(dv===todayStr);
  var nowUtcHour=now.getUTCHours();
  var h='<thead><tr>';
  h+='<th style="padding:6px 10px;background:#0a54a0;color:#fff;text-align:left;white-space:nowrap;">UTC Hour</th>';
  MEETING_TZ.forEach(function(m){h+='<th style="padding:6px 8px;background:#0a54a0;color:#fff;text-align:center;font-size:0.82rem;white-space:nowrap;">'+m.city+'</th>';});
  h+='</tr></thead><tbody>';
  for(var i=0;i<24;i++){
    var ud=new Date(dv+'T'+pad(i)+':00:00Z');
    var isCurrent=isToday&&(i===nowUtcHour);
    var allWork=MEETING_TZ.every(function(m){var lh=meetingLocalHour(ud,m.tz);return lh>=9&&lh<18;});
    var anyWork=MEETING_TZ.some(function(m){var lh=meetingLocalHour(ud,m.tz);return lh>=9&&lh<18;});
    var rowBg=isCurrent?'background:#dbeafe;':allWork?'background:#e6f9ee;':anyWork?'background:#f0fdf4;':'';
    var rowBorder=isCurrent?'outline:2px solid #3b82f6;outline-offset:-2px;':'';
    h+='<tr style="'+rowBg+rowBorder+'">';
    var nowBadge=isCurrent?' <span style="background:#3b82f6;color:#fff;font-size:0.68rem;border-radius:4px;padding:1px 5px;vertical-align:middle;font-family:sans-serif;">NOW</span>':'';
    h+='<td style="padding:5px 10px;font-family:monospace;font-weight:700;color:'+(isCurrent?'#1d4ed8':'#637381')+';font-size:0.88rem;white-space:nowrap;">'+pad(i)+':00'+nowBadge+'</td>';
    MEETING_TZ.forEach(function(m){
      var lh=meetingLocalHour(ud,m.tz),wk=lh>=9&&lh<18;
      var display=isCurrent?meetingLocalTime(now,m.tz):meetingLocalTime(ud,m.tz);
      var c=isCurrent?'#1d4ed8':wk?'#0a6e35':'#9aabbf';
      var fw=isCurrent||wk?'700':'400';
      h+='<td style="padding:5px 8px;text-align:center;font-family:monospace;font-size:0.88rem;color:'+c+';font-weight:'+fw+';">'+display+'</td>';
    });
    h+='</tr>';
  }
  tbl.innerHTML=h+'</tbody>';
  if(dbg){
    var dObj=new Date(dv+'T00:00:00Z');
    var label=dObj.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});
    dbg.innerHTML=(isToday?'<span style="background:#3b82f6;color:#fff;border-radius:4px;padding:1px 7px;margin-right:6px;font-size:0.78rem;font-family:sans-serif;">TODAY</span>':'')+label+(isToday?' &mdash; blue row = current UTC hour with live local times':'');
  }
}
// ── DATE CALCULATOR ──────────────────────────────────────────────────
function dateToYMD(d){return d.getFullYear()+'-'+String(d.getMonth()+1).padStart(2,'0')+'-'+String(d.getDate()).padStart(2,'0');}
function buildDateCalc(){
  var now=new Date();
  var todayStr=dateToYMD(now);
  // Age calculator — default DOB = 30 years ago
  var dobEl=document.getElementById('ageDob');
  if(dobEl&&!dobEl.value){var def=new Date(now.getTime());def.setFullYear(def.getFullYear()-30);dobEl.value=dateToYMD(def);}
  calcAge();
  // Days between — default today to +30 days
  var dfEl=document.getElementById('diffFrom'),dtEl=document.getElementById('diffTo');
  if(dfEl&&!dfEl.value)dfEl.value=todayStr;
  if(dtEl&&!dtEl.value){var t30=new Date(now.getTime()+30*86400000);dtEl.value=dateToYMD(t30);}
  calcDateDiff();
  // Business days — same defaults
  var bfEl=document.getElementById('bizFrom'),btEl=document.getElementById('bizTo');
  if(bfEl&&!bfEl.value)bfEl.value=todayStr;
  if(btEl&&!btEl.value){var tb=new Date(now.getTime()+30*86400000);btEl.value=dateToYMD(tb);}
  calcBizDays();
  // Countdown — default to next New Year
  var cdEl=document.getElementById('cdTarget');
  if(cdEl&&!cdEl.value){var ny=new Date(now.getFullYear()+1,0,1);cdEl.value=dateToYMD(ny);}
  calcCountdown();
  // Duration — default last 3 hours to now
  var ds=document.getElementById('durStart'),de=document.getElementById('durEnd');
  var pad2=function(n){return String(n).padStart(2,'0');};
  var fmt=function(d){return d.getFullYear()+'-'+pad2(d.getMonth()+1)+'-'+pad2(d.getDate())+'T'+pad2(d.getHours())+':'+pad2(d.getMinutes());};
  if(ds&&!ds.value)ds.value=fmt(new Date(now.getTime()-3*3600000));
  if(de&&!de.value)de.value=fmt(now);
  calcDuration();
  // Leap year — default current year
  var lyEl=document.getElementById('leapYear');
  if(lyEl&&!lyEl.value)lyEl.value=now.getFullYear();
  calcLeap();
}
function calcAge(){
  var dobEl=document.getElementById('ageDob'),res=document.getElementById('ageResult');
  if(!dobEl||!res)return;
  var dob=dobEl.value;
  if(!dob){res.innerHTML='<span style="color:#888;">Enter your date of birth above.</span>';return;}
  var d=new Date(dob),now=new Date();
  if(d>now){res.innerHTML='<span style="color:#c0392b;">Date of birth cannot be in the future.</span>';return;}
  var yy=now.getFullYear()-d.getFullYear(),mm=now.getMonth()-d.getMonth(),dd=now.getDate()-d.getDate();
  if(dd<0){mm--;dd+=new Date(now.getFullYear(),now.getMonth(),0).getDate();}
  if(mm<0){yy--;mm+=12;}
  var totalDays=Math.floor((now-d)/86400000);
  var totalHours=Math.floor((now-d)/3600000);
  var nextBday=new Date(d);nextBday.setFullYear(now.getFullYear());
  if(nextBday<=now)nextBday.setFullYear(now.getFullYear()+1);
  var daysUntilBday=Math.ceil((nextBday-now)/86400000);
  var dobFmt=d.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});
  res.innerHTML='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:0.75rem;margin-top:0.5rem;">'
    +['<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#0a54a0;">'+yy+'</div><div style="font-size:0.88rem;color:#637381;">Years</div></div>',
      '<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#0a54a0;">'+mm+'</div><div style="font-size:0.88rem;color:#637381;">Months</div></div>',
      '<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#0a54a0;">'+dd+'</div><div style="font-size:0.88rem;color:#637381;">Days</div></div>',
      '<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.45rem;font-weight:700;color:#0a54a0;">'+totalDays.toLocaleString()+'</div><div style="font-size:0.88rem;color:#637381;">Total Days</div></div>',
      '<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.45rem;font-weight:700;color:#0a54a0;">'+totalHours.toLocaleString()+'</div><div style="font-size:0.88rem;color:#637381;">Total Hours</div></div>',
      '<div style="background:#fef9e7;border-radius:10px;padding:0.9rem;text-align:center;border:1px solid #f0c040;"><div style="font-size:1.45rem;font-weight:700;color:#b7800a;">'+daysUntilBday+'</div><div style="font-size:0.88rem;color:#637381;">Days to next birthday</div></div>'].join('')
    +'</div>'
    +'<div style="margin-top:0.75rem;font-size:0.92rem;color:#3d4651;">Born on <strong>'+dobFmt+'</strong> &mdash; you are <strong>'+yy+' year'+(yy!==1?'s':'')+', '+mm+' month'+(mm!==1?'s':'')+' and '+dd+' day'+(dd!==1?'s':'')+' old</strong>.</div>';
}
function calcDateDiff(){
  var df=document.getElementById('diffFrom'),dt=document.getElementById('diffTo'),res=document.getElementById('dateDiffResult');
  if(!df||!dt||!res)return;
  if(!df.value||!dt.value){res.innerHTML='<span style="color:#888;">Select both dates above.</span>';return;}
  var d1=new Date(df.value),d2=new Date(dt.value);
  var abs=Math.abs(d2-d1),sign=d2<d1?'\u2212':'';
  var days=Math.round(abs/86400000);
  var weeks=Math.floor(days/7),remDays=days%7;
  var months=Math.abs((d2.getFullYear()-d1.getFullYear())*12+(d2.getMonth()-d1.getMonth()));
  var d1fmt=d1.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric',year:'numeric'});
  var d2fmt=d2.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric',year:'numeric'});
  res.innerHTML='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:0.75rem;margin-top:0.5rem;">'
    +['<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#0a54a0;">'+sign+days.toLocaleString()+'</div><div style="font-size:0.88rem;color:#637381;">Days</div></div>',
      '<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#0a54a0;">'+sign+weeks.toLocaleString()+'</div><div style="font-size:0.88rem;color:#637381;">Weeks</div></div>',
      '<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#0a54a0;">'+sign+months+'</div><div style="font-size:0.88rem;color:#637381;">~Months</div></div>'].join('')
    +'</div>'
    +'<div style="margin-top:0.75rem;font-size:0.92rem;color:#3d4651;">From <strong>'+d1fmt+'</strong> to <strong>'+d2fmt+'</strong> is <strong>'+sign+days.toLocaleString()+' days</strong> ('+sign+weeks+'w '+remDays+'d).</div>';
}
function calcBizDays(){
  var bf=document.getElementById('bizFrom'),bt=document.getElementById('bizTo'),res=document.getElementById('bizDaysResult');
  if(!bf||!bt||!res)return;
  if(!bf.value||!bt.value){res.innerHTML='<span style="color:#888;">Select both dates above.</span>';return;}
  var d1=new Date(bf.value),d2=new Date(bt.value);
  var start=d1<d2?new Date(d1):new Date(d2),end=d1<d2?new Date(d2):new Date(d1);
  var biz=0,weekend=0,cur=new Date(start);
  while(cur<=end){var dow=cur.getDay();if(dow===0||dow===6)weekend++;else biz++;cur.setDate(cur.getDate()+1);}
  var total=biz+weekend;
  var sign=d2<d1?'\u2212':'';
  res.innerHTML='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:0.75rem;margin-top:0.5rem;">'
    +['<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#0a54a0;">'+sign+biz+'</div><div style="font-size:0.88rem;color:#637381;">Business Days</div></div>',
      '<div style="background:#fff3e0;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#e67e22;">'+weekend+'</div><div style="font-size:0.88rem;color:#637381;">Weekend Days</div></div>',
      '<div style="background:#f0f4fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:#555;">'+total+'</div><div style="font-size:0.88rem;color:#637381;">Total Days</div></div>'].join('')
    +'</div>'
    +'<div style="margin-top:0.75rem;font-size:0.92rem;color:#3d4651;"><strong>'+sign+biz+' business days</strong> and <strong>'+weekend+' weekend days</strong> in this range.</div>';
}
function setCountdown(preset){
  var now=new Date(),y=now.getFullYear();
  var targets={newyear:new Date(y+1,0,1),christmas:new Date(y,11,25),halloween:new Date(y,9,31),diwali:new Date(y,9,20)};
  var t=targets[preset];
  if(t<=now){if(preset==='christmas')t=new Date(y+1,11,25);else if(preset==='halloween')t=new Date(y+1,9,31);else if(preset==='diwali')t=new Date(y+1,9,20);}
  var el=document.getElementById('cdTarget');
  if(el){el.value=dateToYMD(t);calcCountdown();}
}
function calcCountdown(){
  var el=document.getElementById('cdTarget'),res=document.getElementById('countdownResult');
  if(!el||!res)return;
  if(!el.value){res.innerHTML='<span style="color:#888;">Select a target date above.</span>';return;}
  var now=new Date(),target=new Date(el.value);
  var past=target<now;
  var diff=Math.abs(target-now);
  var days=Math.floor(diff/86400000),hours=Math.floor((diff%86400000)/3600000),mins=Math.floor((diff%3600000)/60000);
  var label=target.toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric',year:'numeric'});
  var color=past?'#c0392b':'#0a54a0';
  var word=past?'since':'until';
  res.innerHTML='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:0.75rem;margin-top:0.5rem;">'
    +[days,hours,mins].map(function(v,i){var l=['Days','Hours','Minutes'][i];return'<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem;text-align:center;"><div style="font-size:1.6rem;font-weight:700;color:'+color+';">'+v.toLocaleString()+'</div><div style="font-size:0.88rem;color:#637381;">'+l+'</div></div>';}).join('')
    +'</div>'
    +'<div style="margin-top:0.75rem;font-size:0.92rem;color:#3d4651;"><strong>'+days.toLocaleString()+' days, '+hours+' hours, '+mins+' minutes</strong> '+word+' <strong>'+label+'</strong>.</div>';
}
function calcLeap(){
  var el=document.getElementById('leapYear'),res=document.getElementById('leapResult');
  if(!el||!res)return;
  var y=parseInt(el.value,10);
  if(!y||y<1){res.innerHTML='<span style="color:#888;">Enter a year above.</span>';return;}
  var isLeap=(y%4===0&&y%100!==0)||(y%400===0);
  // Find next leap year
  var nxt=y+1;while(!((nxt%4===0&&nxt%100!==0)||(nxt%400===0)))nxt++;
  var prev=y-1;while(!((prev%4===0&&prev%100!==0)||(prev%400===0)))prev--;
  var color=isLeap?'#1a7f37':'#c0392b';
  var icon=isLeap?'\u2705':'\u274C';
  var msg=isLeap?y+' is a leap year \u2014 it has 366 days (Feb has 29 days).':y+' is NOT a leap year \u2014 it has 365 days (Feb has 28 days).';
  res.innerHTML='<div style="background:'+(isLeap?'#e6faea':'#fdf0f0')+';border-radius:10px;padding:1rem 1.2rem;margin-top:0.5rem;border:2px solid '+(isLeap?'#b3e8c0':'#f5c6c6')+';font-size:1rem;color:'+color+';font-weight:600;">'+icon+' '+msg+'</div>'
    +'<div style="margin-top:0.6rem;font-size:0.91rem;color:#3d4651;">Next leap year after '+y+': <strong>'+nxt+'</strong> &nbsp;|&nbsp; Previous: <strong>'+prev+'</strong></div>';
}
// ── DURATION (datetime-level) ─────────────────────────────────────────
function calcDuration(){var s=document.getElementById('durStart').value,e=document.getElementById('durEnd').value,res=document.getElementById('durationResult');if(!s||!e){res.innerHTML='<span style="color:#c0392b;">Please select both start and end.</span>';return}var abs=Math.abs(new Date(e)-new Date(s)),sign=new Date(e)<new Date(s)?'-':'',days=Math.floor(abs/86400000),hours=Math.floor((abs%86400000)/3600000),mins=Math.floor((abs%3600000)/60000),secs=Math.floor((abs%60000)/1000);res.innerHTML='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:1rem;margin-top:0.5rem;">'+[['Days',days],['Hours',hours],['Minutes',mins],['Seconds',secs]].map(function(x){return'<div style="background:#e6f0fa;border-radius:10px;padding:1rem;text-align:center;"><div style="font-size:1.75rem;font-weight:700;color:#0a54a0;">'+sign+x[1]+'</div><div style="font-size:0.9rem;color:#637381;">'+x[0]+'</div></div>'}).join('')+'</div><div style="margin-top:1rem;font-size:0.95rem;color:#3d4651;"><strong>Total:</strong> '+sign+Math.floor(abs/1000).toLocaleString()+' seconds | '+sign+Math.floor(abs/60000).toLocaleString()+' minutes | '+sign+Math.floor(abs/3600000).toLocaleString()+' hours</div>'}
// ── TZ ABBREVIATION DECODER ──────────────────────────────────────────
var TZ_ABBR_DB = {
  'IST': [{name:'India Standard Time',tz:'Asia/Kolkata',flag:'🇮🇳',offset:'+05:30'},{name:'Israel Standard Time',tz:'Asia/Jerusalem',flag:'🇮🇱',offset:'+02:00'},{name:'Irish Standard Time',tz:'Europe/Dublin',flag:'🇮🇪',offset:'+01:00 (summer)'}],
  'CST': [{name:'US Central Standard Time',tz:'America/Chicago',flag:'🇺🇸',offset:'−06:00'},{name:'China Standard Time',tz:'Asia/Shanghai',flag:'🇨🇳',offset:'+08:00'},{name:'Cuba Standard Time',tz:'America/Havana',flag:'🇨🇺',offset:'−05:00'}],
  'EST': [{name:'US Eastern Standard Time',tz:'America/New_York',flag:'🇺🇸',offset:'−05:00'},{name:'Australian Eastern Standard Time',tz:'Australia/Brisbane',flag:'🇦🇺',offset:'+10:00'}],
  'PST': [{name:'US Pacific Standard Time',tz:'America/Los_Angeles',flag:'🇺🇸',offset:'−08:00'},{name:'Philippine Standard Time',tz:'Asia/Manila',flag:'🇵🇭',offset:'+08:00'},{name:'Pakistan Standard Time',tz:'Asia/Karachi',flag:'🇵🇰',offset:'+05:00'}],
  'BST': [{name:'British Summer Time (UK DST)',tz:'Europe/London',flag:'🇬🇧',offset:'+01:00'},{name:'Bangladesh Standard Time',tz:'Asia/Dhaka',flag:'🇧🇩',offset:'+06:00'}],
  'EDT': [{name:'US Eastern Daylight Time',tz:'America/New_York',flag:'🇺🇸',offset:'−04:00'}],
  'PDT': [{name:'US Pacific Daylight Time',tz:'America/Los_Angeles',flag:'🇺🇸',offset:'−07:00'}],
  'CDT': [{name:'US Central Daylight Time',tz:'America/Chicago',flag:'🇺🇸',offset:'−05:00'}],
  'MDT': [{name:'US Mountain Daylight Time',tz:'America/Denver',flag:'🇺🇸',offset:'−06:00'}],
  'MST': [{name:'US Mountain Standard Time',tz:'America/Denver',flag:'🇺🇸',offset:'−07:00'},{name:'Myanmar Standard Time',tz:'Asia/Rangoon',flag:'🇲🇲',offset:'+06:30'}],
  'GMT': [{name:'Greenwich Mean Time',tz:'UTC',flag:'🌐',offset:'+00:00'},{name:'UK Winter Time (same as GMT)',tz:'Europe/London',flag:'🇬🇧',offset:'+00:00'}],
  'UTC': [{name:'Coordinated Universal Time',tz:'UTC',flag:'🌐',offset:'+00:00'}],
  'CET': [{name:'Central European Time',tz:'Europe/Berlin',flag:'🇪🇺',offset:'+01:00'},{name:'Central European Summer Time (CEST)',tz:'Europe/Berlin',flag:'🇪🇺',offset:'+02:00 (summer)'}],
  'JST': [{name:'Japan Standard Time',tz:'Asia/Tokyo',flag:'🇯🇵',offset:'+09:00'}],
  'SGT': [{name:'Singapore Standard Time',tz:'Asia/Singapore',flag:'🇸🇬',offset:'+08:00'}],
  'HKT': [{name:'Hong Kong Time',tz:'Asia/Hong_Kong',flag:'🇭🇰',offset:'+08:00'}],
  'KST': [{name:'Korea Standard Time',tz:'Asia/Seoul',flag:'🇰🇷',offset:'+09:00'}],
  'GST': [{name:'Gulf Standard Time (UAE/Dubai)',tz:'Asia/Dubai',flag:'🇦🇪',offset:'+04:00'},{name:'South Georgia Time',tz:'Atlantic/South_Georgia',flag:'🇬🇸',offset:'−02:00'}],
  'AEST': [{name:'Australian Eastern Standard Time',tz:'Australia/Sydney',flag:'🇦🇺',offset:'+10:00'}],
  'AEDT': [{name:'Australian Eastern Daylight Time',tz:'Australia/Sydney',flag:'🇦🇺',offset:'+11:00'}],
  'NZST': [{name:'New Zealand Standard Time',tz:'Pacific/Auckland',flag:'🇳🇿',offset:'+12:00'}],
  'WET':  [{name:'Western European Time',tz:'Europe/Lisbon',flag:'🇵🇹',offset:'+00:00'}],
  'EET':  [{name:'Eastern European Time',tz:'Europe/Helsinki',flag:'🇫🇮',offset:'+02:00'}],
  'AST':  [{name:'Atlantic Standard Time',tz:'America/Halifax',flag:'🇨🇦',offset:'−04:00'},{name:'Arabia Standard Time',tz:'Asia/Riyadh',flag:'🇸🇦',offset:'+03:00'}],
  'CAT':  [{name:'Central Africa Time',tz:'Africa/Harare',flag:'🌍',offset:'+02:00'}],
  'EAT':  [{name:'East Africa Time',tz:'Africa/Nairobi',flag:'🌍',offset:'+03:00'}],
  'WAT':  [{name:'West Africa Time',tz:'Africa/Lagos',flag:'🌍',offset:'+01:00'}],
  'BRT':  [{name:'Brasilia Time',tz:'America/Sao_Paulo',flag:'🇧🇷',offset:'−03:00'}],
  'ART':  [{name:'Argentina Time',tz:'America/Argentina/Buenos_Aires',flag:'🇦🇷',offset:'−03:00'}],
  'PET':  [{name:'Peru Time',tz:'America/Lima',flag:'🇵🇪',offset:'−05:00'}],
  'ICT':  [{name:'Indochina Time (Bangkok/Hanoi)',tz:'Asia/Bangkok',flag:'🇹🇭',offset:'+07:00'}],
  'WIB':  [{name:'Western Indonesia Time',tz:'Asia/Jakarta',flag:'🇮🇩',offset:'+07:00'}],
  'PKT':  [{name:'Pakistan Standard Time',tz:'Asia/Karachi',flag:'🇵🇰',offset:'+05:00'}],
  'NPT':  [{name:'Nepal Standard Time',tz:'Asia/Kathmandu',flag:'🇳🇵',offset:'+05:45'}],
  'LKT':  [{name:'Sri Lanka Time',tz:'Asia/Colombo',flag:'🇱🇰',offset:'+05:30'}],
  'BDT':  [{name:'Bangladesh Standard Time',tz:'Asia/Dhaka',flag:'🇧🇩',offset:'+06:00'}],
  'MMT':  [{name:'Myanmar Time',tz:'Asia/Rangoon',flag:'🇲🇲',offset:'+06:30'}],
  'ACST': [{name:'Australian Central Standard Time',tz:'Australia/Darwin',flag:'🇦🇺',offset:'+09:30'}],
  'AWST': [{name:'Australian Western Standard Time',tz:'Australia/Perth',flag:'🇦🇺',offset:'+08:00'}]
};
function decodeAbbr(){
  var val=document.getElementById('abbrInput').value.trim().toUpperCase();
  var res=document.getElementById('abbrResult');
  if(!val){res.innerHTML='';return;}
  var matches=TZ_ABBR_DB[val];
  if(!matches){
    // fuzzy: find any key that starts with val
    var fuzzy=Object.keys(TZ_ABBR_DB).filter(function(k){return k.startsWith(val)});
    if(!fuzzy.length){res.innerHTML='<div style="color:#c0392b;padding:1rem;">No timezone abbreviation found for <strong>'+val+'</strong>. Try: IST, CST, EST, PST, BST, GMT, UTC…</div>';return;}
    matches=[];fuzzy.forEach(function(k){TZ_ABBR_DB[k].forEach(function(m){matches.push(Object.assign({abbr:k},m))})});
  } else {
    matches=matches.map(function(m){return Object.assign({abbr:val},m)});
  }
  var now=new Date();
  var html='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;">';
  matches.forEach(function(m){
    var timeStr='—';
    try{timeStr=now.toLocaleTimeString('en-US',{timeZone:m.tz,hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:true});}catch(e){}
    var istOff='';
    try{
      var off=Math.round(getOffsetMinutes(now,m.tz));
      var diff=off-330;
      var sign=diff>=0?'+':'';
      var dh=Math.floor(Math.abs(diff)/60),dm=Math.abs(diff)%60;
      istOff=sign+(diff===0?'same as IST':dh+'h'+(dm?dm+'m':'')+(diff>0?' ahead of IST':' behind IST'));
    }catch(e){}
    html+='<div style="background:#fff;border-radius:12px;padding:1.1rem 1.25rem;border:2px solid '+(m.abbr==='IST'&&m.tz==='Asia/Kolkata'?'#f7931e':'#e0eaff')+';">'
      +'<div style="font-size:1.5rem;font-weight:800;font-family:monospace;color:#0a3a86;">'+timeStr+'</div>'
      +'<div style="font-weight:700;color:#222;margin:0.25rem 0;">'+m.flag+' '+m.name+'</div>'
      +'<div style="font-size:0.82rem;color:#637381;">Abbr: <strong>'+m.abbr+'</strong> &bull; Offset: '+m.offset+'</div>'
      +(istOff?'<div style="font-size:0.82rem;color:#888;margin-top:0.2rem;">'+istOff+'</div>':'')
      +'</div>';
  });
  res.innerHTML=html+'</div>';
  if(matches.length>1){
    res.innerHTML+='<div style="margin-top:1rem;padding:0.75rem 1rem;background:#fff8e6;border-radius:8px;border-left:3px solid #f7931e;font-size:0.88rem;color:#7a4a00;">&#9888; <strong>'+val+'</strong> has '+matches.length+' different meanings depending on region. Confirm which one before scheduling.</div>';
  }
}

// ── CRON PARSER ──────────────────────────────────────────────────────
function setCron(val){document.getElementById('cronInput').value=val;parseCron();}
function parseCron(){
  var expr=document.getElementById('cronInput').value.trim();
  var res=document.getElementById('cronResult');
  if(!expr){res.innerHTML='';return;}
  var parts=expr.split(/\s+/);
  if(parts.length<5){res.innerHTML='<div style="color:#c0392b;padding:0.75rem;">Need 5 fields: minute hour day month weekday</div>';return;}
  var minute=parts[0],hour=parts[1],dom=parts[2],month=parts[3],dow=parts[4];
  // Human description
  var desc=cronDescribe(minute,hour,dom,month,dow);
  // Next 8 fire times from now
  var fires=cronNextFires(minute,hour,dom,month,dow,8);
  if(!fires.length){res.innerHTML='<div style="color:#c0392b;padding:0.75rem;">Could not compute fire times. Try a simpler expression.</div>';return;}
  var now=new Date();
  var html='<div style="background:#e6f0fa;border-radius:10px;padding:0.9rem 1.25rem;margin-bottom:1rem;font-size:1rem;color:#0a3a86;font-weight:700;">&#128172; '+desc+'</div>';
  html+='<div style="overflow-x:auto;"><table style="width:100%;border-collapse:collapse;font-size:0.9rem;min-width:520px;">';
  html+='<thead><tr style="background:#0a54a0;color:#fff;">'
    +'<th style="padding:7px 10px;text-align:left;">#</th>'
    +'<th style="padding:7px 10px;">UTC</th>'
    +'<th style="padding:7px 10px;background:#c05000;">🇮🇳 IST</th>'
    +'<th style="padding:7px 10px;">Your Local</th>'
    +'<th style="padding:7px 10px;">In</th>'
    +'</tr></thead><tbody>';
  fires.forEach(function(d,i){
    var utcStr=d.toISOString().replace('T',' ').substring(0,16)+' UTC';
    var istMs=d.getTime()+5.5*3600000;
    var ist=new Date(istMs);
    var istStr=pad(ist.getUTCHours())+':'+pad(ist.getUTCMinutes())+' IST '
      +['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][ist.getUTCDay()];
    var localStr=d.toLocaleString('en-US',{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',hour12:true});
    var inMs=d-now,inH=Math.floor(inMs/3600000),inM=Math.floor((inMs%3600000)/60000);
    var inStr=inH>0?inH+'h '+inM+'m':inM+'m';
    html+='<tr style="background:'+(i%2?'#f5f8fd':'#fff')+';"><td style="padding:6px 10px;color:#888;font-weight:700;">'+(i+1)+'</td>'
      +'<td style="padding:6px 10px;font-family:monospace;color:#3d4651;">'+utcStr+'</td>'
      +'<td style="padding:6px 10px;font-family:monospace;font-weight:700;color:#c05000;background:#fff8e6;">'+istStr+'</td>'
      +'<td style="padding:6px 10px;font-family:monospace;color:#555;">'+localStr+'</td>'
      +'<td style="padding:6px 10px;color:#0a54a0;font-weight:700;">'+inStr+'</td></tr>';
  });
  res.innerHTML=html+'</tbody></table></div>';
}
function cronDescribe(min,hr,dom,month,dow){
  var s='Runs ';
  var mins=min==='*'?'every minute':(min.startsWith('*/')? 'every '+min.slice(2)+' minutes':'at minute '+min);
  var hrs=hr==='*'?'every hour':(hr.startsWith('*/')? 'every '+hr.slice(2)+' hours':'at '+pad(parseInt(hr,10))+':00 UTC');
  var days=dow==='*'?(dom==='*'?'every day':'on day '+dom+' of the month'):'on '+dow.split('-').map(function(d){return['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][d]||d}).join('–');
  return s+mins+', '+hrs+', '+days;
}
function cronNextFires(minExpr,hrExpr,domExpr,monthExpr,dowExpr,count){
  var results=[];
  var d=new Date();d.setSeconds(0,0);d.setMinutes(d.getMinutes()+1);
  var limit=d.getTime()+366*24*3600000;
  function match(expr,val,min,max){
    if(expr==='*')return true;
    if(expr.startsWith('*/')){var step=parseInt(expr.slice(2),10);return(val-min)%step===0;}
    if(expr.includes(',')){return expr.split(',').some(function(p){return match(p,val,min,max);});}
    if(expr.includes('-')){var pts=expr.split('-');return val>=parseInt(pts[0],10)&&val<=parseInt(pts[1],10);}
    return parseInt(expr,10)===val;
  }
  while(results.length<count&&d.getTime()<limit){
    var mo=d.getUTCMonth()+1,dy=d.getUTCDate(),h=d.getUTCHours(),m=d.getUTCMinutes(),dw=d.getUTCDay();
    if(match(monthExpr,mo,1,12)&&match(domExpr,dy,1,31)&&match(dowExpr,dw,0,6)&&match(hrExpr,h,0,23)&&match(minExpr,m,0,59)){
      results.push(new Date(d));
    }
    d.setMinutes(d.getMinutes()+1);
  }
  return results;
}

// ── ISO/RFC TIMESTAMP PARSER ─────────────────────────────────────────
function setTs(val){document.getElementById('tsInput').value=val;parseTimestamp();}
function parseTimestamp(){
  var raw=document.getElementById('tsInput').value.trim();
  var res=document.getElementById('tsResult');
  if(!raw){res.innerHTML='';return;}
  var d=null;
  // Unix epoch (all digits)
  if(/^\d{9,13}$/.test(raw)){
    var n=parseInt(raw,10);
    d=new Date(raw.length<=10?n*1000:n);
  } else {
    d=new Date(raw);
  }
  if(!d||isNaN(d.getTime())){
    res.innerHTML='<div style="color:#c0392b;padding:0.75rem;">Could not parse <strong>'+raw+'</strong>. Try ISO 8601, RFC 2822, or a Unix timestamp.</div>';
    return;
  }
  var zones=[
    {label:'🌐 UTC',tz:'UTC',bold:false},
    {label:'🇮🇳 IST',tz:'Asia/Kolkata',bold:true},
    {label:'🇺🇸 New York (ET)',tz:'America/New_York',bold:false},
    {label:'🇺🇸 Los Angeles (PT)',tz:'America/Los_Angeles',bold:false},
    {label:'🇬🇧 London',tz:'Europe/London',bold:false},
    {label:'🇩🇪 Berlin/Paris',tz:'Europe/Berlin',bold:false},
    {label:'🇦🇪 Dubai',tz:'Asia/Dubai',bold:false},
    {label:'🇸🇬 Singapore',tz:'Asia/Singapore',bold:false},
    {label:'🇯🇵 Tokyo',tz:'Asia/Tokyo',bold:false},
    {label:'🇦🇺 Sydney',tz:'Australia/Sydney',bold:false},
    {label:'📍 Your local',tz:null,bold:false}
  ];
  var html='<div style="background:#e6f9ee;border-radius:10px;padding:0.8rem 1.2rem;margin-bottom:1rem;">'
    +'<div style="font-size:0.82rem;color:#888;margin-bottom:0.2rem;">Parsed as</div>'
    +'<div style="font-family:monospace;font-weight:700;font-size:1rem;color:#0a3a86;">'+d.toISOString()+'</div>'
    +'<div style="font-size:0.85rem;color:#555;margin-top:0.2rem;">Unix: '+d.getTime()+' ms &bull; '+Math.floor(d.getTime()/1000)+' s</div>'
    +'</div>';
  html+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:0.75rem;">';
  zones.forEach(function(z){
    var str;
    if(!z.tz){
      str=d.toLocaleString('en-US',{weekday:'short',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:true});
    } else {
      str=d.toLocaleString('en-US',{timeZone:z.tz,weekday:'short',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:true});
    }
    html+='<div style="background:'+(z.bold?'#fff8e6':'#fff')+';border:2px solid '+(z.bold?'#f7931e':'#e0eaff')+';border-radius:10px;padding:0.8rem 1rem;">'
      +'<div style="font-size:0.78rem;font-weight:700;color:#637381;margin-bottom:0.2rem;">'+z.label+'</div>'
      +'<div style="font-family:monospace;font-weight:'+(z.bold?'800':'600')+';font-size:0.95rem;color:'+(z.bold?'#c05000':'#0a3a86')+';">'+str+'</div>'
      +'</div>';
  });
  res.innerHTML=html+'</div>';
}

// ── CAN I CALL INDIA NOW ──────────────────────────────────────────────
var CALL_CITIES=[
  {label:'New York (ET)',tz:'America/New_York'},{label:'Los Angeles (PT)',tz:'America/Los_Angeles'},
  {label:'Chicago (CT)',tz:'America/Chicago'},{label:'London (GMT/BST)',tz:'Europe/London'},
  {label:'Berlin / Paris (CET)',tz:'Europe/Berlin'},{label:'Dubai (GST)',tz:'Asia/Dubai'},
  {label:'Singapore (SGT)',tz:'Asia/Singapore'},{label:'Sydney (AEST)',tz:'Australia/Sydney'},
  {label:'Tokyo (JST)',tz:'Asia/Tokyo'},{label:'Toronto (ET)',tz:'America/Toronto'},
  {label:'Vancouver (PT)',tz:'America/Vancouver'},{label:'Auckland (NZST)',tz:'Pacific/Auckland'}
];
function buildCallSelect(){
  var sel=document.getElementById('callCitySelect');
  if(!sel||sel.options.length>1)return;
  CALL_CITIES.forEach(function(c){var o=document.createElement('option');o.value=c.tz;o.textContent=c.label;sel.appendChild(o);});
}
function updateCallWidget(){
  var sel=document.getElementById('callCitySelect');
  if(!sel)return;
  var tz=sel.value;
  var now=new Date();
  // Current IST hour
  var istMs=now.getTime()+5.5*3600000;
  var istNow=new Date(istMs);
  var istH=istNow.getUTCHours()+istNow.getUTCMinutes()/60;
  var indiaOpen=istH>=9&&istH<18;
  // Current hour in selected city
  var cityH=parseInt(now.toLocaleString('en-US',{timeZone:tz,hour:'numeric',hour12:false}),10);
  var cityOpen=cityH>=9&&cityH<18;
  var bothOpen=indiaOpen&&cityOpen;
  var cityStr=now.toLocaleTimeString('en-US',{timeZone:tz,hour:'2-digit',minute:'2-digit',hour12:true});
  var istStr=istNow.getUTCHours()%12||12;
  var istMin=pad(istNow.getUTCMinutes());
  var istAmPm=istNow.getUTCHours()>=12?'PM':'AM';
  var res=document.getElementById('callResult');
  if(bothOpen){
    res.innerHTML='<div style="background:#e6f9ee;border:3px solid #2e7d32;border-radius:14px;padding:1.5rem 2rem;text-align:center;">'
      +'<div style="font-size:3rem;margin-bottom:0.5rem;">✅</div>'
      +'<div style="font-size:1.4rem;font-weight:800;color:#1b5e20;">Yes! Good time to call India</div>'
      +'<div style="color:#2e7d32;margin-top:0.5rem;">India is in business hours &mdash; <strong>'+istStr+':'+istMin+' '+istAmPm+' IST</strong></div>'
      +'<div style="color:#555;font-size:0.9rem;margin-top:0.3rem;">Your time: '+cityStr+' &bull; Both sides in working hours</div>'
      +'</div>';
  } else if(indiaOpen&&!cityOpen){
    res.innerHTML='<div style="background:#fff8e6;border:3px solid #f7931e;border-radius:14px;padding:1.5rem 2rem;text-align:center;">'
      +'<div style="font-size:3rem;margin-bottom:0.5rem;">🟡</div>'
      +'<div style="font-size:1.4rem;font-weight:800;color:#c05000;">India is open — your side isn\'t</div>'
      +'<div style="color:#c05000;margin-top:0.5rem;">India: <strong>'+istStr+':'+istMin+' '+istAmPm+' IST</strong> (working hours)</div>'
      +'<div style="color:#555;font-size:0.9rem;margin-top:0.3rem;">Your time: '+cityStr+' (outside 9–6)</div>'
      +'</div>';
  } else if(!indiaOpen&&cityOpen){
    res.innerHTML='<div style="background:#fff8e6;border:3px solid #f7931e;border-radius:14px;padding:1.5rem 2rem;text-align:center;">'
      +'<div style="font-size:3rem;margin-bottom:0.5rem;">🟡</div>'
      +'<div style="font-size:1.4rem;font-weight:800;color:#c05000;">You\'re in office — India isn\'t</div>'
      +'<div style="color:#c05000;margin-top:0.5rem;">India: <strong>'+istStr+':'+istMin+' '+istAmPm+' IST</strong> (outside 9–6)</div>'
      +'<div style="color:#555;font-size:0.9rem;margin-top:0.3rem;">Your time: '+cityStr+'</div>'
      +'</div>';
  } else {
    res.innerHTML='<div style="background:#fdecea;border:3px solid #c0392b;border-radius:14px;padding:1.5rem 2rem;text-align:center;">'
      +'<div style="font-size:3rem;margin-bottom:0.5rem;">❌</div>'
      +'<div style="font-size:1.4rem;font-weight:800;color:#c0392b;">Not a good time — both sides are off</div>'
      +'<div style="color:#c0392b;margin-top:0.5rem;">India: <strong>'+istStr+':'+istMin+' '+istAmPm+' IST</strong></div>'
      +'<div style="color:#555;font-size:0.9rem;margin-top:0.3rem;">Your time: '+cityStr+'</div>'
      +'</div>';
  }
  // Timeline bar: 24h, highlight IST 9-18 and city 9-18 overlap in green
  buildCallTimeline(tz,now);
}
function buildCallTimeline(tz,now){
  var barEl=document.getElementById('callTimelineBar');
  var labEl=document.getElementById('callTimelineLabels');
  if(!barEl)return;
  // For each hour 0–23 UTC, compute IST and city hours
  var cells='<div style="display:flex;height:32px;border-radius:6px;overflow:hidden;gap:1px;">';
  var now_h=now.getUTCHours();
  for(var h=0;h<24;h++){
    var probe=new Date(now);probe.setUTCHours(h,0,0,0);
    var istH2=(h*60+330)%1440/60|0;
    var cityH2=parseInt(probe.toLocaleString('en-US',{timeZone:tz,hour:'numeric',hour12:false}),10);
    var iInd=istH2>=9&&istH2<18,iCity=cityH2>=9&&cityH2<18;
    var border=h===now_h?'3px solid #0a54a0':'none';
    var bg;
    if(iInd&&iCity)bg='#2e7d32';
    else if(iInd||iCity)bg='#f7931e';
    else bg='#e0eaff';
    cells+='<div title="'+pad(h)+':00 UTC" style="flex:1;background:'+bg+';outline:'+border+';cursor:default;"></div>';
  }
  cells+='</div>';
  cells+='<div style="margin-top:0.4rem;display:flex;gap:1rem;font-size:0.78rem;">'
    +'<span><span style="display:inline-block;width:12px;height:12px;background:#2e7d32;border-radius:2px;vertical-align:middle;margin-right:3px;"></span>Both open</span>'
    +'<span><span style="display:inline-block;width:12px;height:12px;background:#f7931e;border-radius:2px;vertical-align:middle;margin-right:3px;"></span>One side open</span>'
    +'<span><span style="display:inline-block;width:12px;height:12px;background:#e0eaff;border-radius:2px;vertical-align:middle;margin-right:3px;"></span>Both closed</span>'
    +'<span style="color:#0a54a0;font-weight:700;">│ = now (UTC)</span>'
    +'</div>';
  barEl.innerHTML=cells;
  var lbls='';
  [0,6,12,18,23].forEach(function(h){lbls+='<span>'+pad(h)+':00</span>';});
  labEl.innerHTML=lbls;
}

// ── DST COUNTDOWN & SHIFT CHECKER ────────────────────────────────────
var DST_EVENTS=[
  {name:'🇺🇸 US springs forward',desc:'Clocks +1h → EST becomes EDT',date:'2026-03-08T02:00:00',tz:'America/New_York',delta:+60,hint:'Meetings set in EST will shift 1h earlier in IST'},
  {name:'🇬🇧 UK springs forward',desc:'GMT becomes BST (+1h)',date:'2026-03-29T01:00:00',tz:'Europe/London',delta:+60,hint:'London-India meetings shift 1h earlier in IST'},
  {name:'🇪🇺 EU springs forward',desc:'CET becomes CEST (+1h)',date:'2026-03-29T02:00:00',tz:'Europe/Berlin',delta:+60,hint:'Berlin/Paris meetings shift 1h earlier in IST'},
  {name:'🇺🇸 US falls back',desc:'Clocks −1h → EDT becomes EST',date:'2026-11-01T02:00:00',tz:'America/New_York',delta:-60,hint:'Meetings set in EDT will shift 1h later in IST'},
  {name:'🇬🇧 UK falls back',desc:'BST becomes GMT (−1h)',date:'2026-10-25T01:00:00',tz:'Europe/London',delta:-60,hint:'London-India meetings shift 1h later in IST'},
  {name:'🇪🇺 EU falls back',desc:'CEST becomes CET (−1h)',date:'2026-10-25T03:00:00',tz:'Europe/Berlin',delta:-60,hint:'Berlin/Paris meetings shift 1h later in IST'},
  {name:'🇦🇺 Australia springs forward',desc:'AEST becomes AEDT (+1h)',date:'2026-10-04T02:00:00',tz:'Australia/Sydney',delta:+60,hint:'Sydney meetings shift 1h later in IST (AU moves ahead)'}
];
function buildDstCountdowns(){
  var el=document.getElementById('dstCountdowns');if(!el)return;
  var now=new Date();
  var html='';
  DST_EVENTS.forEach(function(ev){
    var target=new Date(ev.date);
    var diff=target-now;
    if(diff<-3600000)return; // skip past events (more than 1h ago)
    var past=diff<0;
    var abs=Math.abs(diff);
    var days=Math.floor(abs/86400000);
    var hrs=Math.floor((abs%86400000)/3600000);
    var mins=Math.floor((abs%3600000)/60000);
    var color=past?'#888':(days<7?'#c0392b':'#0a54a0');
    var badge=past?'<span style="background:#888;color:#fff;border-radius:4px;padding:2px 8px;font-size:0.75rem;">JUST HAPPENED</span>'
      :(days===0?'<span style="background:#c0392b;color:#fff;border-radius:4px;padding:2px 8px;font-size:0.75rem;">TODAY</span>'
      :(days<7?'<span style="background:#e65100;color:#fff;border-radius:4px;padding:2px 8px;font-size:0.75rem;">THIS WEEK</span>':''));
    html+='<div style="background:#fff;border-radius:12px;padding:1.25rem 1.4rem;border:2px solid '+(days<7&&!past?'#c0392b':'#e0eaff')+';">'
      +'<div style="font-weight:700;font-size:0.95rem;color:#222;margin-bottom:0.15rem;">'+ev.name+' '+badge+'</div>'
      +'<div style="font-size:0.82rem;color:#637381;margin-bottom:0.6rem;">'+ev.desc+'</div>'
      +'<div style="font-size:'+(past?'1rem':'1.5rem')+';font-weight:800;color:'+color+';font-family:monospace;margin-bottom:0.3rem;">'
      +(past?'Already happened':(days+'d '+hrs+'h '+mins+'m away'))
      +'</div>'
      +'<div style="font-size:0.8rem;color:#888;">'+new Date(ev.date).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})+'</div>'
      +'<div style="font-size:0.82rem;color:#c05000;margin-top:0.5rem;font-style:italic;">'+ev.hint+'</div>'
      +'</div>';
  });
  if(!html)html='<div style="color:#2e7d32;font-weight:700;padding:1rem;">No DST transitions in the near future. All tracked transitions for 2026 have passed.</div>';
  el.innerHTML=html;
}
function checkDstShift(){
  var timeVal=document.getElementById('dstMeetTime').value;
  var tz=document.getElementById('dstMeetTz').value;
  var res=document.getElementById('dstShiftResult');
  if(!timeVal){res.innerHTML='<span style="color:#c0392b;">Please select a time.</span>';return;}
  var h=parseInt(timeVal.split(':')[0],10),m=parseInt(timeVal.split(':')[1],10);
  // Find DST events for this tz
  var events=DST_EVENTS.filter(function(e){return e.tz===tz;});
  if(!events.length){res.innerHTML='<div style="padding:0.75rem;color:#2e7d32;">This timezone has no tracked DST transitions.</div>';return;}
  var html='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-top:0.5rem;">';
  events.forEach(function(ev){
    // IST equivalent before and after transition
    var offBefore=ev.delta>0?330-(ev.delta):330; // IST is fixed, the other tz moves
    // Before: what is IST when it's h:m in that tz
    var beforeDate=new Date(ev.date);beforeDate.setDate(beforeDate.getDate()-1);
    var tzOffBefore=Math.round(getOffsetMinutes(beforeDate,tz));
    var istMinBefore=((h*60+m-tzOffBefore+330)+1440)%1440;
    var ibH=Math.floor(istMinBefore/60),ibM=istMinBefore%60;
    // After: one day after transition
    var afterDate=new Date(ev.date);afterDate.setDate(afterDate.getDate()+1);
    var tzOffAfter=Math.round(getOffsetMinutes(afterDate,tz));
    var istMinAfter=((h*60+m-tzOffAfter+330)+1440)%1440;
    var iaH=Math.floor(istMinAfter/60),iaM=istMinAfter%60;
    var srcH12=h%12||12,srcAmPm=h>=12?'PM':'AM';
    var shifted=ibH!==iaH||ibM!==iaM;
    html+='<div style="background:#fff;border-radius:12px;padding:1.1rem 1.3rem;border:2px solid '+(shifted?'#c0392b':'#2e7d32')+';">'
      +'<div style="font-weight:700;font-size:0.92rem;margin-bottom:0.5rem;">'+ev.name+'</div>'
      +'<div style="font-size:0.88rem;color:#555;margin-bottom:0.6rem;">Your '+srcH12+':'+pad(m)+' '+srcAmPm+' meeting in India:</div>'
      +'<div style="display:flex;gap:1rem;flex-wrap:wrap;">'
      +'<div><div style="font-size:0.75rem;color:#888;">Before transition</div>'
      +'<div style="font-family:monospace;font-weight:700;font-size:1.1rem;color:#0a54a0;">'+(ibH%12||12)+':'+pad(ibM)+' '+(ibH>=12?'PM':'AM')+' IST</div></div>'
      +'<div style="font-size:1.3rem;color:#637381;align-self:center;">&rarr;</div>'
      +'<div><div style="font-size:0.75rem;color:#888;">After transition</div>'
      +'<div style="font-family:monospace;font-weight:700;font-size:1.1rem;color:'+(shifted?'#c0392b':'#2e7d32')+'">'+(iaH%12||12)+':'+pad(iaM)+' '+(iaH>=12?'PM':'AM')+' IST</div></div>'
      +'</div>'
      +(shifted?'<div style="margin-top:0.6rem;font-size:0.82rem;background:#fdecea;border-radius:6px;padding:0.4rem 0.6rem;color:#c0392b;">⚠️ Shifts '+(iaH*60+iaM>ibH*60+ibM?'later':'earlier')+' by '+(ev.delta>0?ev.delta:-ev.delta)+' minutes in IST</div>'
        :'<div style="margin-top:0.6rem;font-size:0.82rem;color:#2e7d32;">✅ No change — India IST is fixed</div>')
      +'</div>';
  });
  res.innerHTML=html+'</div>';
}

// ── HASH ROUTING: open correct tab from URL ───────────────────────────
function routeFromHash(){
  var h=window.location.hash.replace('#','');
  var map={abbr:'btn-abbr',cron:'btn-cron',timestamp:'btn-timestamp',callnow:'btn-callnow',dst:'btn-dst',date:'btn-date',
           home:'',convert:'',worldclock:'',epoch:'',meeting:'',duration:'btn-date',info:'',
           market:'btn-market',shift:'btn-shift',holidays:'btn-holidays',nri183:'btn-nri183',invoice:'btn-invoice',notice:'btn-notice'};
  var tabMap={abbr:'tab-abbr',cron:'tab-cron',timestamp:'tab-timestamp',callnow:'tab-callnow',dst:'tab-dst',date:'tab-duration',
              home:'tab-home',convert:'tab-tzconv',worldclock:'tab-worldclock',epoch:'tab-epoch',
              meeting:'tab-meeting',duration:'tab-duration',info:'tab-info',
              market:'tab-market',shift:'tab-shift',holidays:'tab-holidays',nri183:'tab-nri183',invoice:'tab-invoice',notice:'tab-notice'};
  if(h&&tabMap[h]){
    var btn=document.getElementById(map[h])||document.querySelector('[onclick*="'+tabMap[h]+'"]');
    showTab(tabMap[h],btn);
  }
}
window.addEventListener('hashchange',routeFromHash);


/* ===== SIDEBAR NAV JS ===== */
(function(){
  // Single source of truth: body[data-nav]
  // Desktop default: 'open'  |  Mobile default: 'closed'
  function isMobile(){ return window.innerWidth<=860; }

  function initNav(){
    // Set initial state based on viewport — no inline styles ever
    document.body.setAttribute('data-nav', isMobile() ? 'closed' : 'open');
  }

  window.toggleSidenav=function(){
    var current=document.body.getAttribute('data-nav');
    if(isMobile()){
      document.body.setAttribute('data-nav', current==='open' ? 'closed' : 'open');
    } else {
      document.body.setAttribute('data-nav', current==='closed' ? 'open' : 'closed');
    }
  };

  window.closeSidenav=function(){
    // Only closes on mobile; on desktop sidebar never closes on nav-item click
    if(isMobile()){
      document.body.setAttribute('data-nav','closed');
    }
  };

  // On window resize: re-initialise state so desktop/mobile defaults are correct
  var resizeTimer;
  window.addEventListener('resize',function(){
    clearTimeout(resizeTimer);
    resizeTimer=setTimeout(function(){
      // If crossing breakpoint, reset to correct default
      document.body.setAttribute('data-nav', isMobile() ? 'closed' : 'open');
    },150);
  });

  // Init on DOM ready
  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded',initNav);
  } else {
    initNav();
  }
}());
function toggleSnavGroup(id){
  var grp=document.getElementById(id);
  if(grp)grp.classList.toggle('collapsed');
}
// Keep sidebar IST clock ticking
function updateSnavIstClock(){
  var n=new Date();
  var ms=n.getTime()+getOffsetMinutes(n,'Asia/Kolkata')*60000;
  var h=Math.floor(((ms%86400000)+86400000)%86400000/3600000);
  var m=Math.floor((((ms%86400000)+86400000)%86400000%3600000)/60000);
  var s=Math.floor((((ms%86400000)+86400000)%86400000%60000)/1000);
  var el=document.getElementById('snavIstClock');
  if(el)el.textContent=pad(h)+':'+pad(m)+':'+pad(s);
}

function showTab(id,btn){
  document.querySelectorAll('.tab-panel').forEach(function(p){p.style.display='none';});
  var panel=document.getElementById(id);
  if(panel)panel.style.display='block';
  // clear all active states (both legacy tnav-btns and snav-btns)
  document.querySelectorAll('.tnav-btn,.snav-btn').forEach(function(b){b.classList.remove('active');});
  if(btn)btn.classList.add('active');
  // also sync the matching sidebar button
  var snavId='snav-'+id.replace('tab-','').replace('tzconv','tzconv').replace('duration','duration');
  var snavBtn=document.getElementById(snavId);
  if(snavBtn)snavBtn.classList.add('active');
  // expand the group that contains this button
  if(snavBtn){
    var grp=snavBtn.closest('.snav-group');
    if(grp)grp.classList.remove('collapsed');
  }
  if(id==='tab-worldclock'){buildWorldClock();updateWorldClock();}
  if(id==='tab-home'){buildDiffCards();buildInstantCityClocks();updateInstantCityClocks();}
  if(id==='tab-callnow'){buildCallSelect();updateCallWidget();}
  if(id==='tab-dst'){buildDstCountdowns();}
  if(id==='tab-meeting'){buildMeetingGrid();}
  if(id==='tab-abbr'){var ai=document.getElementById('abbrInput');if(ai&&ai.value)decodeAbbr();}
  if(id==='tab-duration'){buildDateCalc();}
  if(id==='tab-market'){buildMarketTab();}
  if(id==='tab-shift'){buildShiftPlan();}
  if(id==='tab-holidays'){buildHolidayTab();}
  window.location.hash=id.replace('tab-','').replace('tzconv','convert').replace('duration','date');
}
function toggleAccordion(header){var body=header.nextElementSibling,isOpen=body.classList.contains('open');body.classList.toggle('open',!isOpen);header.classList.toggle('open',!isOpen);header.setAttribute('aria-expanded',String(!isOpen))}
document.addEventListener('keydown',function(e){if((e.key==='Enter'||e.key===' ')&&e.target.classList.contains('accordion-header')){e.preventDefault();toggleAccordion(e.target)}});
function buildUtcIstTable(){
  var tbody=document.getElementById('utcIstTableBody');
  if(!tbody)return;
  var rows='';
  for(var h=0;h<24;h++){
    var istH=(h*60+330)%1440,istHH=Math.floor(istH/60),istMM=istH%60;
    var estH=((h-5)*60+1440)%1440,estHH=Math.floor(estH/60),estMM=estH%60;
    var pstH=((h-8)*60+1440)%1440,pstHH=Math.floor(pstH/60),pstMM=pstH%60;
    var istStr=pad(istHH)+':'+pad(istMM);
    var estDay=(h<5)?'<span style="font-size:0.7rem;color:#c0392b;">-1d</span>':'';
    var pstDay=(h<8)?'<span style="font-size:0.7rem;color:#c0392b;">-1d</span>':'';
    var istNextDay=(h>=19)?'<span style="font-size:0.7rem;color:#0a54a0;">+1d</span>':'';
    var bg=h%2===0?'#fff':'#f5f8fd';
    rows+='<tr style="background:'+bg+';cursor:pointer;" onclick="copyIst(\''+istStr+'\')" title="Click to copy '+istStr+' IST">'
      +'<td style="padding:7px 12px;text-align:center;font-family:monospace;font-weight:600;color:#3d4651;">'+pad(h)+':00</td>'
      +'<td style="padding:7px 12px;text-align:center;font-family:monospace;font-weight:700;color:#0a54a0;background:#e6f0fa;">'+istStr+' '+istNextDay+'</td>'
      +'<td style="padding:7px 12px;text-align:center;font-family:monospace;color:#555;">'+pad(estHH)+':'+pad(estMM)+' '+estDay+'</td>'
      +'<td style="padding:7px 12px;text-align:center;font-family:monospace;color:#555;">'+pad(pstHH)+':'+pad(pstMM)+' '+pstDay+'</td>'
      +'<td style="padding:7px 12px;text-align:center;font-family:monospace;color:#555;">'+pad(h)+':00</td>'
      +'</tr>';
  }
  tbody.innerHTML=rows;
}
function copyIst(t){
  navigator.clipboard.writeText(t).then(function(){
    var el=document.createElement('div');
    el.textContent='Copied: '+t+' IST';
    el.style.cssText='position:fixed;bottom:2rem;left:50%;transform:translateX(-50%);background:#0a54a0;color:#fff;padding:0.6rem 1.4rem;border-radius:8px;font-size:1rem;z-index:9999;box-shadow:0 4px 16px rgba(0,0,0,0.2);';
    document.body.appendChild(el);
    setTimeout(function(){el.remove()},1800);
  });
}
/* ===== NSE/BSE MARKET HOURS ===== */
function buildMarketTab(){
  var now=new Date();
  var istMs=now.getTime()+getOffsetMinutes(now,'Asia/Kolkata')*60000;
  var istH=Math.floor(((istMs%86400000)+86400000)%86400000/3600000);
  var istM=Math.floor((((istMs%86400000)+86400000)%86400000%3600000)/60000);
  var istTotalMin=istH*60+istM;
  var dayOfWeek=new Date(istMs-(istMs%86400000)-330*60000).getUTCDay();
  // Sessions: Pre-open 09:00-09:15, Regular 09:15-15:30, Post-close 15:40-16:00
  var sessions=[
    {name:'Pre-Market Open',open:9*60,close:9*60+15,color:'#f59e0b',bg:'#fffbeb'},
    {name:'Regular Trading',open:9*60+15,close:15*60+30,color:'#10b981',bg:'#ecfdf5'},
    {name:'Post-Market',open:15*60+40,close:16*60,color:'#6366f1',bg:'#eef2ff'}
  ];
  var isWeekday=dayOfWeek>=1&&dayOfWeek<=5;
  var html='<div style="background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e0eaff;margin-bottom:1.5rem;">';
  html+='<div style="text-align:center;margin-bottom:1rem;">';
  html+='<div style="font-size:0.85rem;color:#637381;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;">Current IST</div>';
  html+='<div id="mktIstClock" style="font-size:2.2rem;font-weight:800;font-family:monospace;color:#0a54a0;">'+pad(istH)+':'+pad(istM)+'</div>';
  html+='<div style="font-size:0.85rem;color:#888;">'+(isWeekday?'Weekday':'Weekend — Markets Closed')+'</div>';
  html+='</div>';
  sessions.forEach(function(s){
    var active=isWeekday&&istTotalMin>=s.open&&istTotalMin<s.close;
    var ended=isWeekday&&istTotalMin>=s.close;
    var status=!isWeekday?'Weekend':active?'OPEN NOW':ended?'Closed':'Not started yet';
    var statusColor=active?s.color:ended?'#9ca3af':'#6b7280';
    html+='<div style="display:flex;justify-content:space-between;align-items:center;padding:0.75rem 1rem;border-radius:8px;margin-bottom:0.5rem;background:'+(active?s.bg:'#f9fbfd')+';border:1.5px solid '+(active?s.color:'#e0eaff')+'">';
    html+='<div><div style="font-weight:700;color:#1e293b;">'+s.name+'</div>';
    html+='<div style="font-size:0.82rem;color:#637381;">'+pad(Math.floor(s.open/60))+':'+pad(s.open%60)+' &ndash; '+pad(Math.floor(s.close/60))+':'+pad(s.close%60)+' IST</div></div>';
    html+='<div style="font-weight:700;font-size:0.9rem;color:'+statusColor+';">'+(active?'&#x1F7E2; ':ended?'&#x26AA; ':'&#x26AA; ')+status+'</div>';
    html+='</div>';
  });
  html+='</div>';
  // Convert to major zones
  var zones=[
    {city:'New York',tz:'America/New_York'},{city:'London',tz:'Europe/London'},
    {city:'Dubai',tz:'Asia/Dubai'},{city:'Singapore',tz:'Asia/Singapore'},{city:'Tokyo',tz:'Asia/Tokyo'}
  ];
  html+='<h3 style="font-size:1rem;color:#0a54a0;font-weight:700;margin-bottom:0.75rem;">NSE Regular Session (9:15 AM &ndash; 3:30 PM IST) in other timezones</h3>';
  html+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:0.75rem;">';
  zones.forEach(function(z){
    var openDate=new Date();openDate.setUTCHours(0,0,0,0);
    var mktOpenUTC=new Date(openDate.getTime()+(9*60+15-330)*60000);
    var mktCloseUTC=new Date(openDate.getTime()+(15*60+30-330)*60000);
    var openLocal=meetingLocalTime(mktOpenUTC,z.tz);
    var closeLocal=meetingLocalTime(mktCloseUTC,z.tz);
    html+='<div style="background:#f3f6fb;border-radius:8px;padding:0.75rem;border:1px solid #e0eaff;text-align:center;">';
    html+='<div style="font-size:0.75rem;font-weight:700;color:#637381;text-transform:uppercase;">'+z.city+'</div>';
    html+='<div style="font-size:1rem;font-weight:700;font-family:monospace;color:#0a54a0;">'+openLocal+' &ndash; '+closeLocal+'</div>';
    html+='</div>';
  });
  html+='</div>';
  var el=document.getElementById('marketContent');
  if(el)el.innerHTML=html;
  // Live clock update
  clearInterval(window._mktTimer);
  window._mktTimer=setInterval(function(){
    var n=new Date(),ms=n.getTime()+getOffsetMinutes(n,'Asia/Kolkata')*60000;
    var h2=Math.floor(((ms%86400000)+86400000)%86400000/3600000);
    var m2=Math.floor((((ms%86400000)+86400000)%86400000%3600000)/60000);
    var el2=document.getElementById('mktIstClock');
    if(el2)el2.textContent=pad(h2)+':'+pad(m2);
  },1000);
}

/* ===== INDIA SHIFT PLANNER ===== */
var SHIFT_PRESETS=[
  {label:'US Morning (9 AM ET)',utcH:14,utcM:0},
  {label:'US Afternoon (1 PM ET)',utcH:18,utcM:0},
  {label:'US End of Day (5 PM ET)',utcH:22,utcM:0},
  {label:'UK Morning (9 AM GMT)',utcH:9,utcM:0},
  {label:'UK Afternoon (2 PM GMT)',utcH:14,utcM:0},
  {label:'Dubai Morning (9 AM GST)',utcH:5,utcM:0}
];
function buildShiftPlan(){
  var sh=parseInt(document.getElementById('shiftStartH').value)||9;
  var sm=parseInt(document.getElementById('shiftStartM').value)||0;
  var eh=parseInt(document.getElementById('shiftEndH').value)||18;
  var em=parseInt(document.getElementById('shiftEndM').value)||0;
  var tz=document.getElementById('shiftTz').value||'America/New_York';
  // Convert shift start/end from selected TZ to IST
  var refDate=new Date();refDate.setUTCHours(0,0,0,0);
  var tzOffMin=getOffsetMinutes(refDate,tz);
  var istOffMin=330;
  var diffMin=istOffMin-tzOffMin;
  var istStartMin=(sh*60+sm+diffMin+1440)%1440;
  var istEndMin=(eh*60+em+diffMin+1440)%1440;
  var fmtMin=function(m){return pad(Math.floor(m/60))+':'+pad(m%60);};
  var crossMidnight=istEndMin<istStartMin;
  var html='<div style="background:#e6f9ee;border-radius:10px;padding:1.2rem 1.5rem;margin-top:1rem;border:1.5px solid #86efac;">';
  html+='<div style="font-size:0.82rem;color:#14532d;font-weight:600;margin-bottom:0.5rem;">Your India (IST) working hours:</div>';
  html+='<div style="font-size:2rem;font-weight:800;color:#065f46;font-family:monospace;">'+fmtMin(istStartMin)+' &ndash; '+fmtMin(istEndMin)+' IST</div>';
  if(crossMidnight)html+='<div style="font-size:0.8rem;color:#b45309;margin-top:0.3rem;">&#9888; Crosses midnight &mdash; ends next calendar day</div>';
  html+='<div style="font-size:0.82rem;color:#637381;margin-top:0.3rem;">Tip: IST does not observe DST &mdash; offset is fixed at UTC+5:30</div>';
  html+='</div>';
  // Also show all major zones
  var allZones=[
    {city:'IST (India)',tz:'Asia/Kolkata'},
    {city:'New York (ET)',tz:'America/New_York'},
    {city:'Los Angeles (PT)',tz:'America/Los_Angeles'},
    {city:'London',tz:'Europe/London'},
    {city:'Dubai',tz:'Asia/Dubai'},
    {city:'Singapore',tz:'Asia/Singapore'}
  ];
  html+='<div style="margin-top:1.2rem;"><div style="font-weight:700;font-size:0.9rem;color:#0a54a0;margin-bottom:0.5rem;">Same shift in other cities:</div>';
  html+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:0.5rem;">';
  allZones.forEach(function(z){
    var zOff=getOffsetMinutes(refDate,z.tz);
    var istOff=330;
    var d=zOff-istOff;
    var zStart=(istStartMin+d+1440*2)%1440;
    var zEnd=(istEndMin+d+1440*2)%1440;
    html+='<div style="background:#f3f6fb;border-radius:8px;padding:0.6rem 0.9rem;border:1px solid #e0eaff;">';
    html+='<div style="font-size:0.75rem;font-weight:700;color:#637381;text-transform:uppercase;">'+z.city+'</div>';
    html+='<div style="font-size:0.95rem;font-weight:700;font-family:monospace;color:#0a54a0;">'+fmtMin(zStart)+' &ndash; '+fmtMin(zEnd)+'</div>';
    html+='</div>';
  });
  html+='</div></div>';
  document.getElementById('shiftResult').innerHTML=html;
}
function shiftPreset(idx){
  var p=SHIFT_PRESETS[idx];
  document.getElementById('shiftStartH').value=p.utcH;
  document.getElementById('shiftStartM').value=p.utcM;
  var endH=(p.utcH+9)%24;
  document.getElementById('shiftEndH').value=endH;
  document.getElementById('shiftEndM').value=p.utcM;
  buildShiftPlan();
}

/* ===== STATE-WISE INDIA HOLIDAYS 2026 ===== */
// Source: India Ministry of Personnel circular + india.gov.in official calendar
// G = Gazetted (mandatory), R = Restricted, Non-Gaz = Non-Gazetted
var INDIA_HOLIDAYS_2026=[
  {date:'2026-01-01',name:'New Year\'s Day',states:'All'},
  {date:'2026-01-14',name:'Makar Sankranti / Pongal',states:'TN,AP,TG,KA,GJ,MH,UP,UK'},
  {date:'2026-01-26',name:'Republic Day',states:'All'},
  {date:'2026-02-26',name:'Maha Shivaratri',states:'All'},
  {date:'2026-03-04',name:'Holi',states:'All'},
  {date:'2026-03-21',name:'Eid ul-Fitr (Id-ul-Fitr)',states:'All'},
  {date:'2026-03-26',name:'Ram Navami',states:'All'},
  {date:'2026-03-31',name:'Mahavir Jayanti',states:'All'},
  {date:'2026-04-03',name:'Good Friday',states:'All'},
  {date:'2026-04-14',name:'Ambedkar Jayanti / Tamil New Year',states:'All'},
  {date:'2026-05-01',name:'Labour Day / Maharashtra Day',states:'All'},
  {date:'2026-05-01',name:'Buddha Purnima',states:'All'},
  {date:'2026-06-27',name:'Eid ul-Adha (Bakrid)',states:'All'},
  {date:'2026-07-17',name:'Muharram (Ashura)',states:'All'},
  {date:'2026-08-15',name:'Independence Day',states:'All'},
  {date:'2026-08-22',name:'Janmashtami',states:'All'},
  {date:'2026-09-05',name:'Milad-un-Nabi (Eid-e-Milad)',states:'All'},
  {date:'2026-09-05',name:'Teachers\' Day',states:'Non-Gazetted'},
  {date:'2026-10-02',name:'Gandhi Jayanti',states:'All'},
  {date:'2026-10-21',name:'Dussehra (Vijayadashami)',states:'All'},
  {date:'2026-10-28',name:'Diwali (Naraka Chaturdashi)',states:'All'},
  {date:'2026-10-29',name:'Diwali (Lakshmi Puja)',states:'All'},
  {date:'2026-11-02',name:'Chhath Puja',states:'BR,JH,UP,UK'},
  {date:'2026-11-24',name:'Guru Nanak Jayanti',states:'All'},
  {date:'2026-12-25',name:'Christmas Day',states:'All'}
];
function buildHolidayTab(){
  var stateFilter=document.getElementById('holidayState')?document.getElementById('holidayState').value:'All';
  var today=new Date();today.setHours(0,0,0,0);
  var filtered=INDIA_HOLIDAYS_2026.filter(function(h){
    return h.states==='All'||h.states==='Non-Gazetted'||stateFilter==='All'||h.states.split(',').indexOf(stateFilter)>=0;
  });
  var upcoming=filtered.filter(function(h){return new Date(h.date)>=today;});
  var past=filtered.filter(function(h){return new Date(h.date)<today;});
  var html='';
  if(upcoming.length>0){
    html+='<div style="margin-bottom:0.5rem;font-weight:700;font-size:0.9rem;color:#0a54a0;">Upcoming ('+upcoming.length+')</div>';
    upcoming.forEach(function(h,i){
      var d=new Date(h.date);
      var diff=Math.round((d-today)/86400000);
      var diffStr=diff===0?'Today':diff===1?'Tomorrow':'in '+diff+' days';
      var isNear=diff<=7;
      html+='<div style="display:flex;justify-content:space-between;align-items:center;padding:0.65rem 1rem;border-radius:8px;margin-bottom:0.4rem;background:'+(i%2===0?'#f9fbfd':'#fff')+';border:1px solid '+(isNear?'#f59e0b':'#e0eaff')+'">';
      html+='<div><div style="font-weight:600;color:#1e293b;">'+h.name+'</div>';
      html+='<div style="font-size:0.78rem;color:#637381;">'+d.toLocaleDateString('en-IN',{weekday:'short',day:'numeric',month:'short',year:'numeric'})+(h.states!=='All'?' &bull; '+h.states:'')+'</div></div>';
      html+='<div style="font-size:0.82rem;font-weight:700;color:'+(isNear?'#b45309':'#637381')+';">'+diffStr+'</div>';
      html+='</div>';
    });
  }
  if(past.length>0){
    html+='<details style="margin-top:1rem;"><summary style="font-weight:700;font-size:0.9rem;color:#637381;cursor:pointer;">Past holidays ('+past.length+')</summary><div style="margin-top:0.5rem;">';
    past.slice().reverse().forEach(function(h,i){
      var d=new Date(h.date);
      html+='<div style="display:flex;justify-content:space-between;align-items:center;padding:0.5rem 1rem;border-radius:8px;margin-bottom:0.3rem;background:#f3f6fb;opacity:0.7;">';
      html+='<div><div style="font-weight:600;color:#374151;">'+h.name+'</div>';
      html+='<div style="font-size:0.75rem;color:#9ca3af;">'+d.toLocaleDateString('en-IN',{weekday:'short',day:'numeric',month:'short'})+'</div></div>';
      html+='<div style="font-size:0.78rem;color:#9ca3af;">Passed</div></div>';
    });
    html+='</div></details>';
  }
  var el=document.getElementById('holidayList');
  if(el)el.innerHTML=html;
}

/* ===== 183-DAY NRI TRACKER ===== */
function calc183(){
  var fyStart=document.getElementById('nriFyStart').value;
  var trips=[];
  for(var i=1;i<=5;i++){
    var s=document.getElementById('nriTrip'+i+'S').value;
    var e=document.getElementById('nriTrip'+i+'E').value;
    if(s&&e)trips.push({s:new Date(s),e:new Date(e)});
  }
  if(!fyStart){document.getElementById('nriResult').innerHTML='<span style="color:#c0392b;">Please enter financial year start date.</span>';return;}
  var fy=new Date(fyStart);var fyEnd=new Date(fy);fyEnd.setFullYear(fyEnd.getFullYear()+1);fyEnd.setDate(fyEnd.getDate()-1);
  // Count days inside India
  var daysInIndia=0;
  var d=new Date(fy);
  while(d<=fyEnd){
    var inIndia=true;
    trips.forEach(function(t){if(d>=t.s&&d<=t.e)inIndia=false;});
    if(inIndia)daysInIndia++;
    d.setDate(d.getDate()+1);
  }
  var remaining183=183-daysInIndia;
  var status=daysInIndia>=183?'RESIDENT':'NRI';
  var statusColor=daysInIndia>=183?'#dc2626':'#16a34a';
  var today=new Date();today.setHours(0,0,0,0);
  var daysLeft=Math.round((fyEnd-today)/86400000);
  var html='<div style="background:#f9fbfd;border-radius:10px;padding:1.2rem 1.5rem;border:1.5px solid #e0eaff;margin-top:1rem;">';
  html+='<div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem;text-align:center;margin-bottom:1rem;">';
  html+='<div><div style="font-size:0.75rem;color:#637381;font-weight:600;text-transform:uppercase;">Days in India</div><div style="font-size:2rem;font-weight:800;color:#0a54a0;">'+daysInIndia+'</div></div>';
  html+='<div><div style="font-size:0.75rem;color:#637381;font-weight:600;text-transform:uppercase;">Days remaining to 183</div><div style="font-size:2rem;font-weight:800;color:'+(remaining183>0?'#b45309':'#16a34a')+';">'+Math.max(0,remaining183)+'</div></div>';
  html+='<div><div style="font-size:0.75rem;color:#637381;font-weight:600;text-transform:uppercase;">Tax Status</div><div style="font-size:1.5rem;font-weight:800;color:'+statusColor+';">'+status+'</div></div>';
  html+='</div>';
  html+='<div style="font-size:0.82rem;color:#637381;">FY: '+fy.toLocaleDateString('en-IN',{day:'numeric',month:'short',year:'numeric'})+' &ndash; '+fyEnd.toLocaleDateString('en-IN',{day:'numeric',month:'short',year:'numeric'})+' &bull; '+daysLeft+' days left in FY</div>';
  html+='<div style="font-size:0.78rem;color:#9ca3af;margin-top:0.4rem;">&#9432; If you spend 183+ days in India in a financial year, you are classified as a Resident for tax purposes. Consult a CA for official advice.</div>';
  html+='</div>';
  document.getElementById('nriResult').innerHTML=html;
}

/* ===== INVOICE DUE DATE CALCULATOR ===== */
function calcInvoice(){
  var invDate=document.getElementById('invoiceDate').value;
  var terms=[30,45,60,90];
  if(!invDate){document.getElementById('invoiceResult').innerHTML='<span style="color:#c0392b;">Please select invoice date.</span>';return;}
  var base=new Date(invDate);
  var today=new Date();today.setHours(0,0,0,0);
  var html='<div style="margin-top:1rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:0.75rem;">';
  terms.forEach(function(t){
    var due=new Date(base);due.setDate(due.getDate()+t);
    var diff=Math.round((due-today)/86400000);
    var overdue=diff<0;
    var dueToday=diff===0;
    html+='<div style="background:'+(overdue?'#fef2f2':dueToday?'#fffbeb':'#f0fdf4')+';border-radius:10px;padding:1rem;border:1.5px solid '+(overdue?'#fca5a5':dueToday?'#fcd34d':'#86efac')+';text-align:center;">';
    html+='<div style="font-size:0.75rem;font-weight:700;color:#637381;text-transform:uppercase;">Net '+t+'</div>';
    html+='<div style="font-size:1.1rem;font-weight:800;color:#0a54a0;margin:0.3rem 0;">'+due.toLocaleDateString('en-IN',{weekday:'short',day:'numeric',month:'short',year:'numeric'})+'</div>';
    html+='<div style="font-size:0.82rem;font-weight:700;color:'+(overdue?'#dc2626':dueToday?'#d97706':'#16a34a')+';">'+( overdue?'Overdue by '+Math.abs(diff)+' days':dueToday?'Due Today':'In '+diff+' days')+'</div>';
    html+='</div>';
  });
  html+='</div>';
  // Custom term
  var custom=parseInt(document.getElementById('invoiceCustom').value);
  if(custom>0){
    var due2=new Date(base);due2.setDate(due2.getDate()+custom);
    var diff2=Math.round((due2-today)/86400000);
    var ov2=diff2<0;
    html+='<div style="margin-top:0.75rem;background:'+(ov2?'#fef2f2':'#f0fdf4')+';border-radius:10px;padding:1rem;border:1.5px solid '+(ov2?'#fca5a5':'#86efac')+';">';
    html+='<span style="font-weight:700;">Net '+custom+':</span> '+due2.toLocaleDateString('en-IN',{weekday:'long',day:'numeric',month:'long',year:'numeric'})+'<span style="margin-left:0.5rem;font-weight:700;color:'+(ov2?'#dc2626':'#16a34a')+';">('+(ov2?'Overdue '+Math.abs(diff2)+'d':'In '+diff2+'d')+')</span>';
    html+='</div>';
  }
  document.getElementById('invoiceResult').innerHTML=html;
}

/* ===== NOTICE / PROBATION CALCULATOR ===== */
function calcNotice(){
  var startDate=document.getElementById('noticeStart').value;
  var noticeDays=parseInt(document.getElementById('noticeDays').value)||30;
  var probDays=parseInt(document.getElementById('probDays').value)||90;
  if(!startDate){document.getElementById('noticeResult').innerHTML='<span style="color:#c0392b;">Please select a start date.</span>';return;}
  var start=new Date(startDate);
  var today=new Date();today.setHours(0,0,0,0);
  var noticeEnd=new Date(start);noticeEnd.setDate(noticeEnd.getDate()+noticeDays-1);
  var probEnd=new Date(start);probEnd.setDate(probEnd.getDate()+probDays-1);
  var diffNotice=Math.round((noticeEnd-today)/86400000);
  var diffProb=Math.round((probEnd-today)/86400000);
  var noticeDone=diffNotice<0;var probDone=diffProb<0;
  var fmt=function(d){return d.toLocaleDateString('en-IN',{weekday:'long',day:'numeric',month:'long',year:'numeric'});};
  var html='<div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-top:1rem;">';
  html+='<div style="background:'+(noticeDone?'#f0fdf4':'#fffbeb')+';border-radius:10px;padding:1.1rem;border:1.5px solid '+(noticeDone?'#86efac':'#fcd34d')+';">';
  html+='<div style="font-size:0.75rem;font-weight:700;color:#637381;text-transform:uppercase;margin-bottom:0.3rem;">Notice Period End</div>';
  html+='<div style="font-size:1rem;font-weight:700;color:#0a54a0;">'+fmt(noticeEnd)+'</div>';
  html+='<div style="font-size:0.85rem;font-weight:700;color:'+(noticeDone?'#16a34a':'#d97706')+';">&#9679; '+(noticeDone?'Completed':'In '+diffNotice+' days')+'</div>';
  html+='<div style="font-size:0.75rem;color:#9ca3af;margin-top:0.25rem;">'+noticeDays+' calendar days from joining</div>';
  html+='</div>';
  html+='<div style="background:'+(probDone?'#f0fdf4':'#eff6ff')+';border-radius:10px;padding:1.1rem;border:1.5px solid '+(probDone?'#86efac':'#93c5fd')+';">';
  html+='<div style="font-size:0.75rem;font-weight:700;color:#637381;text-transform:uppercase;margin-bottom:0.3rem;">Probation End</div>';
  html+='<div style="font-size:1rem;font-weight:700;color:#0a54a0;">'+fmt(probEnd)+'</div>';
  html+='<div style="font-size:0.85rem;font-weight:700;color:'+(probDone?'#16a34a':'#3b82f6')+';">&#9679; '+(probDone?'Completed':'In '+diffProb+' days')+'</div>';
  html+='<div style="font-size:0.75rem;color:#9ca3af;margin-top:0.25rem;">'+probDays+' calendar days from joining</div>';
  html+='</div></div>';
  var daysWorked=Math.max(0,Math.round((today-start)/86400000));
  html+='<div style="margin-top:0.75rem;background:#f9fbfd;border-radius:8px;padding:0.75rem 1rem;border:1px solid #e0eaff;font-size:0.85rem;color:#637381;">';
  html+='Days worked so far: <strong>'+daysWorked+'</strong> &bull; Joined: <strong>'+fmt(start)+'</strong>';
  html+='</div>';
  document.getElementById('noticeResult').innerHTML=html;
}

document.addEventListener('DOMContentLoaded',function(){
  // ── Critical path: hero clock + nav (paint-blocking if omitted) ──
  updateHeroClock();updateSnavIstClock();
  setInterval(function(){updateCurrentTime();updateHeroClock();updateInstantCityClocks();updateSnavIstClock();},1000);

  // ── Home tab essentials ──
  populateTzSelects();populateQcSelects();
  buildPeSelect();
  buildUtcIstTable();
  buildDiffCards();
  buildInstantCityClocks();updateInstantCityClocks();

  // ── Wire up static buttons ──
  document.getElementById('convertLocalToUTCBtn').addEventListener('click',convertLocalToUTC);
  document.getElementById('convertUTCToLocalBtn').addEventListener('click',convertUTCToLocal);

  // ── Route to correct tab first (may be a deep-link) ──
  routeFromHash();

  // ── Defer all heavy per-tab inits until after first paint ──
  setTimeout(function(){
    // Epoch live ticker
    updateLiveEpoch();setInterval(updateLiveEpoch,1000);

    // Pre-fill today's date fields
    var now=new Date(),pad2=function(n){return String(n).padStart(2,'0')};
    var todayStr=now.getFullYear()+'-'+pad2(now.getMonth()+1)+'-'+pad2(now.getDate());
    var invEl=document.getElementById('invoiceDate');if(invEl){invEl.value=todayStr;calcInvoice();}
    var noticeEl=document.getElementById('noticeStart');if(noticeEl){noticeEl.value=todayStr;calcNotice();}
    var md=document.getElementById('meetingDate');if(md){md.value=todayStr;}

    // Heavy tab builds — only if that tab is currently active, otherwise lazy on first open
    var activeTab=document.querySelector('.tab-panel.active');
    var activeId=activeTab?activeTab.id:'tab-home';
    if(activeId==='tab-worldclock'){buildWorldClock();updateWorldClock();setInterval(updateWorldClock,1000);}
    else{setInterval(function(){if(document.getElementById('tab-worldclock').style.display!=='none')updateWorldClock();},1000);}
    if(activeId==='tab-meeting'){var md2=document.getElementById('meetingDate');if(md2)buildMeetingGrid();}
    if(activeId==='tab-callnow'){buildCallSelect();updateCallWidget();}
    if(activeId==='tab-dst'){buildDstCountdowns();}
    if(activeId==='tab-market'){buildMarketTab();}
    if(activeId==='tab-shift'){buildShiftPlan();}
    if(activeId==='tab-holidays'){buildHolidayTab();}
    if(activeId==='tab-duration'){buildDateCalc();}

    // Periodic refresh for market + call widget (lightweight intervals)
    setInterval(buildMarketTab,30000);
    setInterval(function(){if(document.getElementById('tab-callnow').style.display!=='none')updateCallWidget();},60000);
    setInterval(function(){if(document.getElementById('tab-dst').style.display!=='none')buildDstCountdowns();},60000);
  },0);
});
</script>
<!-- Deferred non-critical scripts: AdSense + large JSON-LD moved here to unblock FCP -->
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebApplication","name":"WorkIndia","url":"https://harshit1711.github.io/","applicationCategory":"UtilitiesApplication","operatingSystem":"Any","browserRequirements":"Requires JavaScript","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free web app for global professionals working with India. Check if India is open right now, convert timezones, view NSE/BSE market hours, browse India public holidays, plan team shift overlaps, track NRI 183-day residency, calculate invoice due dates and notice periods.","featureList":"Live IST clock, India office hours status, EST/PST/GMT to IST converter, NSE BSE market hours, India public holidays, shift overlap planner, NRI 183-day tracker, invoice due date calculator, notice period calculator, epoch converter, DST tracker"}
</script>
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"How do I convert UTC to IST?","acceptedAnswer":{"@type":"Answer","text":"Add 5 hours and 30 minutes to UTC. For example, 12:00 UTC = 17:30 IST. IST is UTC+5:30."}},{"@type":"Question","name":"What is IST time now?","acceptedAnswer":{"@type":"Answer","text":"IST (India Standard Time) is UTC+5:30. This tool shows the live current IST time updated every second."}},{"@type":"Question","name":"What is the difference between UTC and GMT?","acceptedAnswer":{"@type":"Answer","text":"GMT is a time zone; UTC is a time standard. They show the same time but UTC is more precise and universally used in computing."}},{"@type":"Question","name":"How to convert EST to IST?","acceptedAnswer":{"@type":"Answer","text":"Add 10 hours and 30 minutes to EST to get IST. EST is UTC-5:00 and IST is UTC+5:30, a difference of 10.5 hours. For example: 9 AM EST = 7:30 PM IST, 12 PM EST = 10:30 PM IST, 5 PM EST = 3:30 AM IST (next day)."}},{"@type":"Question","name":"What is 9 AM EST in India time?","acceptedAnswer":{"@type":"Answer","text":"9 AM EST is 7:30 PM IST. India (IST) is 10 hours and 30 minutes ahead of US Eastern Standard Time (EST)."}},{"@type":"Question","name":"What is 9 AM PST in India time?","acceptedAnswer":{"@type":"Answer","text":"9 AM PST is 10:30 PM IST. India (IST) is 13 hours and 30 minutes ahead of US Pacific Standard Time (PST)."}},{"@type":"Question","name":"What is 5 PM London time in India?","acceptedAnswer":{"@type":"Answer","text":"5 PM GMT (London) is 10:30 PM IST. India is 5 hours and 30 minutes ahead of UK GMT. In UK summer (BST), India is 4 hours 30 minutes ahead."}},{"@type":"Question","name":"What is 12 PM EST in IST?","acceptedAnswer":{"@type":"Answer","text":"12 PM (noon) EST is 10:30 PM IST the same day. EST is UTC-5 and IST is UTC+5:30, so add 10 hours 30 minutes."}},{"@type":"Question","name":"What is 8 AM EST in India time?","acceptedAnswer":{"@type":"Answer","text":"8 AM EST is 6:30 PM IST. India is 10 hours 30 minutes ahead of Eastern Standard Time."}},{"@type":"Question","name":"What is 6 PM EST in IST?","acceptedAnswer":{"@type":"Answer","text":"6 PM EST is 4:30 AM IST the next day. When US East Coast is in the evening, India is already in the early morning of the next day."}},{"@type":"Question","name":"Does India observe Daylight Saving Time?","acceptedAnswer":{"@type":"Answer","text":"No. India does not observe Daylight Saving Time. IST is always UTC+5:30, year-round. This makes India a very stable timezone for scheduling."}},{"@type":"Question","name":"What is the time difference between India and USA?","acceptedAnswer":{"@type":"Answer","text":"India (IST) is 10 hours 30 minutes ahead of US Eastern time (EST/EDT). India is 13 hours 30 minutes ahead of US Pacific time (PST). India is 11 hours 30 minutes ahead of US Central time (CST)."}},{"@type":"Question","name":"What is the time difference between India and UK?","acceptedAnswer":{"@type":"Answer","text":"India (IST) is 5 hours 30 minutes ahead of UK GMT in winter, and 4 hours 30 minutes ahead of UK BST in summer. India does not change its clocks."}},{"@type":"Question","name":"How to convert PST to IST?","acceptedAnswer":{"@type":"Answer","text":"Add 13 hours and 30 minutes to PST to get IST. PST is UTC-8:00 and IST is UTC+5:30, a difference of 13.5 hours. For example: 9 AM PST = 10:30 PM IST, 12 PM PST = 1:30 AM IST (next day)."}},{"@type":"Question","name":"What is a Unix epoch timestamp?","acceptedAnswer":{"@type":"Answer","text":"A Unix timestamp is the number of seconds since January 1, 1970 00:00:00 UTC. Use the Epoch tab to convert between timestamps and readable dates."}},{"@type":"Question","name":"Why should developers store timestamps in UTC?","acceptedAnswer":{"@type":"Answer","text":"Storing timestamps in UTC avoids daylight saving confusion and ensures consistency across servers and databases worldwide."}},{"@type":"Question","name":"Does this timezone converter work offline?","acceptedAnswer":{"@type":"Answer","text":"Yes. Once the page is loaded, all calculations run locally in your browser with no internet connection required."}},{"@type":"Question","name":"How do I calculate days between two dates?","acceptedAnswer":{"@type":"Answer","text":"Use the Date Calculator tab on this site. Enter a start and end date and it instantly shows the exact number of days, weeks, and months between them. No calculation needed — the answer appears immediately."}},{"@type":"Question","name":"How many business days are between two dates?","acceptedAnswer":{"@type":"Answer","text":"The Business Days Calculator on this site counts only Monday–Friday between any two dates, and separately shows how many weekend days fall in that range. Enter both dates and get the answer instantly."}},{"@type":"Question","name":"How old am I in days and hours?","acceptedAnswer":{"@type":"Answer","text":"Use the Age Calculator tab on this site. Enter your date of birth and it instantly shows your exact age in years, months, days, total days lived, total hours lived, and the number of days until your next birthday."}},{"@type":"Question","name":"Is 2028 a leap year?","acceptedAnswer":{"@type":"Answer","text":"Yes, 2028 is a leap year. It is divisible by 4 and not by 100, so it has 366 days with February 29. Use the Leap Year Checker on this site to check any year instantly."}},{"@type":"Question","name":"How many days until New Year 2026?","acceptedAnswer":{"@type":"Answer","text":"Use the Countdown tool on this site — click the 'New Year' button and it instantly shows the exact number of days, hours, and minutes until January 1, 2026. The answer updates live."}},{"@type":"Question","name":"How many days until Christmas 2025?","acceptedAnswer":{"@type":"Answer","text":"Click the 'Christmas' quick button in the Countdown section of our Date Calculator to instantly see how many days, hours, and minutes until December 25, 2025."}}]}
</script>
<script>window.addEventListener('load',function(){var s=document.createElement('script');s.async=true;s.src='https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7542838934089345';s.crossOrigin='anonymous';document.body.appendChild(s);});</script>
</body>
</html>
